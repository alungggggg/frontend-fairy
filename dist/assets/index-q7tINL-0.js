var VF=Object.defineProperty;var YE=n=>{throw TypeError(n)};var GF=(n,e,t)=>e in n?VF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Et=(n,e,t)=>GF(n,typeof e!="symbol"?e+"":e,t),P5=(n,e,t)=>e.has(n)||YE("Cannot "+t);var m=(n,e,t)=>(P5(n,e,"read from private field"),t?t.call(n):e.get(n)),te=(n,e,t)=>e.has(n)?YE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Y=(n,e,t,r)=>(P5(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Z=(n,e,t)=>(P5(n,e,"access private method"),t);var Hs=(n,e,t,r)=>({set _(i){Y(n,e,i,t)},get _(){return m(n,e,r)}});function KF(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function YF(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var H4={exports:{}},nx={},$4={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my=Symbol.for("react.element"),XF=Symbol.for("react.portal"),JF=Symbol.for("react.fragment"),QF=Symbol.for("react.strict_mode"),ZF=Symbol.for("react.profiler"),e8=Symbol.for("react.provider"),t8=Symbol.for("react.context"),n8=Symbol.for("react.forward_ref"),r8=Symbol.for("react.suspense"),i8=Symbol.for("react.memo"),s8=Symbol.for("react.lazy"),XE=Symbol.iterator;function a8(n){return n===null||typeof n!="object"?null:(n=XE&&n[XE]||n["@@iterator"],typeof n=="function"?n:null)}var q4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W4=Object.assign,V4={};function pm(n,e,t){this.props=n,this.context=e,this.refs=V4,this.updater=t||q4}pm.prototype.isReactComponent={};pm.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};pm.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function G4(){}G4.prototype=pm.prototype;function Mk(n,e,t){this.props=n,this.context=e,this.refs=V4,this.updater=t||q4}var Ok=Mk.prototype=new G4;Ok.constructor=Mk;W4(Ok,pm.prototype);Ok.isPureReactComponent=!0;var JE=Array.isArray,K4=Object.prototype.hasOwnProperty,Dk={current:null},Y4={key:!0,ref:!0,__self:!0,__source:!0};function X4(n,e,t){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)K4.call(e,r)&&!Y4.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in o=n.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:my,type:n,key:s,ref:a,props:i,_owner:Dk.current}}function o8(n,e){return{$$typeof:my,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Bk(n){return typeof n=="object"&&n!==null&&n.$$typeof===my}function l8(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var QE=/\/+/g;function L5(n,e){return typeof n=="object"&&n!==null&&n.key!=null?l8(""+n.key):e.toString(36)}function Tw(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case my:case XF:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+L5(a,0):r,JE(i)?(t="",n!=null&&(t=n.replace(QE,"$&/")+"/"),Tw(i,e,t,"",function(u){return u})):i!=null&&(Bk(i)&&(i=o8(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(QE,"$&/")+"/")+n)),e.push(i)),1;if(a=0,r=r===""?".":r+":",JE(n))for(var o=0;o<n.length;o++){s=n[o];var l=r+L5(s,o);a+=Tw(s,e,t,l,i)}else if(l=a8(n),typeof l=="function")for(n=l.call(n),o=0;!(s=n.next()).done;)s=s.value,l=r+L5(s,o++),a+=Tw(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function nw(n,e,t){if(n==null)return n;var r=[],i=0;return Tw(n,r,"","",function(s){return e.call(t,s,i++)}),r}function c8(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Zi={current:null},Rw={transition:null},u8={ReactCurrentDispatcher:Zi,ReactCurrentBatchConfig:Rw,ReactCurrentOwner:Dk};function J4(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:nw,forEach:function(n,e,t){nw(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return nw(n,function(){e++}),e},toArray:function(n){return nw(n,function(e){return e})||[]},only:function(n){if(!Bk(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Wt.Component=pm;Wt.Fragment=JF;Wt.Profiler=ZF;Wt.PureComponent=Mk;Wt.StrictMode=QF;Wt.Suspense=r8;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u8;Wt.act=J4;Wt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=W4({},n.props),i=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Dk.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)K4.call(e,l)&&!Y4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:my,type:n.type,key:i,ref:s,props:r,_owner:a}};Wt.createContext=function(n){return n={$$typeof:t8,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:e8,_context:n},n.Consumer=n};Wt.createElement=X4;Wt.createFactory=function(n){var e=X4.bind(null,n);return e.type=n,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(n){return{$$typeof:n8,render:n}};Wt.isValidElement=Bk;Wt.lazy=function(n){return{$$typeof:s8,_payload:{_status:-1,_result:n},_init:c8}};Wt.memo=function(n,e){return{$$typeof:i8,type:n,compare:e===void 0?null:e}};Wt.startTransition=function(n){var e=Rw.transition;Rw.transition={};try{n()}finally{Rw.transition=e}};Wt.unstable_act=J4;Wt.useCallback=function(n,e){return Zi.current.useCallback(n,e)};Wt.useContext=function(n){return Zi.current.useContext(n)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(n){return Zi.current.useDeferredValue(n)};Wt.useEffect=function(n,e){return Zi.current.useEffect(n,e)};Wt.useId=function(){return Zi.current.useId()};Wt.useImperativeHandle=function(n,e,t){return Zi.current.useImperativeHandle(n,e,t)};Wt.useInsertionEffect=function(n,e){return Zi.current.useInsertionEffect(n,e)};Wt.useLayoutEffect=function(n,e){return Zi.current.useLayoutEffect(n,e)};Wt.useMemo=function(n,e){return Zi.current.useMemo(n,e)};Wt.useReducer=function(n,e,t){return Zi.current.useReducer(n,e,t)};Wt.useRef=function(n){return Zi.current.useRef(n)};Wt.useState=function(n){return Zi.current.useState(n)};Wt.useSyncExternalStore=function(n,e,t){return Zi.current.useSyncExternalStore(n,e,t)};Wt.useTransition=function(){return Zi.current.useTransition()};Wt.version="18.3.1";$4.exports=Wt;var ie=$4.exports;const Qu=fm(ie),DS=KF({__proto__:null,default:Qu},[ie]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d8=ie,h8=Symbol.for("react.element"),f8=Symbol.for("react.fragment"),p8=Object.prototype.hasOwnProperty,g8=d8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m8={key:!0,ref:!0,__self:!0,__source:!0};function Q4(n,e,t){var r,i={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)p8.call(e,r)&&!m8.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:h8,type:n,key:s,ref:a,props:i,_owner:g8.current}}nx.Fragment=f8;nx.jsx=Q4;nx.jsxs=Q4;H4.exports=nx;var c=H4.exports,BS={},Z4={exports:{}},la={},eP={exports:{}},tP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(K,ee){var de=K.length;K.push(ee);e:for(;0<de;){var xe=de-1>>>1,M=K[xe];if(0<i(M,ee))K[xe]=ee,K[de]=M,de=xe;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ee=K[0],de=K.pop();if(de!==ee){K[0]=de;e:for(var xe=0,M=K.length,J=M>>>1;xe<J;){var B=2*(xe+1)-1,ae=K[B],le=B+1,ge=K[le];if(0>i(ae,de))le<M&&0>i(ge,ae)?(K[xe]=ge,K[le]=de,xe=le):(K[xe]=ae,K[B]=de,xe=B);else if(le<M&&0>i(ge,de))K[xe]=ge,K[le]=de,xe=le;else break e}}return ee}function i(K,ee){var de=K.sortIndex-ee.sortIndex;return de!==0?de:K.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(K){for(var ee=t(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=K)r(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=t(u)}}function v(K){if(x=!1,S(K),!y)if(t(l)!==null)y=!0,ne(C);else{var ee=t(u);ee!==null&&X(v,ee.startTime-K)}}function C(K,ee){y=!1,x&&(x=!1,w(P),P=-1),p=!0;var de=h;try{for(S(ee),f=t(l);f!==null&&(!(f.expirationTime>ee)||K&&!R());){var xe=f.callback;if(typeof xe=="function"){f.callback=null,h=f.priorityLevel;var M=xe(f.expirationTime<=ee);ee=n.unstable_now(),typeof M=="function"?f.callback=M:f===t(l)&&r(l),S(ee)}else r(l);f=t(l)}if(f!==null)var J=!0;else{var B=t(u);B!==null&&X(v,B.startTime-ee),J=!1}return J}finally{f=null,h=de,p=!1}}var j=!1,T=null,P=-1,z=5,q=-1;function R(){return!(n.unstable_now()-q<z)}function F(){if(T!==null){var K=n.unstable_now();q=K;var ee=!0;try{ee=T(!0,K)}finally{ee?$():(j=!1,T=null)}}else j=!1}var $;if(typeof A=="function")$=function(){A(F)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,he=W.port2;W.port1.onmessage=F,$=function(){he.postMessage(null)}}else $=function(){_(F,0)};function ne(K){T=K,j||(j=!0,$())}function X(K,ee){P=_(function(){K(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){y||p||(y=!0,ne(C))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(K){switch(h){case 1:case 2:case 3:var ee=3;break;default:ee=h}var de=h;h=ee;try{return K()}finally{h=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=h;h=K;try{return ee()}finally{h=de}},n.unstable_scheduleCallback=function(K,ee,de){var xe=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?xe+de:xe):de=xe,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=de+M,K={id:d++,callback:ee,priorityLevel:K,startTime:de,expirationTime:M,sortIndex:-1},de>xe?(K.sortIndex=de,e(u,K),t(l)===null&&K===t(u)&&(x?(w(P),P=-1):x=!0,X(v,de-xe))):(K.sortIndex=M,e(l,K),y||p||(y=!0,ne(C))),K},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(K){var ee=h;return function(){var de=h;h=ee;try{return K.apply(this,arguments)}finally{h=de}}}})(tP);eP.exports=tP;var v8=eP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y8=ie,sa=v8;function We(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nP=new Set,o1={};function Of(n,e){rm(n,e),rm(n+"Capture",e)}function rm(n,e){for(o1[n]=e,n=0;n<e.length;n++)nP.add(e[n])}var _c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zS=Object.prototype.hasOwnProperty,w8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZE={},eN={};function b8(n){return zS.call(eN,n)?!0:zS.call(ZE,n)?!1:w8.test(n)?eN[n]=!0:(ZE[n]=!0,!1)}function x8(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function S8(n,e,t,r){if(e===null||typeof e>"u"||x8(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function es(n,e,t,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var yi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){yi[n]=new es(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];yi[e]=new es(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){yi[n]=new es(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){yi[n]=new es(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){yi[n]=new es(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){yi[n]=new es(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){yi[n]=new es(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){yi[n]=new es(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){yi[n]=new es(n,5,!1,n.toLowerCase(),null,!1,!1)});var zk=/[\-:]([a-z])/g;function Uk(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(zk,Uk);yi[e]=new es(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(zk,Uk);yi[e]=new es(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(zk,Uk);yi[e]=new es(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){yi[n]=new es(n,1,!1,n.toLowerCase(),null,!1,!1)});yi.xlinkHref=new es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){yi[n]=new es(n,1,!1,n.toLowerCase(),null,!0,!0)});function Hk(n,e,t,r){var i=yi.hasOwnProperty(e)?yi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(S8(e,t,i,r)&&(t=null),r||i===null?b8(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Lc=y8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rw=Symbol.for("react.element"),Mp=Symbol.for("react.portal"),Op=Symbol.for("react.fragment"),$k=Symbol.for("react.strict_mode"),US=Symbol.for("react.profiler"),rP=Symbol.for("react.provider"),iP=Symbol.for("react.context"),qk=Symbol.for("react.forward_ref"),HS=Symbol.for("react.suspense"),$S=Symbol.for("react.suspense_list"),Wk=Symbol.for("react.memo"),Au=Symbol.for("react.lazy"),sP=Symbol.for("react.offscreen"),tN=Symbol.iterator;function Zm(n){return n===null||typeof n!="object"?null:(n=tN&&n[tN]||n["@@iterator"],typeof n=="function"?n:null)}var ir=Object.assign,T5;function p0(n){if(T5===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);T5=e&&e[1]||""}return`
`+T5+n}var R5=!1;function I5(n,e){if(!n||R5)return"";R5=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{R5=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?p0(n):""}function A8(n){switch(n.tag){case 5:return p0(n.type);case 16:return p0("Lazy");case 13:return p0("Suspense");case 19:return p0("SuspenseList");case 0:case 2:case 15:return n=I5(n.type,!1),n;case 11:return n=I5(n.type.render,!1),n;case 1:return n=I5(n.type,!0),n;default:return""}}function qS(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Op:return"Fragment";case Mp:return"Portal";case US:return"Profiler";case $k:return"StrictMode";case HS:return"Suspense";case $S:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case iP:return(n.displayName||"Context")+".Consumer";case rP:return(n._context.displayName||"Context")+".Provider";case qk:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Wk:return e=n.displayName||null,e!==null?e:qS(n.type)||"Memo";case Au:e=n._payload,n=n._init;try{return qS(n(e))}catch{}}return null}function _8(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qS(e);case 8:return e===$k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function md(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function aP(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k8(n){var e=aP(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function iw(n){n._valueTracker||(n._valueTracker=k8(n))}function oP(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=aP(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function q2(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function WS(n,e){var t=e.checked;return ir({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function nN(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=md(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lP(n,e){e=e.checked,e!=null&&Hk(n,"checked",e,!1)}function VS(n,e){lP(n,e);var t=md(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?GS(n,e.type,t):e.hasOwnProperty("defaultValue")&&GS(n,e.type,md(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function rN(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function GS(n,e,t){(e!=="number"||q2(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var g0=Array.isArray;function Xp(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+md(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function KS(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(We(91));return ir({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function iN(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(We(92));if(g0(t)){if(1<t.length)throw Error(We(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:md(t)}}function cP(n,e){var t=md(e.value),r=md(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function sN(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function uP(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function YS(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?uP(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var sw,dP=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(sw=sw||document.createElement("div"),sw.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sw.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function l1(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var F0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C8=["Webkit","ms","Moz","O"];Object.keys(F0).forEach(function(n){C8.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),F0[e]=F0[n]})});function hP(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||F0.hasOwnProperty(n)&&F0[n]?(""+e).trim():e+"px"}function fP(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=hP(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var E8=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function XS(n,e){if(e){if(E8[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(We(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(We(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(We(61))}if(e.style!=null&&typeof e.style!="object")throw Error(We(62))}}function JS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var QS=null;function Vk(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ZS=null,Jp=null,Qp=null;function aN(n){if(n=wy(n)){if(typeof ZS!="function")throw Error(We(280));var e=n.stateNode;e&&(e=ox(e),ZS(n.stateNode,n.type,e))}}function pP(n){Jp?Qp?Qp.push(n):Qp=[n]:Jp=n}function gP(){if(Jp){var n=Jp,e=Qp;if(Qp=Jp=null,aN(n),e)for(n=0;n<e.length;n++)aN(e[n])}}function mP(n,e){return n(e)}function vP(){}var F5=!1;function yP(n,e,t){if(F5)return n(e,t);F5=!0;try{return mP(n,e,t)}finally{F5=!1,(Jp!==null||Qp!==null)&&(vP(),gP())}}function c1(n,e){var t=n.stateNode;if(t===null)return null;var r=ox(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(We(231,e,typeof t));return t}var eA=!1;if(_c)try{var e0={};Object.defineProperty(e0,"passive",{get:function(){eA=!0}}),window.addEventListener("test",e0,e0),window.removeEventListener("test",e0,e0)}catch{eA=!1}function N8(n,e,t,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var M0=!1,W2=null,V2=!1,tA=null,j8={onError:function(n){M0=!0,W2=n}};function P8(n,e,t,r,i,s,a,o,l){M0=!1,W2=null,N8.apply(j8,arguments)}function L8(n,e,t,r,i,s,a,o,l){if(P8.apply(this,arguments),M0){if(M0){var u=W2;M0=!1,W2=null}else throw Error(We(198));V2||(V2=!0,tA=u)}}function Df(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function wP(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function oN(n){if(Df(n)!==n)throw Error(We(188))}function T8(n){var e=n.alternate;if(!e){if(e=Df(n),e===null)throw Error(We(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return oN(i),n;if(s===r)return oN(i),e;s=s.sibling}throw Error(We(188))}if(t.return!==r.return)t=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,r=s;break}if(o===r){a=!0,r=i,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,r=i;break}if(o===r){a=!0,r=s,t=i;break}o=o.sibling}if(!a)throw Error(We(189))}}if(t.alternate!==r)throw Error(We(190))}if(t.tag!==3)throw Error(We(188));return t.stateNode.current===t?n:e}function bP(n){return n=T8(n),n!==null?xP(n):null}function xP(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=xP(n);if(e!==null)return e;n=n.sibling}return null}var SP=sa.unstable_scheduleCallback,lN=sa.unstable_cancelCallback,R8=sa.unstable_shouldYield,I8=sa.unstable_requestPaint,vr=sa.unstable_now,F8=sa.unstable_getCurrentPriorityLevel,Gk=sa.unstable_ImmediatePriority,AP=sa.unstable_UserBlockingPriority,G2=sa.unstable_NormalPriority,M8=sa.unstable_LowPriority,_P=sa.unstable_IdlePriority,rx=null,dl=null;function O8(n){if(dl&&typeof dl.onCommitFiberRoot=="function")try{dl.onCommitFiberRoot(rx,n,void 0,(n.current.flags&128)===128)}catch{}}var xo=Math.clz32?Math.clz32:z8,D8=Math.log,B8=Math.LN2;function z8(n){return n>>>=0,n===0?32:31-(D8(n)/B8|0)|0}var aw=64,ow=4194304;function m0(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function K2(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?r=m0(o):(s&=a,s!==0&&(r=m0(s)))}else a=t&~i,a!==0?r=m0(a):s!==0&&(r=m0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-xo(e),i=1<<t,r|=n[t],e&=~i;return r}function U8(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H8(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-xo(s),o=1<<a,l=i[a];l===-1?(!(o&t)||o&r)&&(i[a]=U8(o,e)):l<=e&&(n.expiredLanes|=o),s&=~o}}function nA(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function kP(){var n=aw;return aw<<=1,!(aw&4194240)&&(aw=64),n}function M5(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function vy(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-xo(e),n[e]=t}function $8(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-xo(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function Kk(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-xo(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var xn=0;function CP(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var EP,Yk,NP,jP,PP,rA=!1,lw=[],id=null,sd=null,ad=null,u1=new Map,d1=new Map,Eu=[],q8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cN(n,e){switch(n){case"focusin":case"focusout":id=null;break;case"dragenter":case"dragleave":sd=null;break;case"mouseover":case"mouseout":ad=null;break;case"pointerover":case"pointerout":u1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":d1.delete(e.pointerId)}}function t0(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wy(e),e!==null&&Yk(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function W8(n,e,t,r,i){switch(e){case"focusin":return id=t0(id,n,e,t,r,i),!0;case"dragenter":return sd=t0(sd,n,e,t,r,i),!0;case"mouseover":return ad=t0(ad,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return u1.set(s,t0(u1.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,d1.set(s,t0(d1.get(s)||null,n,e,t,r,i)),!0}return!1}function LP(n){var e=lh(n.target);if(e!==null){var t=Df(e);if(t!==null){if(e=t.tag,e===13){if(e=wP(t),e!==null){n.blockedOn=e,PP(n.priority,function(){NP(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Iw(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=iA(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);QS=r,t.target.dispatchEvent(r),QS=null}else return e=wy(t),e!==null&&Yk(e),n.blockedOn=t,!1;e.shift()}return!0}function uN(n,e,t){Iw(n)&&t.delete(e)}function V8(){rA=!1,id!==null&&Iw(id)&&(id=null),sd!==null&&Iw(sd)&&(sd=null),ad!==null&&Iw(ad)&&(ad=null),u1.forEach(uN),d1.forEach(uN)}function n0(n,e){n.blockedOn===e&&(n.blockedOn=null,rA||(rA=!0,sa.unstable_scheduleCallback(sa.unstable_NormalPriority,V8)))}function h1(n){function e(i){return n0(i,n)}if(0<lw.length){n0(lw[0],n);for(var t=1;t<lw.length;t++){var r=lw[t];r.blockedOn===n&&(r.blockedOn=null)}}for(id!==null&&n0(id,n),sd!==null&&n0(sd,n),ad!==null&&n0(ad,n),u1.forEach(e),d1.forEach(e),t=0;t<Eu.length;t++)r=Eu[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Eu.length&&(t=Eu[0],t.blockedOn===null);)LP(t),t.blockedOn===null&&Eu.shift()}var Zp=Lc.ReactCurrentBatchConfig,Y2=!0;function G8(n,e,t,r){var i=xn,s=Zp.transition;Zp.transition=null;try{xn=1,Xk(n,e,t,r)}finally{xn=i,Zp.transition=s}}function K8(n,e,t,r){var i=xn,s=Zp.transition;Zp.transition=null;try{xn=4,Xk(n,e,t,r)}finally{xn=i,Zp.transition=s}}function Xk(n,e,t,r){if(Y2){var i=iA(n,e,t,r);if(i===null)V5(n,e,r,X2,t),cN(n,r);else if(W8(i,n,e,t,r))r.stopPropagation();else if(cN(n,r),e&4&&-1<q8.indexOf(n)){for(;i!==null;){var s=wy(i);if(s!==null&&EP(s),s=iA(n,e,t,r),s===null&&V5(n,e,r,X2,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else V5(n,e,r,null,t)}}var X2=null;function iA(n,e,t,r){if(X2=null,n=Vk(r),n=lh(n),n!==null)if(e=Df(n),e===null)n=null;else if(t=e.tag,t===13){if(n=wP(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return X2=n,null}function TP(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F8()){case Gk:return 1;case AP:return 4;case G2:case M8:return 16;case _P:return 536870912;default:return 16}default:return 16}}var Zu=null,Jk=null,Fw=null;function RP(){if(Fw)return Fw;var n,e=Jk,t=e.length,r,i="value"in Zu?Zu.value:Zu.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===i[s-r];r++);return Fw=i.slice(n,1<r?1-r:void 0)}function Mw(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function cw(){return!0}function dN(){return!1}function ca(n){function e(t,r,i,s,a){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cw:dN,this.isPropagationStopped=dN,this}return ir(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=cw)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=cw)},persist:function(){},isPersistent:cw}),e}var gm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qk=ca(gm),yy=ir({},gm,{view:0,detail:0}),Y8=ca(yy),O5,D5,r0,ix=ir({},yy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zk,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==r0&&(r0&&n.type==="mousemove"?(O5=n.screenX-r0.screenX,D5=n.screenY-r0.screenY):D5=O5=0,r0=n),O5)},movementY:function(n){return"movementY"in n?n.movementY:D5}}),hN=ca(ix),X8=ir({},ix,{dataTransfer:0}),J8=ca(X8),Q8=ir({},yy,{relatedTarget:0}),B5=ca(Q8),Z8=ir({},gm,{animationName:0,elapsedTime:0,pseudoElement:0}),eM=ca(Z8),tM=ir({},gm,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),nM=ca(tM),rM=ir({},gm,{data:0}),fN=ca(rM),iM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oM(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=aM[n])?!!e[n]:!1}function Zk(){return oM}var lM=ir({},yy,{key:function(n){if(n.key){var e=iM[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Mw(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?sM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zk,charCode:function(n){return n.type==="keypress"?Mw(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Mw(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),cM=ca(lM),uM=ir({},ix,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pN=ca(uM),dM=ir({},yy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zk}),hM=ca(dM),fM=ir({},gm,{propertyName:0,elapsedTime:0,pseudoElement:0}),pM=ca(fM),gM=ir({},ix,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),mM=ca(gM),vM=[9,13,27,32],eC=_c&&"CompositionEvent"in window,O0=null;_c&&"documentMode"in document&&(O0=document.documentMode);var yM=_c&&"TextEvent"in window&&!O0,IP=_c&&(!eC||O0&&8<O0&&11>=O0),gN=" ",mN=!1;function FP(n,e){switch(n){case"keyup":return vM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MP(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Dp=!1;function wM(n,e){switch(n){case"compositionend":return MP(e);case"keypress":return e.which!==32?null:(mN=!0,gN);case"textInput":return n=e.data,n===gN&&mN?null:n;default:return null}}function bM(n,e){if(Dp)return n==="compositionend"||!eC&&FP(n,e)?(n=RP(),Fw=Jk=Zu=null,Dp=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IP&&e.locale!=="ko"?null:e.data;default:return null}}var xM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vN(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!xM[n.type]:e==="textarea"}function OP(n,e,t,r){pP(r),e=J2(e,"onChange"),0<e.length&&(t=new Qk("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var D0=null,f1=null;function SM(n){KP(n,0)}function sx(n){var e=Up(n);if(oP(e))return n}function AM(n,e){if(n==="change")return e}var DP=!1;if(_c){var z5;if(_c){var U5="oninput"in document;if(!U5){var yN=document.createElement("div");yN.setAttribute("oninput","return;"),U5=typeof yN.oninput=="function"}z5=U5}else z5=!1;DP=z5&&(!document.documentMode||9<document.documentMode)}function wN(){D0&&(D0.detachEvent("onpropertychange",BP),f1=D0=null)}function BP(n){if(n.propertyName==="value"&&sx(f1)){var e=[];OP(e,f1,n,Vk(n)),yP(SM,e)}}function _M(n,e,t){n==="focusin"?(wN(),D0=e,f1=t,D0.attachEvent("onpropertychange",BP)):n==="focusout"&&wN()}function kM(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sx(f1)}function CM(n,e){if(n==="click")return sx(e)}function EM(n,e){if(n==="input"||n==="change")return sx(e)}function NM(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ko=typeof Object.is=="function"?Object.is:NM;function p1(n,e){if(ko(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!zS.call(e,i)||!ko(n[i],e[i]))return!1}return!0}function bN(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xN(n,e){var t=bN(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=bN(t)}}function zP(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?zP(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function UP(){for(var n=window,e=q2();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=q2(n.document)}return e}function tC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function jM(n){var e=UP(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&zP(t.ownerDocument.documentElement,t)){if(r!==null&&tC(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=xN(t,s);var a=xN(t,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var PM=_c&&"documentMode"in document&&11>=document.documentMode,Bp=null,sA=null,B0=null,aA=!1;function SN(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;aA||Bp==null||Bp!==q2(r)||(r=Bp,"selectionStart"in r&&tC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),B0&&p1(B0,r)||(B0=r,r=J2(sA,"onSelect"),0<r.length&&(e=new Qk("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Bp)))}function uw(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var zp={animationend:uw("Animation","AnimationEnd"),animationiteration:uw("Animation","AnimationIteration"),animationstart:uw("Animation","AnimationStart"),transitionend:uw("Transition","TransitionEnd")},H5={},HP={};_c&&(HP=document.createElement("div").style,"AnimationEvent"in window||(delete zp.animationend.animation,delete zp.animationiteration.animation,delete zp.animationstart.animation),"TransitionEvent"in window||delete zp.transitionend.transition);function ax(n){if(H5[n])return H5[n];if(!zp[n])return n;var e=zp[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in HP)return H5[n]=e[t];return n}var $P=ax("animationend"),qP=ax("animationiteration"),WP=ax("animationstart"),VP=ax("transitionend"),GP=new Map,AN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kd(n,e){GP.set(n,e),Of(e,[n])}for(var $5=0;$5<AN.length;$5++){var q5=AN[$5],LM=q5.toLowerCase(),TM=q5[0].toUpperCase()+q5.slice(1);kd(LM,"on"+TM)}kd($P,"onAnimationEnd");kd(qP,"onAnimationIteration");kd(WP,"onAnimationStart");kd("dblclick","onDoubleClick");kd("focusin","onFocus");kd("focusout","onBlur");kd(VP,"onTransitionEnd");rm("onMouseEnter",["mouseout","mouseover"]);rm("onMouseLeave",["mouseout","mouseover"]);rm("onPointerEnter",["pointerout","pointerover"]);rm("onPointerLeave",["pointerout","pointerover"]);Of("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Of("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Of("onBeforeInput",["compositionend","keypress","textInput","paste"]);Of("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Of("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Of("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var v0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RM=new Set("cancel close invalid load scroll toggle".split(" ").concat(v0));function _N(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,L8(r,e,void 0,n),n.currentTarget=null}function KP(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;_N(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;_N(i,o,u),s=l}}}if(V2)throw n=tA,V2=!1,tA=null,n}function qn(n,e){var t=e[dA];t===void 0&&(t=e[dA]=new Set);var r=n+"__bubble";t.has(r)||(YP(e,n,2,!1),t.add(r))}function W5(n,e,t){var r=0;e&&(r|=4),YP(t,n,r,e)}var dw="_reactListening"+Math.random().toString(36).slice(2);function g1(n){if(!n[dw]){n[dw]=!0,nP.forEach(function(t){t!=="selectionchange"&&(RM.has(t)||W5(t,!1,n),W5(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[dw]||(e[dw]=!0,W5("selectionchange",!1,e))}}function YP(n,e,t,r){switch(TP(e)){case 1:var i=G8;break;case 4:i=K8;break;default:i=Xk}t=i.bind(null,e,t,n),i=void 0,!eA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function V5(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=lh(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}yP(function(){var u=s,d=Vk(t),f=[];e:{var h=GP.get(n);if(h!==void 0){var p=Qk,y=n;switch(n){case"keypress":if(Mw(t)===0)break e;case"keydown":case"keyup":p=cM;break;case"focusin":y="focus",p=B5;break;case"focusout":y="blur",p=B5;break;case"beforeblur":case"afterblur":p=B5;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=J8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hM;break;case $P:case qP:case WP:p=eM;break;case VP:p=pM;break;case"scroll":p=Y8;break;case"wheel":p=mM;break;case"copy":case"cut":case"paste":p=nM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pN}var x=(e&4)!==0,_=!x&&n==="scroll",w=x?h!==null?h+"Capture":null:h;x=[];for(var A=u,S;A!==null;){S=A;var v=S.stateNode;if(S.tag===5&&v!==null&&(S=v,w!==null&&(v=c1(A,w),v!=null&&x.push(m1(A,v,S)))),_)break;A=A.return}0<x.length&&(h=new p(h,y,null,t,d),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&t!==QS&&(y=t.relatedTarget||t.fromElement)&&(lh(y)||y[kc]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=t.relatedTarget||t.toElement,p=u,y=y?lh(y):null,y!==null&&(_=Df(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=hN,v="onMouseLeave",w="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(x=pN,v="onPointerLeave",w="onPointerEnter",A="pointer"),_=p==null?h:Up(p),S=y==null?h:Up(y),h=new x(v,A+"leave",p,t,d),h.target=_,h.relatedTarget=S,v=null,lh(d)===u&&(x=new x(w,A+"enter",y,t,d),x.target=S,x.relatedTarget=_,v=x),_=v,p&&y)t:{for(x=p,w=y,A=0,S=x;S;S=Ap(S))A++;for(S=0,v=w;v;v=Ap(v))S++;for(;0<A-S;)x=Ap(x),A--;for(;0<S-A;)w=Ap(w),S--;for(;A--;){if(x===w||w!==null&&x===w.alternate)break t;x=Ap(x),w=Ap(w)}x=null}else x=null;p!==null&&kN(f,h,p,x,!1),y!==null&&_!==null&&kN(f,_,y,x,!0)}}e:{if(h=u?Up(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=AM;else if(vN(h))if(DP)C=EM;else{C=kM;var j=_M}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=CM);if(C&&(C=C(n,u))){OP(f,C,t,d);break e}j&&j(n,h,u),n==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&GS(h,"number",h.value)}switch(j=u?Up(u):window,n){case"focusin":(vN(j)||j.contentEditable==="true")&&(Bp=j,sA=u,B0=null);break;case"focusout":B0=sA=Bp=null;break;case"mousedown":aA=!0;break;case"contextmenu":case"mouseup":case"dragend":aA=!1,SN(f,t,d);break;case"selectionchange":if(PM)break;case"keydown":case"keyup":SN(f,t,d)}var T;if(eC)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Dp?FP(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(IP&&t.locale!=="ko"&&(Dp||P!=="onCompositionStart"?P==="onCompositionEnd"&&Dp&&(T=RP()):(Zu=d,Jk="value"in Zu?Zu.value:Zu.textContent,Dp=!0)),j=J2(u,P),0<j.length&&(P=new fN(P,n,null,t,d),f.push({event:P,listeners:j}),T?P.data=T:(T=MP(t),T!==null&&(P.data=T)))),(T=yM?wM(n,t):bM(n,t))&&(u=J2(u,"onBeforeInput"),0<u.length&&(d=new fN("onBeforeInput","beforeinput",null,t,d),f.push({event:d,listeners:u}),d.data=T))}KP(f,e)})}function m1(n,e,t){return{instance:n,listener:e,currentTarget:t}}function J2(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=c1(n,t),s!=null&&r.unshift(m1(n,s,i)),s=c1(n,e),s!=null&&r.push(m1(n,s,i))),n=n.return}return r}function Ap(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function kN(n,e,t,r,i){for(var s=e._reactName,a=[];t!==null&&t!==r;){var o=t,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=c1(t,s),l!=null&&a.unshift(m1(t,l,o))):i||(l=c1(t,s),l!=null&&a.push(m1(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var IM=/\r\n?/g,FM=/\u0000|\uFFFD/g;function CN(n){return(typeof n=="string"?n:""+n).replace(IM,`
`).replace(FM,"")}function hw(n,e,t){if(e=CN(e),CN(n)!==e&&t)throw Error(We(425))}function Q2(){}var oA=null,lA=null;function cA(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uA=typeof setTimeout=="function"?setTimeout:void 0,MM=typeof clearTimeout=="function"?clearTimeout:void 0,EN=typeof Promise=="function"?Promise:void 0,OM=typeof queueMicrotask=="function"?queueMicrotask:typeof EN<"u"?function(n){return EN.resolve(null).then(n).catch(DM)}:uA;function DM(n){setTimeout(function(){throw n})}function G5(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),h1(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);h1(e)}function od(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function NN(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var mm=Math.random().toString(36).slice(2),cl="__reactFiber$"+mm,v1="__reactProps$"+mm,kc="__reactContainer$"+mm,dA="__reactEvents$"+mm,BM="__reactListeners$"+mm,zM="__reactHandles$"+mm;function lh(n){var e=n[cl];if(e)return e;for(var t=n.parentNode;t;){if(e=t[kc]||t[cl]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=NN(n);n!==null;){if(t=n[cl])return t;n=NN(n)}return e}n=t,t=n.parentNode}return null}function wy(n){return n=n[cl]||n[kc],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Up(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(We(33))}function ox(n){return n[v1]||null}var hA=[],Hp=-1;function Cd(n){return{current:n}}function Gn(n){0>Hp||(n.current=hA[Hp],hA[Hp]=null,Hp--)}function Un(n,e){Hp++,hA[Hp]=n.current,n.current=e}var vd={},Oi=Cd(vd),ks=Cd(!1),bf=vd;function im(n,e){var t=n.type.contextTypes;if(!t)return vd;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Cs(n){return n=n.childContextTypes,n!=null}function Z2(){Gn(ks),Gn(Oi)}function jN(n,e,t){if(Oi.current!==vd)throw Error(We(168));Un(Oi,e),Un(ks,t)}function XP(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(We(108,_8(n)||"Unknown",i));return ir({},t,r)}function eb(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||vd,bf=Oi.current,Un(Oi,n),Un(ks,ks.current),!0}function PN(n,e,t){var r=n.stateNode;if(!r)throw Error(We(169));t?(n=XP(n,e,bf),r.__reactInternalMemoizedMergedChildContext=n,Gn(ks),Gn(Oi),Un(Oi,n)):Gn(ks),Un(ks,t)}var ql=null,lx=!1,K5=!1;function JP(n){ql===null?ql=[n]:ql.push(n)}function UM(n){lx=!0,JP(n)}function Ed(){if(!K5&&ql!==null){K5=!0;var n=0,e=xn;try{var t=ql;for(xn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ql=null,lx=!1}catch(i){throw ql!==null&&(ql=ql.slice(n+1)),SP(Gk,Ed),i}finally{xn=e,K5=!1}}return null}var $p=[],qp=0,tb=null,nb=0,Ca=[],Ea=0,xf=null,vc=1,yc="";function Zd(n,e){$p[qp++]=nb,$p[qp++]=tb,tb=n,nb=e}function QP(n,e,t){Ca[Ea++]=vc,Ca[Ea++]=yc,Ca[Ea++]=xf,xf=n;var r=vc;n=yc;var i=32-xo(r)-1;r&=~(1<<i),t+=1;var s=32-xo(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,vc=1<<32-xo(e)+i|t<<i|r,yc=s+n}else vc=1<<s|t<<i|r,yc=n}function nC(n){n.return!==null&&(Zd(n,1),QP(n,1,0))}function rC(n){for(;n===tb;)tb=$p[--qp],$p[qp]=null,nb=$p[--qp],$p[qp]=null;for(;n===xf;)xf=Ca[--Ea],Ca[Ea]=null,yc=Ca[--Ea],Ca[Ea]=null,vc=Ca[--Ea],Ca[Ea]=null}var ra=null,ta=null,Xn=!1,wo=null;function ZP(n,e){var t=Pa(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function LN(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ra=n,ta=od(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ra=n,ta=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=xf!==null?{id:vc,overflow:yc}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Pa(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ra=n,ta=null,!0):!1;default:return!1}}function fA(n){return(n.mode&1)!==0&&(n.flags&128)===0}function pA(n){if(Xn){var e=ta;if(e){var t=e;if(!LN(n,e)){if(fA(n))throw Error(We(418));e=od(t.nextSibling);var r=ra;e&&LN(n,e)?ZP(r,t):(n.flags=n.flags&-4097|2,Xn=!1,ra=n)}}else{if(fA(n))throw Error(We(418));n.flags=n.flags&-4097|2,Xn=!1,ra=n}}}function TN(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ra=n}function fw(n){if(n!==ra)return!1;if(!Xn)return TN(n),Xn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!cA(n.type,n.memoizedProps)),e&&(e=ta)){if(fA(n))throw eL(),Error(We(418));for(;e;)ZP(n,e),e=od(e.nextSibling)}if(TN(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(We(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ta=od(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ta=null}}else ta=ra?od(n.stateNode.nextSibling):null;return!0}function eL(){for(var n=ta;n;)n=od(n.nextSibling)}function sm(){ta=ra=null,Xn=!1}function iC(n){wo===null?wo=[n]:wo.push(n)}var HM=Lc.ReactCurrentBatchConfig;function i0(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(We(309));var r=t.stateNode}if(!r)throw Error(We(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(We(284));if(!t._owner)throw Error(We(290,n))}return n}function pw(n,e){throw n=Object.prototype.toString.call(e),Error(We(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function RN(n){var e=n._init;return e(n._payload)}function tL(n){function e(w,A){if(n){var S=w.deletions;S===null?(w.deletions=[A],w.flags|=16):S.push(A)}}function t(w,A){if(!n)return null;for(;A!==null;)e(w,A),A=A.sibling;return null}function r(w,A){for(w=new Map;A!==null;)A.key!==null?w.set(A.key,A):w.set(A.index,A),A=A.sibling;return w}function i(w,A){return w=dd(w,A),w.index=0,w.sibling=null,w}function s(w,A,S){return w.index=S,n?(S=w.alternate,S!==null?(S=S.index,S<A?(w.flags|=2,A):S):(w.flags|=2,A)):(w.flags|=1048576,A)}function a(w){return n&&w.alternate===null&&(w.flags|=2),w}function o(w,A,S,v){return A===null||A.tag!==6?(A=tS(S,w.mode,v),A.return=w,A):(A=i(A,S),A.return=w,A)}function l(w,A,S,v){var C=S.type;return C===Op?d(w,A,S.props.children,v,S.key):A!==null&&(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Au&&RN(C)===A.type)?(v=i(A,S.props),v.ref=i0(w,A,S),v.return=w,v):(v=$w(S.type,S.key,S.props,null,w.mode,v),v.ref=i0(w,A,S),v.return=w,v)}function u(w,A,S,v){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=nS(S,w.mode,v),A.return=w,A):(A=i(A,S.children||[]),A.return=w,A)}function d(w,A,S,v,C){return A===null||A.tag!==7?(A=df(S,w.mode,v,C),A.return=w,A):(A=i(A,S),A.return=w,A)}function f(w,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=tS(""+A,w.mode,S),A.return=w,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case rw:return S=$w(A.type,A.key,A.props,null,w.mode,S),S.ref=i0(w,null,A),S.return=w,S;case Mp:return A=nS(A,w.mode,S),A.return=w,A;case Au:var v=A._init;return f(w,v(A._payload),S)}if(g0(A)||Zm(A))return A=df(A,w.mode,S,null),A.return=w,A;pw(w,A)}return null}function h(w,A,S,v){var C=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:o(w,A,""+S,v);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case rw:return S.key===C?l(w,A,S,v):null;case Mp:return S.key===C?u(w,A,S,v):null;case Au:return C=S._init,h(w,A,C(S._payload),v)}if(g0(S)||Zm(S))return C!==null?null:d(w,A,S,v,null);pw(w,S)}return null}function p(w,A,S,v,C){if(typeof v=="string"&&v!==""||typeof v=="number")return w=w.get(S)||null,o(A,w,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rw:return w=w.get(v.key===null?S:v.key)||null,l(A,w,v,C);case Mp:return w=w.get(v.key===null?S:v.key)||null,u(A,w,v,C);case Au:var j=v._init;return p(w,A,S,j(v._payload),C)}if(g0(v)||Zm(v))return w=w.get(S)||null,d(A,w,v,C,null);pw(A,v)}return null}function y(w,A,S,v){for(var C=null,j=null,T=A,P=A=0,z=null;T!==null&&P<S.length;P++){T.index>P?(z=T,T=null):z=T.sibling;var q=h(w,T,S[P],v);if(q===null){T===null&&(T=z);break}n&&T&&q.alternate===null&&e(w,T),A=s(q,A,P),j===null?C=q:j.sibling=q,j=q,T=z}if(P===S.length)return t(w,T),Xn&&Zd(w,P),C;if(T===null){for(;P<S.length;P++)T=f(w,S[P],v),T!==null&&(A=s(T,A,P),j===null?C=T:j.sibling=T,j=T);return Xn&&Zd(w,P),C}for(T=r(w,T);P<S.length;P++)z=p(T,w,P,S[P],v),z!==null&&(n&&z.alternate!==null&&T.delete(z.key===null?P:z.key),A=s(z,A,P),j===null?C=z:j.sibling=z,j=z);return n&&T.forEach(function(R){return e(w,R)}),Xn&&Zd(w,P),C}function x(w,A,S,v){var C=Zm(S);if(typeof C!="function")throw Error(We(150));if(S=C.call(S),S==null)throw Error(We(151));for(var j=C=null,T=A,P=A=0,z=null,q=S.next();T!==null&&!q.done;P++,q=S.next()){T.index>P?(z=T,T=null):z=T.sibling;var R=h(w,T,q.value,v);if(R===null){T===null&&(T=z);break}n&&T&&R.alternate===null&&e(w,T),A=s(R,A,P),j===null?C=R:j.sibling=R,j=R,T=z}if(q.done)return t(w,T),Xn&&Zd(w,P),C;if(T===null){for(;!q.done;P++,q=S.next())q=f(w,q.value,v),q!==null&&(A=s(q,A,P),j===null?C=q:j.sibling=q,j=q);return Xn&&Zd(w,P),C}for(T=r(w,T);!q.done;P++,q=S.next())q=p(T,w,P,q.value,v),q!==null&&(n&&q.alternate!==null&&T.delete(q.key===null?P:q.key),A=s(q,A,P),j===null?C=q:j.sibling=q,j=q);return n&&T.forEach(function(F){return e(w,F)}),Xn&&Zd(w,P),C}function _(w,A,S,v){if(typeof S=="object"&&S!==null&&S.type===Op&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case rw:e:{for(var C=S.key,j=A;j!==null;){if(j.key===C){if(C=S.type,C===Op){if(j.tag===7){t(w,j.sibling),A=i(j,S.props.children),A.return=w,w=A;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Au&&RN(C)===j.type){t(w,j.sibling),A=i(j,S.props),A.ref=i0(w,j,S),A.return=w,w=A;break e}t(w,j);break}else e(w,j);j=j.sibling}S.type===Op?(A=df(S.props.children,w.mode,v,S.key),A.return=w,w=A):(v=$w(S.type,S.key,S.props,null,w.mode,v),v.ref=i0(w,A,S),v.return=w,w=v)}return a(w);case Mp:e:{for(j=S.key;A!==null;){if(A.key===j)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){t(w,A.sibling),A=i(A,S.children||[]),A.return=w,w=A;break e}else{t(w,A);break}else e(w,A);A=A.sibling}A=nS(S,w.mode,v),A.return=w,w=A}return a(w);case Au:return j=S._init,_(w,A,j(S._payload),v)}if(g0(S))return y(w,A,S,v);if(Zm(S))return x(w,A,S,v);pw(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(t(w,A.sibling),A=i(A,S),A.return=w,w=A):(t(w,A),A=tS(S,w.mode,v),A.return=w,w=A),a(w)):t(w,A)}return _}var am=tL(!0),nL=tL(!1),rb=Cd(null),ib=null,Wp=null,sC=null;function aC(){sC=Wp=ib=null}function oC(n){var e=rb.current;Gn(rb),n._currentValue=e}function gA(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function eg(n,e){ib=n,sC=Wp=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(xs=!0),n.firstContext=null)}function Ra(n){var e=n._currentValue;if(sC!==n)if(n={context:n,memoizedValue:e,next:null},Wp===null){if(ib===null)throw Error(We(308));Wp=n,ib.dependencies={lanes:0,firstContext:n}}else Wp=Wp.next=n;return e}var ch=null;function lC(n){ch===null?ch=[n]:ch.push(n)}function rL(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,lC(e)):(t.next=i.next,i.next=t),e.interleaved=t,Cc(n,r)}function Cc(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var _u=!1;function cC(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iL(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function wc(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ld(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,rn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Cc(n,t)}return i=r.interleaved,i===null?(e.next=e,lC(r)):(e.next=i.next,i.next=e),r.interleaved=e,Cc(n,t)}function Ow(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Kk(n,t)}}function IN(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function sb(n,e,t,r){var i=n.updateQueue;_u=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=n.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,d=u=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=n,x=o;switch(h=e,p=t,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=ir({},f,h);break e;case 2:_u=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Af|=a,n.lanes=a,n.memoizedState=f}}function FN(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(We(191,i));i.call(r)}}}var by={},hl=Cd(by),y1=Cd(by),w1=Cd(by);function uh(n){if(n===by)throw Error(We(174));return n}function uC(n,e){switch(Un(w1,e),Un(y1,n),Un(hl,by),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:YS(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=YS(e,n)}Gn(hl),Un(hl,e)}function om(){Gn(hl),Gn(y1),Gn(w1)}function sL(n){uh(w1.current);var e=uh(hl.current),t=YS(e,n.type);e!==t&&(Un(y1,n),Un(hl,t))}function dC(n){y1.current===n&&(Gn(hl),Gn(y1))}var nr=Cd(0);function ab(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Y5=[];function hC(){for(var n=0;n<Y5.length;n++)Y5[n]._workInProgressVersionPrimary=null;Y5.length=0}var Dw=Lc.ReactCurrentDispatcher,X5=Lc.ReactCurrentBatchConfig,Sf=0,rr=null,Br=null,Xr=null,ob=!1,z0=!1,b1=0,$M=0;function Ai(){throw Error(We(321))}function fC(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ko(n[t],e[t]))return!1;return!0}function pC(n,e,t,r,i,s){if(Sf=s,rr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dw.current=n===null||n.memoizedState===null?GM:KM,n=t(r,i),z0){s=0;do{if(z0=!1,b1=0,25<=s)throw Error(We(301));s+=1,Xr=Br=null,e.updateQueue=null,Dw.current=YM,n=t(r,i)}while(z0)}if(Dw.current=lb,e=Br!==null&&Br.next!==null,Sf=0,Xr=Br=rr=null,ob=!1,e)throw Error(We(300));return n}function gC(){var n=b1!==0;return b1=0,n}function Wo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?rr.memoizedState=Xr=n:Xr=Xr.next=n,Xr}function Ia(){if(Br===null){var n=rr.alternate;n=n!==null?n.memoizedState:null}else n=Br.next;var e=Xr===null?rr.memoizedState:Xr.next;if(e!==null)Xr=e,Br=n;else{if(n===null)throw Error(We(310));Br=n,n={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},Xr===null?rr.memoizedState=Xr=n:Xr=Xr.next=n}return Xr}function x1(n,e){return typeof e=="function"?e(n):e}function J5(n){var e=Ia(),t=e.queue;if(t===null)throw Error(We(311));t.lastRenderedReducer=n;var r=Br,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((Sf&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,rr.lanes|=d,Af|=d}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,ko(r,e.memoizedState)||(xs=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,rr.lanes|=s,Af|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Q5(n){var e=Ia(),t=e.queue;if(t===null)throw Error(We(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do s=n(s,a.action),a=a.next;while(a!==i);ko(s,e.memoizedState)||(xs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function aL(){}function oL(n,e){var t=rr,r=Ia(),i=e(),s=!ko(r.memoizedState,i);if(s&&(r.memoizedState=i,xs=!0),r=r.queue,mC(uL.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Xr!==null&&Xr.memoizedState.tag&1){if(t.flags|=2048,S1(9,cL.bind(null,t,r,i,e),void 0,null),Jr===null)throw Error(We(349));Sf&30||lL(t,e,i)}return i}function lL(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function cL(n,e,t,r){e.value=t,e.getSnapshot=r,dL(e)&&hL(n)}function uL(n,e,t){return t(function(){dL(e)&&hL(n)})}function dL(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ko(n,t)}catch{return!0}}function hL(n){var e=Cc(n,1);e!==null&&So(e,n,1,-1)}function MN(n){var e=Wo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x1,lastRenderedState:n},e.queue=n,n=n.dispatch=VM.bind(null,rr,n),[e.memoizedState,n]}function S1(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function fL(){return Ia().memoizedState}function Bw(n,e,t,r){var i=Wo();rr.flags|=n,i.memoizedState=S1(1|e,t,void 0,r===void 0?null:r)}function cx(n,e,t,r){var i=Ia();r=r===void 0?null:r;var s=void 0;if(Br!==null){var a=Br.memoizedState;if(s=a.destroy,r!==null&&fC(r,a.deps)){i.memoizedState=S1(e,t,s,r);return}}rr.flags|=n,i.memoizedState=S1(1|e,t,s,r)}function ON(n,e){return Bw(8390656,8,n,e)}function mC(n,e){return cx(2048,8,n,e)}function pL(n,e){return cx(4,2,n,e)}function gL(n,e){return cx(4,4,n,e)}function mL(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function vL(n,e,t){return t=t!=null?t.concat([n]):null,cx(4,4,mL.bind(null,e,n),t)}function vC(){}function yL(n,e){var t=Ia();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&fC(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function wL(n,e){var t=Ia();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&fC(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function bL(n,e,t){return Sf&21?(ko(t,e)||(t=kP(),rr.lanes|=t,Af|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,xs=!0),n.memoizedState=t)}function qM(n,e){var t=xn;xn=t!==0&&4>t?t:4,n(!0);var r=X5.transition;X5.transition={};try{n(!1),e()}finally{xn=t,X5.transition=r}}function xL(){return Ia().memoizedState}function WM(n,e,t){var r=ud(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},SL(n))AL(e,t);else if(t=rL(n,e,t,r),t!==null){var i=Xi();So(t,n,r,i),_L(t,e,r)}}function VM(n,e,t){var r=ud(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(SL(n))AL(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(i.hasEagerState=!0,i.eagerState=o,ko(o,a)){var l=e.interleaved;l===null?(i.next=i,lC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=rL(n,e,i,r),t!==null&&(i=Xi(),So(t,n,r,i),_L(t,e,r))}}function SL(n){var e=n.alternate;return n===rr||e!==null&&e===rr}function AL(n,e){z0=ob=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function _L(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Kk(n,t)}}var lb={readContext:Ra,useCallback:Ai,useContext:Ai,useEffect:Ai,useImperativeHandle:Ai,useInsertionEffect:Ai,useLayoutEffect:Ai,useMemo:Ai,useReducer:Ai,useRef:Ai,useState:Ai,useDebugValue:Ai,useDeferredValue:Ai,useTransition:Ai,useMutableSource:Ai,useSyncExternalStore:Ai,useId:Ai,unstable_isNewReconciler:!1},GM={readContext:Ra,useCallback:function(n,e){return Wo().memoizedState=[n,e===void 0?null:e],n},useContext:Ra,useEffect:ON,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Bw(4194308,4,mL.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Bw(4194308,4,n,e)},useInsertionEffect:function(n,e){return Bw(4,2,n,e)},useMemo:function(n,e){var t=Wo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Wo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=WM.bind(null,rr,n),[r.memoizedState,n]},useRef:function(n){var e=Wo();return n={current:n},e.memoizedState=n},useState:MN,useDebugValue:vC,useDeferredValue:function(n){return Wo().memoizedState=n},useTransition:function(){var n=MN(!1),e=n[0];return n=qM.bind(null,n[1]),Wo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=rr,i=Wo();if(Xn){if(t===void 0)throw Error(We(407));t=t()}else{if(t=e(),Jr===null)throw Error(We(349));Sf&30||lL(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,ON(uL.bind(null,r,s,n),[n]),r.flags|=2048,S1(9,cL.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Wo(),e=Jr.identifierPrefix;if(Xn){var t=yc,r=vc;t=(r&~(1<<32-xo(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=b1++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=$M++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},KM={readContext:Ra,useCallback:yL,useContext:Ra,useEffect:mC,useImperativeHandle:vL,useInsertionEffect:pL,useLayoutEffect:gL,useMemo:wL,useReducer:J5,useRef:fL,useState:function(){return J5(x1)},useDebugValue:vC,useDeferredValue:function(n){var e=Ia();return bL(e,Br.memoizedState,n)},useTransition:function(){var n=J5(x1)[0],e=Ia().memoizedState;return[n,e]},useMutableSource:aL,useSyncExternalStore:oL,useId:xL,unstable_isNewReconciler:!1},YM={readContext:Ra,useCallback:yL,useContext:Ra,useEffect:mC,useImperativeHandle:vL,useInsertionEffect:pL,useLayoutEffect:gL,useMemo:wL,useReducer:Q5,useRef:fL,useState:function(){return Q5(x1)},useDebugValue:vC,useDeferredValue:function(n){var e=Ia();return Br===null?e.memoizedState=n:bL(e,Br.memoizedState,n)},useTransition:function(){var n=Q5(x1)[0],e=Ia().memoizedState;return[n,e]},useMutableSource:aL,useSyncExternalStore:oL,useId:xL,unstable_isNewReconciler:!1};function no(n,e){if(n&&n.defaultProps){e=ir({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function mA(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ir({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ux={isMounted:function(n){return(n=n._reactInternals)?Df(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Xi(),i=ud(n),s=wc(r,i);s.payload=e,t!=null&&(s.callback=t),e=ld(n,s,i),e!==null&&(So(e,n,i,r),Ow(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Xi(),i=ud(n),s=wc(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ld(n,s,i),e!==null&&(So(e,n,i,r),Ow(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Xi(),r=ud(n),i=wc(t,r);i.tag=2,e!=null&&(i.callback=e),e=ld(n,i,r),e!==null&&(So(e,n,r,t),Ow(e,n,r))}};function DN(n,e,t,r,i,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!p1(t,r)||!p1(i,s):!0}function kL(n,e,t){var r=!1,i=vd,s=e.contextType;return typeof s=="object"&&s!==null?s=Ra(s):(i=Cs(e)?bf:Oi.current,r=e.contextTypes,s=(r=r!=null)?im(n,i):vd),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ux,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function BN(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&ux.enqueueReplaceState(e,e.state,null)}function vA(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},cC(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ra(s):(s=Cs(e)?bf:Oi.current,i.context=im(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mA(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ux.enqueueReplaceState(i,i.state,null),sb(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function lm(n,e){try{var t="",r=e;do t+=A8(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Z5(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function yA(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var XM=typeof WeakMap=="function"?WeakMap:Map;function CL(n,e,t){t=wc(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){ub||(ub=!0,NA=r),yA(n,e)},t}function EL(n,e,t){t=wc(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){yA(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){yA(n,e),typeof r!="function"&&(cd===null?cd=new Set([this]):cd.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function zN(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new XM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=uO.bind(null,n,e,t),e.then(n,n))}function UN(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function HN(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=wc(-1,1),e.tag=2,ld(t,e,1))),t.lanes|=1),n)}var JM=Lc.ReactCurrentOwner,xs=!1;function Gi(n,e,t,r){e.child=n===null?nL(e,null,t,r):am(e,n.child,t,r)}function $N(n,e,t,r,i){t=t.render;var s=e.ref;return eg(e,i),r=pC(n,e,t,r,s,i),t=gC(),n!==null&&!xs?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ec(n,e,i)):(Xn&&t&&nC(e),e.flags|=1,Gi(n,e,r,i),e.child)}function qN(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!kC(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,NL(n,e,s,r,i)):(n=$w(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:p1,t(a,r)&&n.ref===e.ref)return Ec(n,e,i)}return e.flags|=1,n=dd(s,r),n.ref=e.ref,n.return=e,e.child=n}function NL(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(p1(s,r)&&n.ref===e.ref)if(xs=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(xs=!0);else return e.lanes=n.lanes,Ec(n,e,i)}return wA(n,e,t,r,i)}function jL(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(Gp,Zs),Zs|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Un(Gp,Zs),Zs|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Un(Gp,Zs),Zs|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Un(Gp,Zs),Zs|=r;return Gi(n,e,i,t),e.child}function PL(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function wA(n,e,t,r,i){var s=Cs(t)?bf:Oi.current;return s=im(e,s),eg(e,i),t=pC(n,e,t,r,s,i),r=gC(),n!==null&&!xs?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ec(n,e,i)):(Xn&&r&&nC(e),e.flags|=1,Gi(n,e,t,i),e.child)}function WN(n,e,t,r,i){if(Cs(t)){var s=!0;eb(e)}else s=!1;if(eg(e,i),e.stateNode===null)zw(n,e),kL(e,t,r),vA(e,t,r,i),r=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=Ra(u):(u=Cs(t)?bf:Oi.current,u=im(e,u));var d=t.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&BN(e,a,r,u),_u=!1;var h=e.memoizedState;a.state=h,sb(e,r,a,i),l=e.memoizedState,o!==r||h!==l||ks.current||_u?(typeof d=="function"&&(mA(e,t,d,r),l=e.memoizedState),(o=_u||DN(e,t,o,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,iL(n,e),o=e.memoizedProps,u=e.type===e.elementType?o:no(e.type,o),a.props=u,f=e.pendingProps,h=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ra(l):(l=Cs(t)?bf:Oi.current,l=im(e,l));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&BN(e,a,r,l),_u=!1,h=e.memoizedState,a.state=h,sb(e,r,a,i);var y=e.memoizedState;o!==f||h!==y||ks.current||_u?(typeof p=="function"&&(mA(e,t,p,r),y=e.memoizedState),(u=_u||DN(e,t,u,r,h,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return bA(n,e,t,r,s,i)}function bA(n,e,t,r,i,s){PL(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&PN(e,t,!1),Ec(n,e,s);r=e.stateNode,JM.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=am(e,n.child,null,s),e.child=am(e,null,o,s)):Gi(n,e,o,s),e.memoizedState=r.state,i&&PN(e,t,!0),e.child}function LL(n){var e=n.stateNode;e.pendingContext?jN(n,e.pendingContext,e.pendingContext!==e.context):e.context&&jN(n,e.context,!1),uC(n,e.containerInfo)}function VN(n,e,t,r,i){return sm(),iC(i),e.flags|=256,Gi(n,e,t,r),e.child}var xA={dehydrated:null,treeContext:null,retryLane:0};function SA(n){return{baseLanes:n,cachePool:null,transitions:null}}function TL(n,e,t){var r=e.pendingProps,i=nr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Un(nr,i&1),n===null)return pA(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=fx(a,r,0,null),n=df(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=SA(t),e.memoizedState=xA,n):yC(e,a));if(i=n.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return QM(n,e,a,r,o,i,t);if(s){s=r.fallback,a=e.mode,i=n.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=dd(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=dd(o,s):(s=df(s,a,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=n.child.memoizedState,a=a===null?SA(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=xA,r}return s=n.child,n=s.sibling,r=dd(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function yC(n,e){return e=fx({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function gw(n,e,t,r){return r!==null&&iC(r),am(e,n.child,null,t),n=yC(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function QM(n,e,t,r,i,s,a){if(t)return e.flags&256?(e.flags&=-257,r=Z5(Error(We(422))),gw(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=fx({mode:"visible",children:r.children},i,0,null),s=df(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&am(e,n.child,null,a),e.child.memoizedState=SA(a),e.memoizedState=xA,s);if(!(e.mode&1))return gw(n,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(We(419)),r=Z5(s,r,void 0),gw(n,e,a,r)}if(o=(a&n.childLanes)!==0,xs||o){if(r=Jr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cc(n,i),So(r,n,i,-1))}return _C(),r=Z5(Error(We(421))),gw(n,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=dO.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,ta=od(i.nextSibling),ra=e,Xn=!0,wo=null,n!==null&&(Ca[Ea++]=vc,Ca[Ea++]=yc,Ca[Ea++]=xf,vc=n.id,yc=n.overflow,xf=e),e=yC(e,r.children),e.flags|=4096,e)}function GN(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),gA(n.return,e,t)}function eS(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function RL(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gi(n,e,r.children,t),r=nr.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&GN(n,t,e);else if(n.tag===19)GN(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Un(nr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&ab(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),eS(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&ab(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}eS(e,!0,t,null,s);break;case"together":eS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zw(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ec(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Af|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(We(153));if(e.child!==null){for(n=e.child,t=dd(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=dd(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function ZM(n,e,t){switch(e.tag){case 3:LL(e),sm();break;case 5:sL(e);break;case 1:Cs(e.type)&&eb(e);break;case 4:uC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Un(rb,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Un(nr,nr.current&1),e.flags|=128,null):t&e.child.childLanes?TL(n,e,t):(Un(nr,nr.current&1),n=Ec(n,e,t),n!==null?n.sibling:null);Un(nr,nr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return RL(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Un(nr,nr.current),r)break;return null;case 22:case 23:return e.lanes=0,jL(n,e,t)}return Ec(n,e,t)}var IL,AA,FL,ML;IL=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};AA=function(){};FL=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,uh(hl.current);var s=null;switch(t){case"input":i=WS(n,i),r=WS(n,r),s=[];break;case"select":i=ir({},i,{value:void 0}),r=ir({},r,{value:void 0}),s=[];break;case"textarea":i=KS(n,i),r=KS(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Q2)}XS(t,r);var a;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(o1.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(o1.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qn("scroll",n),s||o===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ML=function(n,e,t,r){t!==r&&(e.flags|=4)};function s0(n,e){if(!Xn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function _i(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function eO(n,e,t){var r=e.pendingProps;switch(rC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _i(e),null;case 1:return Cs(e.type)&&Z2(),_i(e),null;case 3:return r=e.stateNode,om(),Gn(ks),Gn(Oi),hC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(fw(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wo!==null&&(LA(wo),wo=null))),AA(n,e),_i(e),null;case 5:dC(e);var i=uh(w1.current);if(t=e.type,n!==null&&e.stateNode!=null)FL(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(We(166));return _i(e),null}if(n=uh(hl.current),fw(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[cl]=e,r[v1]=s,n=(e.mode&1)!==0,t){case"dialog":qn("cancel",r),qn("close",r);break;case"iframe":case"object":case"embed":qn("load",r);break;case"video":case"audio":for(i=0;i<v0.length;i++)qn(v0[i],r);break;case"source":qn("error",r);break;case"img":case"image":case"link":qn("error",r),qn("load",r);break;case"details":qn("toggle",r);break;case"input":nN(r,s),qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qn("invalid",r);break;case"textarea":iN(r,s),qn("invalid",r)}XS(t,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&hw(r.textContent,o,n),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&hw(r.textContent,o,n),i=["children",""+o]):o1.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&qn("scroll",r)}switch(t){case"input":iw(r),rN(r,s,!0);break;case"textarea":iw(r),sN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Q2)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=uP(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[cl]=e,n[v1]=r,IL(n,e,!1,!1),e.stateNode=n;e:{switch(a=JS(t,r),t){case"dialog":qn("cancel",n),qn("close",n),i=r;break;case"iframe":case"object":case"embed":qn("load",n),i=r;break;case"video":case"audio":for(i=0;i<v0.length;i++)qn(v0[i],n);i=r;break;case"source":qn("error",n),i=r;break;case"img":case"image":case"link":qn("error",n),qn("load",n),i=r;break;case"details":qn("toggle",n),i=r;break;case"input":nN(n,r),i=WS(n,r),qn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=ir({},r,{value:void 0}),qn("invalid",n);break;case"textarea":iN(n,r),i=KS(n,r),qn("invalid",n);break;default:i=r}XS(t,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?fP(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dP(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&l1(n,l):typeof l=="number"&&l1(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(o1.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qn("scroll",n):l!=null&&Hk(n,s,l,a))}switch(t){case"input":iw(n),rN(n,r,!1);break;case"textarea":iw(n),sN(n);break;case"option":r.value!=null&&n.setAttribute("value",""+md(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Xp(n,!!r.multiple,s,!1):r.defaultValue!=null&&Xp(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Q2)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _i(e),null;case 6:if(n&&e.stateNode!=null)ML(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(We(166));if(t=uh(w1.current),uh(hl.current),fw(e)){if(r=e.stateNode,t=e.memoizedProps,r[cl]=e,(s=r.nodeValue!==t)&&(n=ra,n!==null))switch(n.tag){case 3:hw(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&hw(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[cl]=e,e.stateNode=r}return _i(e),null;case 13:if(Gn(nr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xn&&ta!==null&&e.mode&1&&!(e.flags&128))eL(),sm(),e.flags|=98560,s=!1;else if(s=fw(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(We(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(We(317));s[cl]=e}else sm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_i(e),s=!1}else wo!==null&&(LA(wo),wo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||nr.current&1?Hr===0&&(Hr=3):_C())),e.updateQueue!==null&&(e.flags|=4),_i(e),null);case 4:return om(),AA(n,e),n===null&&g1(e.stateNode.containerInfo),_i(e),null;case 10:return oC(e.type._context),_i(e),null;case 17:return Cs(e.type)&&Z2(),_i(e),null;case 19:if(Gn(nr),s=e.memoizedState,s===null)return _i(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)s0(s,!1);else{if(Hr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=ab(n),a!==null){for(e.flags|=128,s0(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Un(nr,nr.current&1|2),e.child}n=n.sibling}s.tail!==null&&vr()>cm&&(e.flags|=128,r=!0,s0(s,!1),e.lanes=4194304)}else{if(!r)if(n=ab(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),s0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Xn)return _i(e),null}else 2*vr()-s.renderingStartTime>cm&&t!==1073741824&&(e.flags|=128,r=!0,s0(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vr(),e.sibling=null,t=nr.current,Un(nr,r?t&1|2:t&1),e):(_i(e),null);case 22:case 23:return AC(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zs&1073741824&&(_i(e),e.subtreeFlags&6&&(e.flags|=8192)):_i(e),null;case 24:return null;case 25:return null}throw Error(We(156,e.tag))}function tO(n,e){switch(rC(e),e.tag){case 1:return Cs(e.type)&&Z2(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return om(),Gn(ks),Gn(Oi),hC(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return dC(e),null;case 13:if(Gn(nr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(We(340));sm()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Gn(nr),null;case 4:return om(),null;case 10:return oC(e.type._context),null;case 22:case 23:return AC(),null;case 24:return null;default:return null}}var mw=!1,Ii=!1,nO=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Vp(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){dr(n,e,r)}else t.current=null}function _A(n,e,t){try{t()}catch(r){dr(n,e,r)}}var KN=!1;function rO(n,e){if(oA=Y2,n=UP(),tC(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,d=0,f=n,h=null;t:for(;;){for(var p;f!==t||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===n)break t;if(h===t&&++u===i&&(o=a),h===s&&++d===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(lA={focusedElem:n,selectionRange:t},Y2=!1,lt=e;lt!==null;)if(e=lt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,lt=n;else for(;lt!==null;){e=lt;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,_=y.memoizedState,w=e.stateNode,A=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:no(e.type,x),_);w.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(v){dr(e,e.return,v)}if(n=e.sibling,n!==null){n.return=e.return,lt=n;break}lt=e.return}return y=KN,KN=!1,y}function U0(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&_A(e,t,s)}i=i.next}while(i!==r)}}function dx(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function kA(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function OL(n){var e=n.alternate;e!==null&&(n.alternate=null,OL(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[cl],delete e[v1],delete e[dA],delete e[BM],delete e[zM])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function DL(n){return n.tag===5||n.tag===3||n.tag===4}function YN(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||DL(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function CA(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Q2));else if(r!==4&&(n=n.child,n!==null))for(CA(n,e,t),n=n.sibling;n!==null;)CA(n,e,t),n=n.sibling}function EA(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(EA(n,e,t),n=n.sibling;n!==null;)EA(n,e,t),n=n.sibling}var pi=null,yo=!1;function mu(n,e,t){for(t=t.child;t!==null;)BL(n,e,t),t=t.sibling}function BL(n,e,t){if(dl&&typeof dl.onCommitFiberUnmount=="function")try{dl.onCommitFiberUnmount(rx,t)}catch{}switch(t.tag){case 5:Ii||Vp(t,e);case 6:var r=pi,i=yo;pi=null,mu(n,e,t),pi=r,yo=i,pi!==null&&(yo?(n=pi,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):pi.removeChild(t.stateNode));break;case 18:pi!==null&&(yo?(n=pi,t=t.stateNode,n.nodeType===8?G5(n.parentNode,t):n.nodeType===1&&G5(n,t),h1(n)):G5(pi,t.stateNode));break;case 4:r=pi,i=yo,pi=t.stateNode.containerInfo,yo=!0,mu(n,e,t),pi=r,yo=i;break;case 0:case 11:case 14:case 15:if(!Ii&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&_A(t,e,a),i=i.next}while(i!==r)}mu(n,e,t);break;case 1:if(!Ii&&(Vp(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(o){dr(t,e,o)}mu(n,e,t);break;case 21:mu(n,e,t);break;case 22:t.mode&1?(Ii=(r=Ii)||t.memoizedState!==null,mu(n,e,t),Ii=r):mu(n,e,t);break;default:mu(n,e,t)}}function XN(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new nO),e.forEach(function(r){var i=hO.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Qa(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:pi=o.stateNode,yo=!1;break e;case 3:pi=o.stateNode.containerInfo,yo=!0;break e;case 4:pi=o.stateNode.containerInfo,yo=!0;break e}o=o.return}if(pi===null)throw Error(We(160));BL(s,a,i),pi=null,yo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){dr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zL(e,n),e=e.sibling}function zL(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Qa(e,n),Ho(n),r&4){try{U0(3,n,n.return),dx(3,n)}catch(x){dr(n,n.return,x)}try{U0(5,n,n.return)}catch(x){dr(n,n.return,x)}}break;case 1:Qa(e,n),Ho(n),r&512&&t!==null&&Vp(t,t.return);break;case 5:if(Qa(e,n),Ho(n),r&512&&t!==null&&Vp(t,t.return),n.flags&32){var i=n.stateNode;try{l1(i,"")}catch(x){dr(n,n.return,x)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&lP(i,s),JS(o,a);var u=JS(o,s);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?fP(i,f):d==="dangerouslySetInnerHTML"?dP(i,f):d==="children"?l1(i,f):Hk(i,d,f,u)}switch(o){case"input":VS(i,s);break;case"textarea":cP(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Xp(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Xp(i,!!s.multiple,s.defaultValue,!0):Xp(i,!!s.multiple,s.multiple?[]:"",!1))}i[v1]=s}catch(x){dr(n,n.return,x)}}break;case 6:if(Qa(e,n),Ho(n),r&4){if(n.stateNode===null)throw Error(We(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(x){dr(n,n.return,x)}}break;case 3:if(Qa(e,n),Ho(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{h1(e.containerInfo)}catch(x){dr(n,n.return,x)}break;case 4:Qa(e,n),Ho(n);break;case 13:Qa(e,n),Ho(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xC=vr())),r&4&&XN(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Ii=(u=Ii)||d,Qa(e,n),Ii=u):Qa(e,n),Ho(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(lt=n,d=n.child;d!==null;){for(f=lt=d;lt!==null;){switch(h=lt,p=h.child,h.tag){case 0:case 11:case 14:case 15:U0(4,h,h.return);break;case 1:Vp(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,t=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){dr(r,t,x)}}break;case 5:Vp(h,h.return);break;case 22:if(h.memoizedState!==null){QN(f);continue}}p!==null?(p.return=h,lt=p):QN(f)}d=d.sibling}e:for(d=null,f=n;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=hP("display",a))}catch(x){dr(n,n.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){dr(n,n.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qa(e,n),Ho(n),r&4&&XN(n);break;case 21:break;default:Qa(e,n),Ho(n)}}function Ho(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(DL(t)){var r=t;break e}t=t.return}throw Error(We(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(l1(i,""),r.flags&=-33);var s=YN(n);EA(n,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=YN(n);CA(n,o,a);break;default:throw Error(We(161))}}catch(l){dr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function iO(n,e,t){lt=n,UL(n)}function UL(n,e,t){for(var r=(n.mode&1)!==0;lt!==null;){var i=lt,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||mw;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ii;o=mw;var u=Ii;if(mw=a,(Ii=l)&&!u)for(lt=i;lt!==null;)a=lt,l=a.child,a.tag===22&&a.memoizedState!==null?ZN(i):l!==null?(l.return=a,lt=l):ZN(i);for(;s!==null;)lt=s,UL(s),s=s.sibling;lt=i,mw=o,Ii=u}JN(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,lt=s):JN(n)}}function JN(n){for(;lt!==null;){var e=lt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ii||dx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ii)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:no(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&FN(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}FN(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&h1(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}Ii||e.flags&512&&kA(e)}catch(h){dr(e,e.return,h)}}if(e===n){lt=null;break}if(t=e.sibling,t!==null){t.return=e.return,lt=t;break}lt=e.return}}function QN(n){for(;lt!==null;){var e=lt;if(e===n){lt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,lt=t;break}lt=e.return}}function ZN(n){for(;lt!==null;){var e=lt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{dx(4,e)}catch(l){dr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dr(e,i,l)}}var s=e.return;try{kA(e)}catch(l){dr(e,s,l)}break;case 5:var a=e.return;try{kA(e)}catch(l){dr(e,a,l)}}}catch(l){dr(e,e.return,l)}if(e===n){lt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,lt=o;break}lt=e.return}}var sO=Math.ceil,cb=Lc.ReactCurrentDispatcher,wC=Lc.ReactCurrentOwner,La=Lc.ReactCurrentBatchConfig,rn=0,Jr=null,jr=null,mi=0,Zs=0,Gp=Cd(0),Hr=0,A1=null,Af=0,hx=0,bC=0,H0=null,ys=null,xC=0,cm=1/0,zl=null,ub=!1,NA=null,cd=null,vw=!1,ed=null,db=0,$0=0,jA=null,Uw=-1,Hw=0;function Xi(){return rn&6?vr():Uw!==-1?Uw:Uw=vr()}function ud(n){return n.mode&1?rn&2&&mi!==0?mi&-mi:HM.transition!==null?(Hw===0&&(Hw=kP()),Hw):(n=xn,n!==0||(n=window.event,n=n===void 0?16:TP(n.type)),n):1}function So(n,e,t,r){if(50<$0)throw $0=0,jA=null,Error(We(185));vy(n,t,r),(!(rn&2)||n!==Jr)&&(n===Jr&&(!(rn&2)&&(hx|=t),Hr===4&&Nu(n,mi)),Es(n,r),t===1&&rn===0&&!(e.mode&1)&&(cm=vr()+500,lx&&Ed()))}function Es(n,e){var t=n.callbackNode;H8(n,e);var r=K2(n,n===Jr?mi:0);if(r===0)t!==null&&lN(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&lN(t),e===1)n.tag===0?UM(e3.bind(null,n)):JP(e3.bind(null,n)),OM(function(){!(rn&6)&&Ed()}),t=null;else{switch(CP(r)){case 1:t=Gk;break;case 4:t=AP;break;case 16:t=G2;break;case 536870912:t=_P;break;default:t=G2}t=YL(t,HL.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function HL(n,e){if(Uw=-1,Hw=0,rn&6)throw Error(We(327));var t=n.callbackNode;if(tg()&&n.callbackNode!==t)return null;var r=K2(n,n===Jr?mi:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=hb(n,r);else{e=r;var i=rn;rn|=2;var s=qL();(Jr!==n||mi!==e)&&(zl=null,cm=vr()+500,uf(n,e));do try{lO();break}catch(o){$L(n,o)}while(!0);aC(),cb.current=s,rn=i,jr!==null?e=0:(Jr=null,mi=0,e=Hr)}if(e!==0){if(e===2&&(i=nA(n),i!==0&&(r=i,e=PA(n,i))),e===1)throw t=A1,uf(n,0),Nu(n,r),Es(n,vr()),t;if(e===6)Nu(n,r);else{if(i=n.current.alternate,!(r&30)&&!aO(i)&&(e=hb(n,r),e===2&&(s=nA(n),s!==0&&(r=s,e=PA(n,s))),e===1))throw t=A1,uf(n,0),Nu(n,r),Es(n,vr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(We(345));case 2:eh(n,ys,zl);break;case 3:if(Nu(n,r),(r&130023424)===r&&(e=xC+500-vr(),10<e)){if(K2(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Xi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=uA(eh.bind(null,n,ys,zl),e);break}eh(n,ys,zl);break;case 4:if(Nu(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var a=31-xo(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=vr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sO(r/1960))-r,10<r){n.timeoutHandle=uA(eh.bind(null,n,ys,zl),r);break}eh(n,ys,zl);break;case 5:eh(n,ys,zl);break;default:throw Error(We(329))}}}return Es(n,vr()),n.callbackNode===t?HL.bind(null,n):null}function PA(n,e){var t=H0;return n.current.memoizedState.isDehydrated&&(uf(n,e).flags|=256),n=hb(n,e),n!==2&&(e=ys,ys=t,e!==null&&LA(e)),n}function LA(n){ys===null?ys=n:ys.push.apply(ys,n)}function aO(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!ko(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nu(n,e){for(e&=~bC,e&=~hx,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-xo(e),r=1<<t;n[t]=-1,e&=~r}}function e3(n){if(rn&6)throw Error(We(327));tg();var e=K2(n,0);if(!(e&1))return Es(n,vr()),null;var t=hb(n,e);if(n.tag!==0&&t===2){var r=nA(n);r!==0&&(e=r,t=PA(n,r))}if(t===1)throw t=A1,uf(n,0),Nu(n,e),Es(n,vr()),t;if(t===6)throw Error(We(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,eh(n,ys,zl),Es(n,vr()),null}function SC(n,e){var t=rn;rn|=1;try{return n(e)}finally{rn=t,rn===0&&(cm=vr()+500,lx&&Ed())}}function _f(n){ed!==null&&ed.tag===0&&!(rn&6)&&tg();var e=rn;rn|=1;var t=La.transition,r=xn;try{if(La.transition=null,xn=1,n)return n()}finally{xn=r,La.transition=t,rn=e,!(rn&6)&&Ed()}}function AC(){Zs=Gp.current,Gn(Gp)}function uf(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,MM(t)),jr!==null)for(t=jr.return;t!==null;){var r=t;switch(rC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Z2();break;case 3:om(),Gn(ks),Gn(Oi),hC();break;case 5:dC(r);break;case 4:om();break;case 13:Gn(nr);break;case 19:Gn(nr);break;case 10:oC(r.type._context);break;case 22:case 23:AC()}t=t.return}if(Jr=n,jr=n=dd(n.current,null),mi=Zs=e,Hr=0,A1=null,bC=hx=Af=0,ys=H0=null,ch!==null){for(e=0;e<ch.length;e++)if(t=ch[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}t.pending=r}ch=null}return n}function $L(n,e){do{var t=jr;try{if(aC(),Dw.current=lb,ob){for(var r=rr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ob=!1}if(Sf=0,Xr=Br=rr=null,z0=!1,b1=0,wC.current=null,t===null||t.return===null){Hr=1,A1=e,jr=null;break}e:{var s=n,a=t.return,o=t,l=e;if(e=mi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=UN(a);if(p!==null){p.flags&=-257,HN(p,a,o,s,e),p.mode&1&&zN(s,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){zN(s,u,e),_C();break e}l=Error(We(426))}}else if(Xn&&o.mode&1){var _=UN(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),HN(_,a,o,s,e),iC(lm(l,o));break e}}s=l=lm(l,o),Hr!==4&&(Hr=2),H0===null?H0=[s]:H0.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=CL(s,l,e);IN(s,w);break e;case 1:o=l;var A=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(cd===null||!cd.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var v=EL(s,o,e);IN(s,v);break e}}s=s.return}while(s!==null)}VL(t)}catch(C){e=C,jr===t&&t!==null&&(jr=t=t.return);continue}break}while(!0)}function qL(){var n=cb.current;return cb.current=lb,n===null?lb:n}function _C(){(Hr===0||Hr===3||Hr===2)&&(Hr=4),Jr===null||!(Af&268435455)&&!(hx&268435455)||Nu(Jr,mi)}function hb(n,e){var t=rn;rn|=2;var r=qL();(Jr!==n||mi!==e)&&(zl=null,uf(n,e));do try{oO();break}catch(i){$L(n,i)}while(!0);if(aC(),rn=t,cb.current=r,jr!==null)throw Error(We(261));return Jr=null,mi=0,Hr}function oO(){for(;jr!==null;)WL(jr)}function lO(){for(;jr!==null&&!R8();)WL(jr)}function WL(n){var e=KL(n.alternate,n,Zs);n.memoizedProps=n.pendingProps,e===null?VL(n):jr=e,wC.current=null}function VL(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=tO(t,e),t!==null){t.flags&=32767,jr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Hr=6,jr=null;return}}else if(t=eO(t,e,Zs),t!==null){jr=t;return}if(e=e.sibling,e!==null){jr=e;return}jr=e=n}while(e!==null);Hr===0&&(Hr=5)}function eh(n,e,t){var r=xn,i=La.transition;try{La.transition=null,xn=1,cO(n,e,t,r)}finally{La.transition=i,xn=r}return null}function cO(n,e,t,r){do tg();while(ed!==null);if(rn&6)throw Error(We(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(We(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if($8(n,s),n===Jr&&(jr=Jr=null,mi=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||vw||(vw=!0,YL(G2,function(){return tg(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=La.transition,La.transition=null;var a=xn;xn=1;var o=rn;rn|=4,wC.current=null,rO(n,t),zL(t,n),jM(lA),Y2=!!oA,lA=oA=null,n.current=t,iO(t),I8(),rn=o,xn=a,La.transition=s}else n.current=t;if(vw&&(vw=!1,ed=n,db=i),s=n.pendingLanes,s===0&&(cd=null),O8(t.stateNode),Es(n,vr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(ub)throw ub=!1,n=NA,NA=null,n;return db&1&&n.tag!==0&&tg(),s=n.pendingLanes,s&1?n===jA?$0++:($0=0,jA=n):$0=0,Ed(),null}function tg(){if(ed!==null){var n=CP(db),e=La.transition,t=xn;try{if(La.transition=null,xn=16>n?16:n,ed===null)var r=!1;else{if(n=ed,ed=null,db=0,rn&6)throw Error(We(331));var i=rn;for(rn|=4,lt=n.current;lt!==null;){var s=lt,a=s.child;if(lt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(lt=u;lt!==null;){var d=lt;switch(d.tag){case 0:case 11:case 15:U0(8,d,s)}var f=d.child;if(f!==null)f.return=d,lt=f;else for(;lt!==null;){d=lt;var h=d.sibling,p=d.return;if(OL(d),d===u){lt=null;break}if(h!==null){h.return=p,lt=h;break}lt=p}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}lt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,lt=a;else e:for(;lt!==null;){if(s=lt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:U0(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,lt=w;break e}lt=s.return}}var A=n.current;for(lt=A;lt!==null;){a=lt;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,lt=S;else e:for(a=A;lt!==null;){if(o=lt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:dx(9,o)}}catch(C){dr(o,o.return,C)}if(o===a){lt=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,lt=v;break e}lt=o.return}}if(rn=i,Ed(),dl&&typeof dl.onPostCommitFiberRoot=="function")try{dl.onPostCommitFiberRoot(rx,n)}catch{}r=!0}return r}finally{xn=t,La.transition=e}}return!1}function t3(n,e,t){e=lm(t,e),e=CL(n,e,1),n=ld(n,e,1),e=Xi(),n!==null&&(vy(n,1,e),Es(n,e))}function dr(n,e,t){if(n.tag===3)t3(n,n,t);else for(;e!==null;){if(e.tag===3){t3(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cd===null||!cd.has(r))){n=lm(t,n),n=EL(e,n,1),e=ld(e,n,1),n=Xi(),e!==null&&(vy(e,1,n),Es(e,n));break}}e=e.return}}function uO(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Xi(),n.pingedLanes|=n.suspendedLanes&t,Jr===n&&(mi&t)===t&&(Hr===4||Hr===3&&(mi&130023424)===mi&&500>vr()-xC?uf(n,0):bC|=t),Es(n,e)}function GL(n,e){e===0&&(n.mode&1?(e=ow,ow<<=1,!(ow&130023424)&&(ow=4194304)):e=1);var t=Xi();n=Cc(n,e),n!==null&&(vy(n,e,t),Es(n,t))}function dO(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),GL(n,t)}function hO(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(We(314))}r!==null&&r.delete(e),GL(n,t)}var KL;KL=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ks.current)xs=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return xs=!1,ZM(n,e,t);xs=!!(n.flags&131072)}else xs=!1,Xn&&e.flags&1048576&&QP(e,nb,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zw(n,e),n=e.pendingProps;var i=im(e,Oi.current);eg(e,t),i=pC(null,e,r,n,i,t);var s=gC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cs(r)?(s=!0,eb(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cC(e),i.updater=ux,e.stateNode=i,i._reactInternals=e,vA(e,r,n,t),e=bA(null,e,r,!0,s,t)):(e.tag=0,Xn&&s&&nC(e),Gi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(zw(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pO(r),n=no(r,n),i){case 0:e=wA(null,e,r,n,t);break e;case 1:e=WN(null,e,r,n,t);break e;case 11:e=$N(null,e,r,n,t);break e;case 14:e=qN(null,e,r,no(r.type,n),t);break e}throw Error(We(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:no(r,i),wA(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:no(r,i),WN(n,e,r,i,t);case 3:e:{if(LL(e),n===null)throw Error(We(387));r=e.pendingProps,s=e.memoizedState,i=s.element,iL(n,e),sb(e,r,null,t);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=lm(Error(We(423)),e),e=VN(n,e,r,t,i);break e}else if(r!==i){i=lm(Error(We(424)),e),e=VN(n,e,r,t,i);break e}else for(ta=od(e.stateNode.containerInfo.firstChild),ra=e,Xn=!0,wo=null,t=nL(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(sm(),r===i){e=Ec(n,e,t);break e}Gi(n,e,r,t)}e=e.child}return e;case 5:return sL(e),n===null&&pA(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,a=i.children,cA(r,i)?a=null:s!==null&&cA(r,s)&&(e.flags|=32),PL(n,e),Gi(n,e,a,t),e.child;case 6:return n===null&&pA(e),null;case 13:return TL(n,e,t);case 4:return uC(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=am(e,null,r,t):Gi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:no(r,i),$N(n,e,r,i,t);case 7:return Gi(n,e,e.pendingProps,t),e.child;case 8:return Gi(n,e,e.pendingProps.children,t),e.child;case 12:return Gi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Un(rb,r._currentValue),r._currentValue=a,s!==null)if(ko(s.value,a)){if(s.children===i.children&&!ks.current){e=Ec(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wc(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),gA(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(We(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),gA(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Gi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,eg(e,t),i=Ra(i),r=r(i),e.flags|=1,Gi(n,e,r,t),e.child;case 14:return r=e.type,i=no(r,e.pendingProps),i=no(r.type,i),qN(n,e,r,i,t);case 15:return NL(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:no(r,i),zw(n,e),e.tag=1,Cs(r)?(n=!0,eb(e)):n=!1,eg(e,t),kL(e,r,i),vA(e,r,i,t),bA(null,e,r,!0,n,t);case 19:return RL(n,e,t);case 22:return jL(n,e,t)}throw Error(We(156,e.tag))};function YL(n,e){return SP(n,e)}function fO(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(n,e,t,r){return new fO(n,e,t,r)}function kC(n){return n=n.prototype,!(!n||!n.isReactComponent)}function pO(n){if(typeof n=="function")return kC(n)?1:0;if(n!=null){if(n=n.$$typeof,n===qk)return 11;if(n===Wk)return 14}return 2}function dd(n,e){var t=n.alternate;return t===null?(t=Pa(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function $w(n,e,t,r,i,s){var a=2;if(r=n,typeof n=="function")kC(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Op:return df(t.children,i,s,e);case $k:a=8,i|=8;break;case US:return n=Pa(12,t,e,i|2),n.elementType=US,n.lanes=s,n;case HS:return n=Pa(13,t,e,i),n.elementType=HS,n.lanes=s,n;case $S:return n=Pa(19,t,e,i),n.elementType=$S,n.lanes=s,n;case sP:return fx(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case rP:a=10;break e;case iP:a=9;break e;case qk:a=11;break e;case Wk:a=14;break e;case Au:a=16,r=null;break e}throw Error(We(130,n==null?n:typeof n,""))}return e=Pa(a,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function df(n,e,t,r){return n=Pa(7,n,r,e),n.lanes=t,n}function fx(n,e,t,r){return n=Pa(22,n,r,e),n.elementType=sP,n.lanes=t,n.stateNode={isHidden:!1},n}function tS(n,e,t){return n=Pa(6,n,null,e),n.lanes=t,n}function nS(n,e,t){return e=Pa(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function gO(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M5(0),this.expirationTimes=M5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M5(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function CC(n,e,t,r,i,s,a,o,l){return n=new gO(n,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pa(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},cC(s),n}function mO(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mp,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function XL(n){if(!n)return vd;n=n._reactInternals;e:{if(Df(n)!==n||n.tag!==1)throw Error(We(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(We(171))}if(n.tag===1){var t=n.type;if(Cs(t))return XP(n,t,e)}return e}function JL(n,e,t,r,i,s,a,o,l){return n=CC(t,r,!0,n,i,s,a,o,l),n.context=XL(null),t=n.current,r=Xi(),i=ud(t),s=wc(r,i),s.callback=e??null,ld(t,s,i),n.current.lanes=i,vy(n,i,r),Es(n,r),n}function px(n,e,t,r){var i=e.current,s=Xi(),a=ud(i);return t=XL(t),e.context===null?e.context=t:e.pendingContext=t,e=wc(s,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ld(i,e,a),n!==null&&(So(n,i,a,s),Ow(n,i,a)),a}function fb(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function n3(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function EC(n,e){n3(n,e),(n=n.alternate)&&n3(n,e)}function vO(){return null}var QL=typeof reportError=="function"?reportError:function(n){console.error(n)};function NC(n){this._internalRoot=n}gx.prototype.render=NC.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(We(409));px(n,e,null,null)};gx.prototype.unmount=NC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;_f(function(){px(null,n,null,null)}),e[kc]=null}};function gx(n){this._internalRoot=n}gx.prototype.unstable_scheduleHydration=function(n){if(n){var e=jP();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Eu.length&&e!==0&&e<Eu[t].priority;t++);Eu.splice(t,0,n),t===0&&LP(n)}};function jC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function mx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function r3(){}function yO(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fb(a);s.call(u)}}var a=JL(e,r,n,0,null,!1,!1,"",r3);return n._reactRootContainer=a,n[kc]=a.current,g1(n.nodeType===8?n.parentNode:n),_f(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=fb(l);o.call(u)}}var l=CC(n,0,!1,null,null,!1,!1,"",r3);return n._reactRootContainer=l,n[kc]=l.current,g1(n.nodeType===8?n.parentNode:n),_f(function(){px(e,l,t,r)}),l}function vx(n,e,t,r,i){var s=t._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=fb(a);o.call(l)}}px(e,a,n,i)}else a=yO(t,e,n,i,r);return fb(a)}EP=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=m0(e.pendingLanes);t!==0&&(Kk(e,t|1),Es(e,vr()),!(rn&6)&&(cm=vr()+500,Ed()))}break;case 13:_f(function(){var r=Cc(n,1);if(r!==null){var i=Xi();So(r,n,1,i)}}),EC(n,1)}};Yk=function(n){if(n.tag===13){var e=Cc(n,134217728);if(e!==null){var t=Xi();So(e,n,134217728,t)}EC(n,134217728)}};NP=function(n){if(n.tag===13){var e=ud(n),t=Cc(n,e);if(t!==null){var r=Xi();So(t,n,e,r)}EC(n,e)}};jP=function(){return xn};PP=function(n,e){var t=xn;try{return xn=n,e()}finally{xn=t}};ZS=function(n,e,t){switch(e){case"input":if(VS(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ox(r);if(!i)throw Error(We(90));oP(r),VS(r,i)}}}break;case"textarea":cP(n,t);break;case"select":e=t.value,e!=null&&Xp(n,!!t.multiple,e,!1)}};mP=SC;vP=_f;var wO={usingClientEntryPoint:!1,Events:[wy,Up,ox,pP,gP,SC]},a0={findFiberByHostInstance:lh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bO={bundleType:a0.bundleType,version:a0.version,rendererPackageName:a0.rendererPackageName,rendererConfig:a0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=bP(n),n===null?null:n.stateNode},findFiberByHostInstance:a0.findFiberByHostInstance||vO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yw.isDisabled&&yw.supportsFiber)try{rx=yw.inject(bO),dl=yw}catch{}}la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wO;la.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jC(e))throw Error(We(200));return mO(n,e,null,t)};la.createRoot=function(n,e){if(!jC(n))throw Error(We(299));var t=!1,r="",i=QL;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=CC(n,1,!1,null,null,t,!1,r,i),n[kc]=e.current,g1(n.nodeType===8?n.parentNode:n),new NC(e)};la.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(We(188)):(n=Object.keys(n).join(","),Error(We(268,n)));return n=bP(e),n=n===null?null:n.stateNode,n};la.flushSync=function(n){return _f(n)};la.hydrate=function(n,e,t){if(!mx(e))throw Error(We(200));return vx(null,n,e,!0,t)};la.hydrateRoot=function(n,e,t){if(!jC(n))throw Error(We(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",a=QL;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=JL(e,null,n,1,t??null,i,!1,s,a),n[kc]=e.current,g1(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new gx(e)};la.render=function(n,e,t){if(!mx(e))throw Error(We(200));return vx(null,n,e,!1,t)};la.unmountComponentAtNode=function(n){if(!mx(n))throw Error(We(40));return n._reactRootContainer?(_f(function(){vx(null,null,n,!1,function(){n._reactRootContainer=null,n[kc]=null})}),!0):!1};la.unstable_batchedUpdates=SC;la.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!mx(t))throw Error(We(200));if(n==null||n._reactInternals===void 0)throw Error(We(38));return vx(n,e,t,!1,r)};la.version="18.3.1-next-f1338f8080-20240426";function ZL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZL)}catch(n){console.error(n)}}ZL(),Z4.exports=la;var xO=Z4.exports,i3=xO;BS.createRoot=i3.createRoot,BS.hydrateRoot=i3.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _1(){return _1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_1.apply(this,arguments)}var td;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(td||(td={}));const s3="popstate";function SO(n){n===void 0&&(n={});function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=Bf(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),TA("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:pb(s))}function r(i,s){PC(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return _O(e,t,r,n)}function xr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function PC(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AO(){return Math.random().toString(36).substr(2,8)}function a3(n,e){return{usr:n.state,key:n.key,idx:e}}function TA(n,e,t,r){return t===void 0&&(t=null),_1({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Bf(e):e,{state:t,key:e&&e.key||r||AO()})}function pb(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function _O(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=td.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(_1({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=td.Pop;let _=d(),w=_==null?null:_-u;u=_,l&&l({action:o,location:x.location,delta:w})}function h(_,w){o=td.Push;let A=TA(x.location,_,w);t&&t(A,_),u=d()+1;let S=a3(A,u),v=x.createHref(A);try{a.pushState(S,"",v)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(v)}s&&l&&l({action:o,location:x.location,delta:1})}function p(_,w){o=td.Replace;let A=TA(x.location,_,w);t&&t(A,_),u=d();let S=a3(A,u),v=x.createHref(A);a.replaceState(S,"",v),s&&l&&l({action:o,location:x.location,delta:0})}function y(_){let w=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof _=="string"?_:pb(_);return A=A.replace(/ $/,"%20"),xr(w,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,w)}let x={get action(){return o},get location(){return n(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(s3,f),l=_,()=>{i.removeEventListener(s3,f),l=null}},createHref(_){return e(i,_)},createURL:y,encodeLocation(_){let w=y(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(_){return a.go(_)}};return x}var o3;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(o3||(o3={}));function kO(n,e,t){return t===void 0&&(t="/"),CO(n,e,t,!1)}function CO(n,e,t,r){let i=typeof e=="string"?Bf(e):e,s=LC(i.pathname||"/",t);if(s==null)return null;let a=eT(n);EO(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=DO(s);o=MO(a[l],u,r)}return o}function eT(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(xr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=hd([r,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(xr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),eT(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:IO(u,s.index),routesMeta:d})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of tT(s.path))i(s,a,l)}),e}function tT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=tT(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function EO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const NO=/^:[\w-]+$/,jO=3,PO=2,LO=1,TO=10,RO=-2,l3=n=>n==="*";function IO(n,e){let t=n.split("/"),r=t.length;return t.some(l3)&&(r+=RO),e&&(r+=PO),t.filter(i=>!l3(i)).reduce((i,s)=>i+(NO.test(s)?jO:s===""?LO:TO),r)}function FO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function MO(n,e,t){let{routesMeta:r}=n,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=c3({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&t&&!r[r.length-1].route.index&&(f=c3({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:hd([s,f.pathname]),pathnameBase:HO(hd([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=hd([s,f.pathnameBase]))}return a}function c3(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=OO(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let x=o[f]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=o[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function OO(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),PC(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PC(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function LC(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function BO(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Bf(n):n;return{pathname:t?t.startsWith("/")?t:zO(t,e):e,search:$O(r),hash:qO(i)}}function zO(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function rS(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function TC(n,e){let t=UO(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function RC(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Bf(n):(i=_1({},n),xr(!i.pathname||!i.pathname.includes("?"),rS("?","pathname","search",i)),xr(!i.pathname||!i.pathname.includes("#"),rS("#","pathname","hash",i)),xr(!i.search||!i.search.includes("#"),rS("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=BO(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const hd=n=>n.join("/").replace(/\/\/+/g,"/"),HO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$O=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function WO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const nT=["post","put","patch","delete"];new Set(nT);const VO=["get",...nT];new Set(VO);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k1(){return k1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},k1.apply(this,arguments)}const IC=ie.createContext(null),GO=ie.createContext(null),Nd=ie.createContext(null),yx=ie.createContext(null),Tc=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),rT=ie.createContext(null);function KO(n,e){let{relative:t}=e===void 0?{}:e;vm()||xr(!1);let{basename:r,navigator:i}=ie.useContext(Nd),{hash:s,pathname:a,search:o}=sT(n,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:hd([r,a])),i.createHref({pathname:l,search:o,hash:s})}function vm(){return ie.useContext(yx)!=null}function Eo(){return vm()||xr(!1),ie.useContext(yx).location}function iT(n){ie.useContext(Nd).static||ie.useLayoutEffect(n)}function Zr(){let{isDataRoute:n}=ie.useContext(Tc);return n?oD():YO()}function YO(){vm()||xr(!1);let n=ie.useContext(IC),{basename:e,future:t,navigator:r}=ie.useContext(Nd),{matches:i}=ie.useContext(Tc),{pathname:s}=Eo(),a=JSON.stringify(TC(i,t.v7_relativeSplatPath)),o=ie.useRef(!1);return iT(()=>{o.current=!0}),ie.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=RC(u,JSON.parse(a),s,d.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:hd([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,s,n])}function Rc(){let{matches:n}=ie.useContext(Tc),e=n[n.length-1];return e?e.params:{}}function sT(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=ie.useContext(Nd),{matches:i}=ie.useContext(Tc),{pathname:s}=Eo(),a=JSON.stringify(TC(i,r.v7_relativeSplatPath));return ie.useMemo(()=>RC(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function XO(n,e){return JO(n,e)}function JO(n,e,t,r){vm()||xr(!1);let{navigator:i}=ie.useContext(Nd),{matches:s}=ie.useContext(Tc),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Eo(),d;if(e){var f;let _=typeof e=="string"?Bf(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||xr(!1),d=_}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=kO(n,{pathname:p}),x=nD(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:hd([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:hd([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,t,r);return e&&x?ie.createElement(yx.Provider,{value:{location:k1({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:td.Pop}},x):x}function QO(){let n=aD(),e=WO(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),t?ie.createElement("pre",{style:i},t):null,null)}const ZO=ie.createElement(QO,null);class eD extends ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ie.createElement(Tc.Provider,{value:this.props.routeContext},ie.createElement(rT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tD(n){let{routeContext:e,match:t,children:r}=n,i=ie.useContext(IC);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),ie.createElement(Tc.Provider,{value:e},r)}function nD(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let a=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||xr(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=t,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,y=!1,x=null,_=null;t&&(p=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||ZO,l&&(u<0&&h===0?(y=!0,_=null):u===h&&(y=!0,_=f.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,h+1)),A=()=>{let S;return p?S=x:y?S=_:f.route.Component?S=ie.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,ie.createElement(tD,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:t!=null},children:S})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?ie.createElement(eD,{location:t.location,revalidation:t.revalidation,component:x,error:p,children:A(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):A()},null)}var aT=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(aT||{}),gb=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(gb||{});function rD(n){let e=ie.useContext(IC);return e||xr(!1),e}function iD(n){let e=ie.useContext(GO);return e||xr(!1),e}function sD(n){let e=ie.useContext(Tc);return e||xr(!1),e}function oT(n){let e=sD(),t=e.matches[e.matches.length-1];return t.route.id||xr(!1),t.route.id}function aD(){var n;let e=ie.useContext(rT),t=iD(gb.UseRouteError),r=oT(gb.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function oD(){let{router:n}=rD(aT.UseNavigateStable),e=oT(gb.UseNavigateStable),t=ie.useRef(!1);return iT(()=>{t.current=!0}),ie.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,k1({fromRouteId:e},s)))},[n,e])}function FC(n){let{to:e,replace:t,state:r,relative:i}=n;vm()||xr(!1);let{future:s,static:a}=ie.useContext(Nd),{matches:o}=ie.useContext(Tc),{pathname:l}=Eo(),u=Zr(),d=RC(e,TC(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return ie.useEffect(()=>u(JSON.parse(f),{replace:t,state:r,relative:i}),[u,f,i,t,r]),null}function Mt(n){xr(!1)}function lD(n){let{basename:e="/",children:t=null,location:r,navigationType:i=td.Pop,navigator:s,static:a=!1,future:o}=n;vm()&&xr(!1);let l=e.replace(/^\/*/,"/"),u=ie.useMemo(()=>({basename:l,navigator:s,static:a,future:k1({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Bf(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=r,x=ie.useMemo(()=>{let _=LC(d,l);return _==null?null:{location:{pathname:_,search:f,hash:h,state:p,key:y},navigationType:i}},[l,d,f,h,p,y,i]);return x==null?null:ie.createElement(Nd.Provider,{value:u},ie.createElement(yx.Provider,{children:t,value:x}))}function cD(n){let{children:e,location:t}=n;return XO(RA(e),t)}new Promise(()=>{});function RA(n,e){e===void 0&&(e=[]);let t=[];return ie.Children.forEach(n,(r,i)=>{if(!ie.isValidElement(r))return;let s=[...e,i];if(r.type===ie.Fragment){t.push.apply(t,RA(r.props.children,s));return}r.type!==Mt&&xr(!1),!r.props.index||!r.props.children||xr(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=RA(r.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function IA(){return IA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},IA.apply(this,arguments)}function uD(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function dD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hD(n,e){return n.button===0&&(!e||e==="_self")&&!dD(n)}const fD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],pD="6";try{window.__reactRouterVersion=pD}catch{}const gD="startTransition",u3=DS[gD];function mD(n){let{basename:e,children:t,future:r,window:i}=n,s=ie.useRef();s.current==null&&(s.current=SO({window:i,v5Compat:!0}));let a=s.current,[o,l]=ie.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=ie.useCallback(f=>{u&&u3?u3(()=>l(f)):l(f)},[l,u]);return ie.useLayoutEffect(()=>a.listen(d),[a,d]),ie.createElement(lD,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:r})}const vD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ct=ie.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,h=uD(e,fD),{basename:p}=ie.useContext(Nd),y,x=!1;if(typeof u=="string"&&yD.test(u)&&(y=u,vD))try{let S=new URL(window.location.href),v=u.startsWith("//")?new URL(S.protocol+u):new URL(u),C=LC(v.pathname,p);v.origin===S.origin&&C!=null?u=C+v.search+v.hash:x=!0}catch{}let _=KO(u,{relative:i}),w=wD(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function A(S){r&&r(S),S.defaultPrevented||w(S)}return ie.createElement("a",IA({},h,{href:y||_,onClick:x||s?r:A,ref:t,target:l}))});var d3;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(d3||(d3={}));var h3;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(h3||(h3={}));function wD(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o}=e===void 0?{}:e,l=Zr(),u=Eo(),d=sT(n,{relative:a});return ie.useCallback(f=>{if(hD(f,t)){f.preventDefault();let h=r!==void 0?r:pb(u)===pb(d);l(n,{replace:h,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o})}},[u,l,d,r,i,t,n,s,a,o])}var lT={exports:{}};/*!
* sweetalert2 v11.12.3
* Released under the MIT License.
*/(function(n,e){(function(t,r){n.exports=r()})(Ri,function(){function t(O,k){(k==null||k>O.length)&&(k=O.length);for(var L=0,D=Array(k);L<k;L++)D[L]=O[L];return D}function r(O){if(Array.isArray(O))return O}function i(O){if(Array.isArray(O))return t(O)}function s(O,k,L){if(typeof O=="function"?O===k:O.has(k))return arguments.length<3?k:L;throw new TypeError("Private element is not present on this object")}function a(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function o(O,k,L){return k=A(k),z(O,v()?Reflect.construct(k,L||[],A(O).constructor):k.apply(O,L))}function l(O,k){if(k.has(O))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function d(O,k){return O.get(s(O,k))}function f(O,k,L){l(O,k),k.set(O,L)}function h(O,k,L){return O.set(s(O,k),L),L}function p(O,k,L){if(v())return Reflect.construct.apply(null,arguments);var D=[null];D.push.apply(D,k);var ue=new(O.bind.apply(O,D));return ue}function y(O,k){for(var L=0;L<k.length;L++){var D=k[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(O,he(D.key),D)}}function x(O,k,L){return k&&y(O.prototype,k),Object.defineProperty(O,"prototype",{writable:!1}),O}function _(O,k){var L=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!L){if(Array.isArray(O)||(L=X(O))||k){L&&(O=L);var D=0,ue=function(){};return{s:ue,n:function(){return D>=O.length?{done:!0}:{done:!1,value:O[D++]}},e:function(At){throw At},f:ue}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ee,Xe=!0,Lt=!1;return{s:function(){L=L.call(O)},n:function(){var At=L.next();return Xe=At.done,At},e:function(At){Lt=!0,Ee=At},f:function(){try{Xe||L.return==null||L.return()}finally{if(Lt)throw Ee}}}}function w(){return w=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(O,k,L){var D=F(O,k);if(D){var ue=Object.getOwnPropertyDescriptor(D,k);return ue.get?ue.get.call(arguments.length<3?O:L):ue.value}},w.apply(null,arguments)}function A(O){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},A(O)}function S(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),k&&q(O,k)}function v(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v=function(){return!!O})()}function C(O){if(typeof Symbol<"u"&&O[Symbol.iterator]!=null||O["@@iterator"]!=null)return Array.from(O)}function j(O,k){var L=O==null?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(L!=null){var D,ue,Ee,Xe,Lt=[],At=!0,Pn=!1;try{if(Ee=(L=L.call(O)).next,k!==0)for(;!(At=(D=Ee.call(L)).done)&&(Lt.push(D.value),Lt.length!==k);At=!0);}catch(Xa){Pn=!0,ue=Xa}finally{try{if(!At&&L.return!=null&&(Xe=L.return(),Object(Xe)!==Xe))return}finally{if(Pn)throw ue}}return Lt}}function T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(O,k){if(k&&(typeof k=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(O)}function q(O,k){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,D){return L.__proto__=D,L},q(O,k)}function R(O,k){return r(O)||j(O,k)||X(O,k)||T()}function F(O,k){for(;!{}.hasOwnProperty.call(O,k)&&(O=A(O))!==null;);return O}function $(O){return i(O)||C(O)||X(O)||P()}function W(O,k){if(typeof O!="object"||!O)return O;var L=O[Symbol.toPrimitive];if(L!==void 0){var D=L.call(O,k);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function he(O){var k=W(O,"string");return typeof k=="symbol"?k:k+""}function ne(O){"@babel/helpers - typeof";return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},ne(O)}function X(O,k){if(O){if(typeof O=="string")return t(O,k);var L={}.toString.call(O).slice(8,-1);return L==="Object"&&O.constructor&&(L=O.constructor.name),L==="Map"||L==="Set"?Array.from(O):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?t(O,k):void 0}}var K=100,ee={},de=function(){ee.previousActiveElement instanceof HTMLElement?(ee.previousActiveElement.focus(),ee.previousActiveElement=null):document.body&&document.body.focus()},xe=function(k){return new Promise(function(L){if(!k)return L();var D=window.scrollX,ue=window.scrollY;ee.restoreFocusTimeout=setTimeout(function(){de(),L()},K),window.scrollTo(D,ue)})},M="swal2-",J=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],B=J.reduce(function(O,k){return O[k]=M+k,O},{}),ae=["success","warning","info","question","error"],le=ae.reduce(function(O,k){return O[k]=M+k,O},{}),ge="SweetAlert2:",we=function(k){return k.charAt(0).toUpperCase()+k.slice(1)},Se=function(k){console.warn("".concat(ge," ").concat(ne(k)==="object"?k.join(" "):k))},Le=function(k){console.error("".concat(ge," ").concat(k))},De=[],Ve=function(k){De.includes(k)||(De.push(k),Se(k))},Ue=function(k){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Ve('"'.concat(k,'" is deprecated and will be removed in the next major release.').concat(L?' Use "'.concat(L,'" instead.'):""))},Ze=function(k){return typeof k=="function"?k():k},Ce=function(k){return k&&typeof k.toPromise=="function"},ce=function(k){return Ce(k)?k.toPromise():Promise.resolve(k)},ft=function(k){return k&&Promise.resolve(k)===k},Je=function(){return document.body.querySelector(".".concat(B.container))},ze=function(k){var L=Je();return L?L.querySelector(k):null},qe=function(k){return ze(".".concat(k))},Me=function(){return qe(B.popup)},fe=function(){return qe(B.icon)},Te=function(){return qe(B["icon-content"])},Oe=function(){return qe(B.title)},He=function(){return qe(B["html-container"])},Ye=function(){return qe(B.image)},tt=function(){return qe(B["progress-steps"])},pt=function(){return qe(B["validation-message"])},nt=function(){return ze(".".concat(B.actions," .").concat(B.confirm))},yt=function(){return ze(".".concat(B.actions," .").concat(B.cancel))},Ge=function(){return ze(".".concat(B.actions," .").concat(B.deny))},Ar=function(){return qe(B["input-label"])},Ot=function(){return ze(".".concat(B.loader))},_r=function(){return qe(B.actions)},an=function(){return qe(B.footer)},pn=function(){return qe(B["timer-progress-bar"])},ts=function(){return qe(B.close)},on=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Fa=function(){var k=Me();if(!k)return[];var L=k.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),D=Array.from(L).sort(function(Xe,Lt){var At=parseInt(Xe.getAttribute("tabindex")||"0"),Pn=parseInt(Lt.getAttribute("tabindex")||"0");return At>Pn?1:At<Pn?-1:0}),ue=k.querySelectorAll(on),Ee=Array.from(ue).filter(function(Xe){return Xe.getAttribute("tabindex")!=="-1"});return $(new Set(D.concat(Ee))).filter(function(Xe){return On(Xe)})},Mn=function(){return vt(document.body,B.shown)&&!vt(document.body,B["toast-shown"])&&!vt(document.body,B["no-backdrop"])},wi=function(){var k=Me();return k?vt(k,B.toast):!1},Ma=function(){var k=Me();return k?k.hasAttribute("data-loading"):!1},Vt=function(k,L){if(k.textContent="",L){var D=new DOMParser,ue=D.parseFromString(L,"text/html"),Ee=ue.querySelector("head");Ee&&Array.from(Ee.childNodes).forEach(function(Lt){k.appendChild(Lt)});var Xe=ue.querySelector("body");Xe&&Array.from(Xe.childNodes).forEach(function(Lt){Lt instanceof HTMLVideoElement||Lt instanceof HTMLAudioElement?k.appendChild(Lt.cloneNode(!0)):k.appendChild(Lt)})}},vt=function(k,L){if(!L)return!1;for(var D=L.split(/\s+/),ue=0;ue<D.length;ue++)if(!k.classList.contains(D[ue]))return!1;return!0},ln=function(k,L){Array.from(k.classList).forEach(function(D){!Object.values(B).includes(D)&&!Object.values(le).includes(D)&&!Object.values(L.showClass||{}).includes(D)&&k.classList.remove(D)})},hr=function(k,L,D){if(ln(k,L),!!L.customClass){var ue=L.customClass[D];if(ue){if(typeof ue!="string"&&!ue.forEach){Se("Invalid type of customClass.".concat(D,'! Expected string or iterable object, got "').concat(ne(ue),'"'));return}Ke(k,ue)}}},sr=function(k,L){if(!L)return null;switch(L){case"select":case"textarea":case"file":return k.querySelector(".".concat(B.popup," > .").concat(B[L]));case"checkbox":return k.querySelector(".".concat(B.popup," > .").concat(B.checkbox," input"));case"radio":return k.querySelector(".".concat(B.popup," > .").concat(B.radio," input:checked"))||k.querySelector(".".concat(B.popup," > .").concat(B.radio," input:first-child"));case"range":return k.querySelector(".".concat(B.popup," > .").concat(B.range," input"));default:return k.querySelector(".".concat(B.popup," > .").concat(B.input))}},Ls=function(k){if(k.focus(),k.type!=="file"){var L=k.value;k.value="",k.value=L}},Ts=function(k,L,D){!k||!L||(typeof L=="string"&&(L=L.split(/\s+/).filter(Boolean)),L.forEach(function(ue){Array.isArray(k)?k.forEach(function(Ee){D?Ee.classList.add(ue):Ee.classList.remove(ue)}):D?k.classList.add(ue):k.classList.remove(ue)}))},Ke=function(k,L){Ts(k,L,!0)},ar=function(k,L){Ts(k,L,!1)},Lr=function(k,L){for(var D=Array.from(k.children),ue=0;ue<D.length;ue++){var Ee=D[ue];if(Ee instanceof HTMLElement&&vt(Ee,L))return Ee}},or=function(k,L,D){D==="".concat(parseInt(D))&&(D=parseInt(D)),D||parseInt(D)===0?k.style.setProperty(L,typeof D=="number"?"".concat(D,"px"):D):k.style.removeProperty(L)},Bt=function(k){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";k&&(k.style.display=L)},Ht=function(k){k&&(k.style.display="none")},ni=function(k){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";k&&new MutationObserver(function(){Di(k,k.innerHTML,L)}).observe(k,{childList:!0,subtree:!0})},Sl=function(k,L,D,ue){var Ee=k.querySelector(L);Ee&&Ee.style.setProperty(D,ue)},Di=function(k,L){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";L?Bt(k,D):Ht(k)},On=function(k){return!!(k&&(k.offsetWidth||k.offsetHeight||k.getClientRects().length))},Rs=function(){return!On(nt())&&!On(Ge())&&!On(yt())},ns=function(k){return k.scrollHeight>k.clientHeight},Is=function(k){var L=window.getComputedStyle(k),D=parseFloat(L.getPropertyValue("animation-duration")||"0"),ue=parseFloat(L.getPropertyValue("transition-duration")||"0");return D>0||ue>0},bi=function(k){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=pn();D&&On(D)&&(L&&(D.style.transition="none",D.style.width="100%"),setTimeout(function(){D.style.transition="width ".concat(k/1e3,"s linear"),D.style.width="0%"},10))},ha=function(){var k=pn();if(k){var L=parseInt(window.getComputedStyle(k).width);k.style.removeProperty("transition"),k.style.width="100%";var D=parseInt(window.getComputedStyle(k).width),ue=L/D*100;k.style.width="".concat(ue,"%")}},Lo=function(){return typeof window>"u"||typeof document>"u"},Oc=`
 <div aria-labelledby="`.concat(B.title,'" aria-describedby="').concat(B["html-container"],'" class="').concat(B.popup,`" tabindex="-1">
   <button type="button" class="`).concat(B.close,`"></button>
   <ul class="`).concat(B["progress-steps"],`"></ul>
   <div class="`).concat(B.icon,`"></div>
   <img class="`).concat(B.image,`" />
   <h2 class="`).concat(B.title,'" id="').concat(B.title,`"></h2>
   <div class="`).concat(B["html-container"],'" id="').concat(B["html-container"],`"></div>
   <input class="`).concat(B.input,'" id="').concat(B.input,`" />
   <input type="file" class="`).concat(B.file,`" />
   <div class="`).concat(B.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(B.select,'" id="').concat(B.select,`"></select>
   <div class="`).concat(B.radio,`"></div>
   <label class="`).concat(B.checkbox,`">
     <input type="checkbox" id="`).concat(B.checkbox,`" />
     <span class="`).concat(B.label,`"></span>
   </label>
   <textarea class="`).concat(B.textarea,'" id="').concat(B.textarea,`"></textarea>
   <div class="`).concat(B["validation-message"],'" id="').concat(B["validation-message"],`"></div>
   <div class="`).concat(B.actions,`">
     <div class="`).concat(B.loader,`"></div>
     <button type="button" class="`).concat(B.confirm,`"></button>
     <button type="button" class="`).concat(B.deny,`"></button>
     <button type="button" class="`).concat(B.cancel,`"></button>
   </div>
   <div class="`).concat(B.footer,`"></div>
   <div class="`).concat(B["timer-progress-bar-container"],`">
     <div class="`).concat(B["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Dc=function(){var k=Je();return k?(k.remove(),ar([document.documentElement,document.body],[B["no-backdrop"],B["toast-shown"],B["has-column"]]),!0):!1},rs=function(){ee.currentInstance.resetValidationMessage()},Bc=function(){var k=Me(),L=Lr(k,B.input),D=Lr(k,B.file),ue=k.querySelector(".".concat(B.range," input")),Ee=k.querySelector(".".concat(B.range," output")),Xe=Lr(k,B.select),Lt=k.querySelector(".".concat(B.checkbox," input")),At=Lr(k,B.textarea);L.oninput=rs,D.onchange=rs,Xe.onchange=rs,Lt.onchange=rs,At.oninput=rs,ue.oninput=function(){rs(),Ee.value=ue.value},ue.onchange=function(){rs(),Ee.value=ue.value}},Yf=function(k){return typeof k=="string"?document.querySelector(k):k},xm=function(k){var L=Me();L.setAttribute("role",k.toast?"alert":"dialog"),L.setAttribute("aria-live",k.toast?"polite":"assertive"),k.toast||L.setAttribute("aria-modal","true")},Sm=function(k){window.getComputedStyle(k).direction==="rtl"&&Ke(Je(),B.rtl)},zc=function(k){var L=Dc();if(Lo()){Le("SweetAlert2 requires document to initialize");return}var D=document.createElement("div");D.className=B.container,L&&Ke(D,B["no-transition"]),Vt(D,Oc);var ue=Yf(k.target);ue.appendChild(D),xm(k),Sm(ue),Bc()},Uc=function(k,L){k instanceof HTMLElement?L.appendChild(k):ne(k)==="object"?Am(k,L):k&&Vt(L,k)},Am=function(k,L){k.jquery?Id(L,k):Vt(L,k.toString())},Id=function(k,L){if(k.textContent="",0 in L)for(var D=0;D in L;D++)k.appendChild(L[D].cloneNode(!0));else k.appendChild(L.cloneNode(!0))},Oa=function(){if(Lo())return!1;var O=document.createElement("div");return typeof O.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof O.style.animation<"u"?"animationend":!1}(),Xf=function(k,L){var D=_r(),ue=Ot();!D||!ue||(!L.showConfirmButton&&!L.showDenyButton&&!L.showCancelButton?Ht(D):Bt(D),hr(D,L,"actions"),_m(D,ue,L),Vt(ue,L.loaderHtml||""),hr(ue,L,"loader"))};function _m(O,k,L){var D=nt(),ue=Ge(),Ee=yt();!D||!ue||!Ee||(Fd(D,"confirm",L),Fd(ue,"deny",L),Fd(Ee,"cancel",L),Hc(D,ue,Ee,L),L.reverseButtons&&(L.toast?(O.insertBefore(Ee,D),O.insertBefore(ue,D)):(O.insertBefore(Ee,k),O.insertBefore(ue,k),O.insertBefore(D,k))))}function Hc(O,k,L,D){if(!D.buttonsStyling){ar([O,k,L],B.styled);return}Ke([O,k,L],B.styled),D.confirmButtonColor&&(O.style.backgroundColor=D.confirmButtonColor,Ke(O,B["default-outline"])),D.denyButtonColor&&(k.style.backgroundColor=D.denyButtonColor,Ke(k,B["default-outline"])),D.cancelButtonColor&&(L.style.backgroundColor=D.cancelButtonColor,Ke(L,B["default-outline"]))}function Fd(O,k,L){var D=we(k);Di(O,L["show".concat(D,"Button")],"inline-block"),Vt(O,L["".concat(k,"ButtonText")]||""),O.setAttribute("aria-label",L["".concat(k,"ButtonAriaLabel")]||""),O.className=B[k],hr(O,L,"".concat(k,"Button"))}var Jn=function(k,L){var D=ts();D&&(Vt(D,L.closeButtonHtml||""),hr(D,L,"closeButton"),Di(D,L.showCloseButton),D.setAttribute("aria-label",L.closeButtonAriaLabel||""))},Jf=function(k,L){var D=Je();D&&(Qf(D,L.backdrop),Zf(D,L.position),Md(D,L.grow),hr(D,L,"container"))};function Qf(O,k){typeof k=="string"?O.style.background=k:k||Ke([document.documentElement,document.body],B["no-backdrop"])}function Zf(O,k){k&&(k in B?Ke(O,B[k]):(Se('The "position" parameter is not valid, defaulting to "center"'),Ke(O,B.center)))}function Md(O,k){k&&Ke(O,B["grow-".concat(k)])}var hn={innerParams:new WeakMap,domCache:new WeakMap},Fs=["input","file","range","select","radio","checkbox","textarea"],$c=function(k,L){var D=Me();if(D){var ue=hn.innerParams.get(k),Ee=!ue||L.input!==ue.input;Fs.forEach(function(Xe){var Lt=Lr(D,B[Xe]);Lt&&(ep(Xe,L.inputAttributes),Lt.className=B[Xe],Ee&&Ht(Lt))}),L.input&&(Ee&&xi(L),km(L))}},xi=function(k){if(k.input){if(!jn[k.input]){Le("Unexpected type of input! Expected ".concat(Object.keys(jn).join(" | "),', got "').concat(k.input,'"'));return}var L=Dd(k.input);if(L){var D=jn[k.input](L,k);Bt(L),k.inputAutoFocus&&setTimeout(function(){Ls(D)})}}},Od=function(k){for(var L=0;L<k.attributes.length;L++){var D=k.attributes[L].name;["id","type","value","style"].includes(D)||k.removeAttribute(D)}},ep=function(k,L){var D=Me();if(D){var ue=sr(D,k);if(ue){Od(ue);for(var Ee in L)ue.setAttribute(Ee,L[Ee])}}},km=function(k){if(k.input){var L=Dd(k.input);L&&hr(L,k,"input")}},qc=function(k,L){!k.placeholder&&L.inputPlaceholder&&(k.placeholder=L.inputPlaceholder)},Al=function(k,L,D){if(D.inputLabel){var ue=document.createElement("label"),Ee=B["input-label"];ue.setAttribute("for",k.id),ue.className=Ee,ne(D.customClass)==="object"&&Ke(ue,D.customClass.inputLabel),ue.innerText=D.inputLabel,L.insertAdjacentElement("beforebegin",ue)}},Dd=function(k){var L=Me();if(L)return Lr(L,B[k]||B.input)},Wc=function(k,L){["string","number"].includes(ne(L))?k.value="".concat(L):ft(L)||Se('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(ne(L),'"'))},jn={};jn.text=jn.email=jn.password=jn.number=jn.tel=jn.url=jn.search=jn.date=jn["datetime-local"]=jn.time=jn.week=jn.month=function(O,k){return Wc(O,k.inputValue),Al(O,O,k),qc(O,k),O.type=k.input,O},jn.file=function(O,k){return Al(O,O,k),qc(O,k),O},jn.range=function(O,k){var L=O.querySelector("input"),D=O.querySelector("output");return Wc(L,k.inputValue),L.type=k.input,Wc(D,k.inputValue),Al(L,O,k),O},jn.select=function(O,k){if(O.textContent="",k.inputPlaceholder){var L=document.createElement("option");Vt(L,k.inputPlaceholder),L.value="",L.disabled=!0,L.selected=!0,O.appendChild(L)}return Al(O,O,k),O},jn.radio=function(O){return O.textContent="",O},jn.checkbox=function(O,k){var L=sr(Me(),"checkbox");L.value="1",L.checked=!!k.inputValue;var D=O.querySelector("span");return Vt(D,k.inputPlaceholder),L},jn.textarea=function(O,k){Wc(O,k.inputValue),qc(O,k),Al(O,O,k);var L=function(ue){return parseInt(window.getComputedStyle(ue).marginLeft)+parseInt(window.getComputedStyle(ue).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var D=parseInt(window.getComputedStyle(Me()).width),ue=function(){if(document.body.contains(O)){var Xe=O.offsetWidth+L(O);Xe>D?Me().style.width="".concat(Xe,"px"):or(Me(),"width",k.width)}};new MutationObserver(ue).observe(O,{attributes:!0,attributeFilter:["style"]})}}),O};var Cm=function(k,L){var D=He();D&&(ni(D),hr(D,L,"htmlContainer"),L.html?(Uc(L.html,D),Bt(D,"block")):L.text?(D.textContent=L.text,Bt(D,"block")):Ht(D),$c(k,L))},Em=function(k,L){var D=an();D&&(ni(D),Di(D,L.footer,"block"),L.footer&&Uc(L.footer,D),hr(D,L,"footer"))},Nm=function(k,L){var D=hn.innerParams.get(k),ue=fe();if(ue){if(D&&L.icon===D.icon){Tr(ue,L),fa(ue,L);return}if(!L.icon&&!L.iconHtml){Ht(ue);return}if(L.icon&&Object.keys(le).indexOf(L.icon)===-1){Le('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(L.icon,'"')),Ht(ue);return}Bt(ue),Tr(ue,L),fa(ue,L),Ke(ue,L.showClass&&L.showClass.icon)}},fa=function(k,L){for(var D=0,ue=Object.entries(le);D<ue.length;D++){var Ee=R(ue[D],2),Xe=Ee[0],Lt=Ee[1];L.icon!==Xe&&ar(k,Lt)}Ke(k,L.icon&&le[L.icon]),jm(k,L),Vc(),hr(k,L,"icon")},Vc=function(){var k=Me();if(k)for(var L=window.getComputedStyle(k).getPropertyValue("background-color"),D=k.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),ue=0;ue<D.length;ue++)D[ue].style.backgroundColor=L},Gc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,tp=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Tr=function(k,L){if(!(!L.icon&&!L.iconHtml)){var D=k.innerHTML,ue="";if(L.iconHtml)ue=Bd(L.iconHtml);else if(L.icon==="success")ue=Gc,D=D.replace(/ style=".*?"/g,"");else if(L.icon==="error")ue=tp;else if(L.icon){var Ee={question:"?",warning:"!",info:"i"};ue=Bd(Ee[L.icon])}D.trim()!==ue.trim()&&Vt(k,ue)}},jm=function(k,L){if(L.iconColor){k.style.color=L.iconColor,k.style.borderColor=L.iconColor;for(var D=0,ue=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];D<ue.length;D++){var Ee=ue[D];Sl(k,Ee,"background-color",L.iconColor)}Sl(k,".swal2-success-ring","border-color",L.iconColor)}},Bd=function(k){return'<div class="'.concat(B["icon-content"],'">').concat(k,"</div>")},_t=function(k,L){var D=Ye();if(D){if(!L.imageUrl){Ht(D);return}Bt(D,""),D.setAttribute("src",L.imageUrl),D.setAttribute("alt",L.imageAlt||""),or(D,"width",L.imageWidth),or(D,"height",L.imageHeight),D.className=B.image,hr(D,L,"image")}},Pm=function(k,L){var D=Je(),ue=Me();if(!(!D||!ue)){if(L.toast){or(D,"width",L.width),ue.style.width="100%";var Ee=Ot();Ee&&ue.insertBefore(Ee,fe())}else or(ue,"width",L.width);or(ue,"padding",L.padding),L.color&&(ue.style.color=L.color),L.background&&(ue.style.background=L.background),Ht(pt()),Lm(ue,L)}},Lm=function(k,L){var D=L.showClass||{};k.className="".concat(B.popup," ").concat(On(k)?D.popup:""),L.toast?(Ke([document.documentElement,document.body],B["toast-shown"]),Ke(k,B.toast)):Ke(k,B.modal),hr(k,L,"popup"),typeof L.customClass=="string"&&Ke(k,L.customClass),L.icon&&Ke(k,B["icon-".concat(L.icon)])},pa=function(k,L){var D=tt();if(D){var ue=L.progressSteps,Ee=L.currentProgressStep;if(!ue||ue.length===0||Ee===void 0){Ht(D);return}Bt(D),D.textContent="",Ee>=ue.length&&Se("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),ue.forEach(function(Xe,Lt){var At=np(Xe);if(D.appendChild(At),Lt===Ee&&Ke(At,B["active-progress-step"]),Lt!==ue.length-1){var Pn=rp(L);D.appendChild(Pn)}})}},np=function(k){var L=document.createElement("li");return Ke(L,B["progress-step"]),Vt(L,k),L},rp=function(k){var L=document.createElement("li");return Ke(L,B["progress-step-line"]),k.progressStepsDistance&&or(L,"width",k.progressStepsDistance),L},Kc=function(k,L){var D=Oe();D&&(ni(D),Di(D,L.title||L.titleText,"block"),L.title&&Uc(L.title,D),L.titleText&&(D.innerText=L.titleText),hr(D,L,"title"))},Yc=function(k,L){Pm(k,L),Jf(k,L),pa(k,L),Nm(k,L),_t(k,L),Kc(k,L),Jn(k,L),Cm(k,L),Xf(k,L),Em(k,L);var D=Me();typeof L.didRender=="function"&&D&&L.didRender(D)},Tm=function(){return On(Me())},ip=function(){var k;return(k=nt())===null||k===void 0?void 0:k.click()},Rm=function(){var k;return(k=Ge())===null||k===void 0?void 0:k.click()},zd=function(){var k;return(k=yt())===null||k===void 0?void 0:k.click()},is=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Da=function(k){k.keydownTarget&&k.keydownHandlerAdded&&(k.keydownTarget.removeEventListener("keydown",k.keydownHandler,{capture:k.keydownListenerCapture}),k.keydownHandlerAdded=!1)},Im=function(k,L,D){Da(k),L.toast||(k.keydownHandler=function(ue){return sp(L,ue,D)},k.keydownTarget=L.keydownListenerCapture?window:Me(),k.keydownListenerCapture=L.keydownListenerCapture,k.keydownTarget.addEventListener("keydown",k.keydownHandler,{capture:k.keydownListenerCapture}),k.keydownHandlerAdded=!0)},Ba=function(k,L){var D,ue=Fa();if(ue.length){k=k+L,k===ue.length?k=0:k===-1&&(k=ue.length-1),ue[k].focus();return}(D=Me())===null||D===void 0||D.focus()},Xc=["ArrowRight","ArrowDown"],Jc=["ArrowLeft","ArrowUp"],sp=function(k,L,D){k&&(L.isComposing||L.keyCode===229||(k.stopKeydownPropagation&&L.stopPropagation(),L.key==="Enter"?ap(L,k):L.key==="Tab"?op(L):[].concat(Xc,Jc).includes(L.key)?lp(L.key):L.key==="Escape"&&za(L,k,D)))},ap=function(k,L){if(Ze(L.allowEnterKey)){var D=sr(Me(),L.input);if(k.target&&D&&k.target instanceof HTMLElement&&k.target.outerHTML===D.outerHTML){if(["textarea","file"].includes(L.input))return;ip(),k.preventDefault()}}},op=function(k){for(var L=k.target,D=Fa(),ue=-1,Ee=0;Ee<D.length;Ee++)if(L===D[Ee]){ue=Ee;break}k.shiftKey?Ba(ue,-1):Ba(ue,1),k.stopPropagation(),k.preventDefault()},lp=function(k){var L=_r(),D=nt(),ue=Ge(),Ee=yt();if(!(!L||!D||!ue||!Ee)){var Xe=[D,ue,Ee];if(!(document.activeElement instanceof HTMLElement&&!Xe.includes(document.activeElement))){var Lt=Xc.includes(k)?"nextElementSibling":"previousElementSibling",At=document.activeElement;if(At){for(var Pn=0;Pn<L.children.length;Pn++){if(At=At[Lt],!At)return;if(At instanceof HTMLButtonElement&&On(At))break}At instanceof HTMLButtonElement&&At.focus()}}}},za=function(k,L,D){Ze(L.allowEscapeKey)&&(k.preventDefault(),D(is.esc))},Bi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Fm=function(){var k=Je(),L=Array.from(document.body.children);L.forEach(function(D){D.contains(k)||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")||""),D.setAttribute("aria-hidden","true"))})},Ua=function(){var k=Array.from(document.body.children);k.forEach(function(L){L.hasAttribute("data-previous-aria-hidden")?(L.setAttribute("aria-hidden",L.getAttribute("data-previous-aria-hidden")||""),L.removeAttribute("data-previous-aria-hidden")):L.removeAttribute("aria-hidden")})},ss=typeof window<"u"&&!!window.GestureEvent,Ud=function(){if(ss&&!vt(document.body,B.iosfix)){var k=document.body.scrollTop;document.body.style.top="".concat(k*-1,"px"),Ke(document.body,B.iosfix),_l()}},_l=function(){var k=Je();if(k){var L;k.ontouchstart=function(D){L=Mm(D)},k.ontouchmove=function(D){L&&(D.preventDefault(),D.stopPropagation())}}},Mm=function(k){var L=k.target,D=Je(),ue=He();return!D||!ue||Qc(k)||Om(k)?!1:L===D||!ns(D)&&L instanceof HTMLElement&&L.tagName!=="INPUT"&&L.tagName!=="TEXTAREA"&&!(ns(ue)&&ue.contains(L))},Qc=function(k){return k.touches&&k.touches.length&&k.touches[0].touchType==="stylus"},Om=function(k){return k.touches&&k.touches.length>1},Hd=function(){if(vt(document.body,B.iosfix)){var k=parseInt(document.body.style.top,10);ar(document.body,B.iosfix),document.body.style.top="",document.body.scrollTop=k*-1}},$d=function(){var k=document.createElement("div");k.className=B["scrollbar-measure"],document.body.appendChild(k);var L=k.getBoundingClientRect().width-k.clientWidth;return document.body.removeChild(k),L},Ha=null,Zc=function(k){Ha===null&&(document.body.scrollHeight>window.innerHeight||k==="scroll")&&(Ha=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Ha+$d(),"px"))},qd=function(){Ha!==null&&(document.body.style.paddingRight="".concat(Ha,"px"),Ha=null)};function eu(O,k,L,D){wi()?H(O,D):(xe(L).then(function(){return H(O,D)}),Da(ee)),ss?(k.setAttribute("style","display:none !important"),k.removeAttribute("class"),k.innerHTML=""):k.remove(),Mn()&&(qd(),Hd(),Ua()),cp()}function cp(){ar([document.documentElement,document.body],[B.shown,B["height-auto"],B["no-backdrop"],B["toast-shown"]])}function ga(O){O=Ro(O);var k=Bi.swalPromiseResolve.get(this),L=tu(this);this.isAwaitingPromise?O.isDismissed||($a(this),k(O)):L&&k(O)}var tu=function(k){var L=Me();if(!L)return!1;var D=hn.innerParams.get(k);if(!D||vt(L,D.hideClass.popup))return!1;ar(L,D.showClass.popup),Ke(L,D.hideClass.popup);var ue=Je();return ar(ue,D.showClass.backdrop),Ke(ue,D.hideClass.backdrop),Wd(k,L,D),!0};function To(O){var k=Bi.swalPromiseReject.get(this);$a(this),k&&k(O)}var $a=function(k){k.isAwaitingPromise&&(delete k.isAwaitingPromise,hn.innerParams.get(k)||k._destroy())},Ro=function(k){return typeof k>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},k)},Wd=function(k,L,D){var ue=Je(),Ee=Oa&&Is(L);typeof D.willClose=="function"&&D.willClose(L),Ee?E(k,L,ue,D.returnFocus,D.didClose):eu(k,ue,D.returnFocus,D.didClose)},E=function(k,L,D,ue,Ee){Oa&&(ee.swalCloseEventFinishedCallback=eu.bind(null,k,D,ue,Ee),L.addEventListener(Oa,function(Xe){Xe.target===L&&(ee.swalCloseEventFinishedCallback(),delete ee.swalCloseEventFinishedCallback)}))},H=function(k,L){setTimeout(function(){typeof L=="function"&&L.bind(k.params)(),k._destroy&&k._destroy()})},oe=function(k){var L=Me();if(L||new Bs,L=Me(),!!L){var D=Ot();wi()?Ht(fe()):pe(L,k),Bt(D),L.setAttribute("data-loading","true"),L.setAttribute("aria-busy","true"),L.focus()}},pe=function(k,L){var D=_r(),ue=Ot();!D||!ue||(!L&&On(nt())&&(L=nt()),Bt(D),L&&(Ht(L),ue.setAttribute("data-button-to-replace",L.className),D.insertBefore(ue,L)),Ke([k,D],B.loading))},Ae=function(k,L){L.input==="select"||L.input==="radio"?Ct(k,L):["text","email","number","tel","textarea"].some(function(D){return D===L.input})&&(Ce(L.inputValue)||ft(L.inputValue))&&(oe(nt()),Rt(k,L))},je=function(k,L){var D=k.getInput();if(!D)return null;switch(L.input){case"checkbox":return $e(D);case"radio":return rt(D);case"file":return gt(D);default:return L.inputAutoTrim?D.value.trim():D.value}},$e=function(k){return k.checked?1:0},rt=function(k){return k.checked?k.value:null},gt=function(k){return k.files&&k.files.length?k.getAttribute("multiple")!==null?k.files:k.files[0]:null},Ct=function(k,L){var D=Me();if(D){var ue=function(Xe){L.input==="select"?Gt(D,$n(Xe),L):L.input==="radio"&&Hn(D,$n(Xe),L)};Ce(L.inputOptions)||ft(L.inputOptions)?(oe(nt()),ce(L.inputOptions).then(function(Ee){k.hideLoading(),ue(Ee)})):ne(L.inputOptions)==="object"?ue(L.inputOptions):Le("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(ne(L.inputOptions)))}},Rt=function(k,L){var D=k.getInput();D&&(Ht(D),ce(L.inputValue).then(function(ue){D.value=L.input==="number"?"".concat(parseFloat(ue)||0):"".concat(ue),Bt(D),D.focus(),k.hideLoading()}).catch(function(ue){Le("Error in inputValue promise: ".concat(ue)),D.value="",Bt(D),D.focus(),k.hideLoading()}))};function Gt(O,k,L){var D=Lr(O,B.select);if(D){var ue=function(Xe,Lt,At){var Pn=document.createElement("option");Pn.value=At,Vt(Pn,Lt),Pn.selected=Qn(At,L.inputValue),Xe.appendChild(Pn)};k.forEach(function(Ee){var Xe=Ee[0],Lt=Ee[1];if(Array.isArray(Lt)){var At=document.createElement("optgroup");At.label=Xe,At.disabled=!1,D.appendChild(At),Lt.forEach(function(Pn){return ue(At,Pn[1],Pn[0])})}else ue(D,Lt,Xe)}),D.focus()}}function Hn(O,k,L){var D=Lr(O,B.radio);if(D){k.forEach(function(Ee){var Xe=Ee[0],Lt=Ee[1],At=document.createElement("input"),Pn=document.createElement("label");At.type="radio",At.name=B.radio,At.value=Xe,Qn(Xe,L.inputValue)&&(At.checked=!0);var Xa=document.createElement("span");Vt(Xa,Lt),Xa.className=B.label,Pn.appendChild(At),Pn.appendChild(Xa),D.appendChild(Pn)});var ue=D.querySelectorAll("input");ue.length&&ue[0].focus()}}var $n=function O(k){var L=[];return k instanceof Map?k.forEach(function(D,ue){var Ee=D;ne(Ee)==="object"&&(Ee=O(Ee)),L.push([ue,Ee])}):Object.keys(k).forEach(function(D){var ue=k[D];ne(ue)==="object"&&(ue=O(ue)),L.push([D,ue])}),L},Qn=function(k,L){return!!L&&L.toString()===k.toString()},fr=void 0,kr=function(k){var L=hn.innerParams.get(k);k.disableButtons(),L.input?ma(k,"confirm"):El(k,!0)},Ms=function(k){var L=hn.innerParams.get(k);k.disableButtons(),L.returnInputValueOnDeny?ma(k,"deny"):kl(k,!1)},zi=function(k,L){k.disableButtons(),L(is.cancel)},ma=function(k,L){var D=hn.innerParams.get(k);if(!D.input){Le('The "input" parameter is needed to be set when using returnInputValueOn'.concat(we(L)));return}var ue=k.getInput(),Ee=je(k,D);D.inputValidator?up(k,Ee,L):ue&&!ue.checkValidity()?(k.enableButtons(),k.showValidationMessage(D.validationMessage||ue.validationMessage)):L==="deny"?kl(k,Ee):El(k,Ee)},up=function(k,L,D){var ue=hn.innerParams.get(k);k.disableInput();var Ee=Promise.resolve().then(function(){return ce(ue.inputValidator(L,ue.validationMessage))});Ee.then(function(Xe){k.enableButtons(),k.enableInput(),Xe?k.showValidationMessage(Xe):D==="deny"?kl(k,L):El(k,L)})},kl=function(k,L){var D=hn.innerParams.get(k||fr);if(D.showLoaderOnDeny&&oe(Ge()),D.preDeny){k.isAwaitingPromise=!0;var ue=Promise.resolve().then(function(){return ce(D.preDeny(L,D.validationMessage))});ue.then(function(Ee){Ee===!1?(k.hideLoading(),$a(k)):k.close({isDenied:!0,value:typeof Ee>"u"?L:Ee})}).catch(function(Ee){return Cl(k||fr,Ee)})}else k.close({isDenied:!0,value:L})},nu=function(k,L){k.close({isConfirmed:!0,value:L})},Cl=function(k,L){k.rejectPromise(L)},El=function(k,L){var D=hn.innerParams.get(k||fr);if(D.showLoaderOnConfirm&&oe(),D.preConfirm){k.resetValidationMessage(),k.isAwaitingPromise=!0;var ue=Promise.resolve().then(function(){return ce(D.preConfirm(L,D.validationMessage))});ue.then(function(Ee){On(pt())||Ee===!1?(k.hideLoading(),$a(k)):nu(k,typeof Ee>"u"?L:Ee)}).catch(function(Ee){return Cl(k||fr,Ee)})}else nu(k,L)};function Io(){var O=hn.innerParams.get(this);if(O){var k=hn.domCache.get(this);Ht(k.loader),wi()?O.icon&&Bt(fe()):ru(k),ar([k.popup,k.actions],B.loading),k.popup.removeAttribute("aria-busy"),k.popup.removeAttribute("data-loading"),k.confirmButton.disabled=!1,k.denyButton.disabled=!1,k.cancelButton.disabled=!1}}var ru=function(k){var L=k.popup.getElementsByClassName(k.loader.getAttribute("data-button-to-replace"));L.length?Bt(L[0],"inline-block"):Rs()&&Ht(k.actions)};function ri(){var O=hn.innerParams.get(this),k=hn.domCache.get(this);return k?sr(k.popup,O.input):null}function Nl(O,k,L){var D=hn.domCache.get(O);k.forEach(function(ue){D[ue].disabled=L})}function jl(O,k){var L=Me();if(!(!L||!O))if(O.type==="radio")for(var D=L.querySelectorAll('[name="'.concat(B.radio,'"]')),ue=0;ue<D.length;ue++)D[ue].disabled=k;else O.disabled=k}function Pl(){Nl(this,["confirmButton","denyButton","cancelButton"],!1)}function iu(){Nl(this,["confirmButton","denyButton","cancelButton"],!0)}function ii(){jl(this.getInput(),!1)}function dp(){jl(this.getInput(),!0)}function su(O){var k=hn.domCache.get(this),L=hn.innerParams.get(this);Vt(k.validationMessage,O),k.validationMessage.className=B["validation-message"],L.customClass&&L.customClass.validationMessage&&Ke(k.validationMessage,L.customClass.validationMessage),Bt(k.validationMessage);var D=this.getInput();D&&(D.setAttribute("aria-invalid","true"),D.setAttribute("aria-describedby",B["validation-message"]),Ls(D),Ke(D,B.inputerror))}function Vd(){var O=hn.domCache.get(this);O.validationMessage&&Ht(O.validationMessage);var k=this.getInput();k&&(k.removeAttribute("aria-invalid"),k.removeAttribute("aria-describedby"),ar(k,B.inputerror))}var qr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Gd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Dm={allowEnterKey:void 0},Bm=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],qa=function(k){return Object.prototype.hasOwnProperty.call(qr,k)},Ui=function(k){return Gd.indexOf(k)!==-1},as=function(k){return Dm[k]},Fo=function(k){qa(k)||Se('Unknown parameter "'.concat(k,'"'))},va=function(k){Bm.includes(k)&&Se('The parameter "'.concat(k,'" is incompatible with toasts'))},Wa=function(k){var L=as(k);L&&Ue(k,L)},au=function(k){k.backdrop===!1&&k.allowOutsideClick&&Se('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var L in k)Fo(L),k.toast&&va(L),Wa(L)};function os(O){var k=Me(),L=hn.innerParams.get(this);if(!k||vt(k,L.hideClass.popup)){Se("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var D=ou(O),ue=Object.assign({},L,D);Yc(this,ue),hn.innerParams.set(this,ue),Object.defineProperties(this,{params:{value:Object.assign({},this.params,O),writable:!1,enumerable:!0}})}var ou=function(k){var L={};return Object.keys(k).forEach(function(D){Ui(D)?L[D]=k[D]:Se("Invalid parameter to update: ".concat(D))}),L};function lu(){var O=hn.domCache.get(this),k=hn.innerParams.get(this);if(!k){ls(this);return}O.popup&&ee.swalCloseEventFinishedCallback&&(ee.swalCloseEventFinishedCallback(),delete ee.swalCloseEventFinishedCallback),typeof k.didDestroy=="function"&&k.didDestroy(),Mo(this)}var Mo=function(k){ls(k),delete k.params,delete ee.keydownHandler,delete ee.keydownTarget,delete ee.currentInstance},ls=function(k){k.isAwaitingPromise?(Os(hn,k),k.isAwaitingPromise=!0):(Os(Bi,k),Os(hn,k),delete k.isAwaitingPromise,delete k.disableButtons,delete k.enableButtons,delete k.getInput,delete k.disableInput,delete k.enableInput,delete k.hideLoading,delete k.disableLoading,delete k.showValidationMessage,delete k.resetValidationMessage,delete k.close,delete k.closePopup,delete k.closeModal,delete k.closeToast,delete k.rejectPromise,delete k.update,delete k._destroy)},Os=function(k,L){for(var D in k)k[D].delete(L)},Ll=Object.freeze({__proto__:null,_destroy:lu,close:ga,closeModal:ga,closePopup:ga,closeToast:ga,disableButtons:iu,disableInput:dp,disableLoading:Io,enableButtons:Pl,enableInput:ii,getInput:ri,handleAwaitingPromise:$a,hideLoading:Io,rejectPromise:To,resetValidationMessage:Vd,showValidationMessage:su,update:os}),cu=function(k,L,D){k.toast?Tl(k,L,D):(cs(L),Va(L),An(k,L,D))},Tl=function(k,L,D){L.popup.onclick=function(){k&&(Oo(k)||k.timer||k.input)||D(is.close)}},Oo=function(k){return!!(k.showConfirmButton||k.showDenyButton||k.showCancelButton||k.showCloseButton)},Do=!1,cs=function(k){k.popup.onmousedown=function(){k.container.onmouseup=function(L){k.container.onmouseup=function(){},L.target===k.container&&(Do=!0)}}},Va=function(k){k.container.onmousedown=function(L){L.target===k.container&&L.preventDefault(),k.popup.onmouseup=function(D){k.popup.onmouseup=function(){},(D.target===k.popup||D.target instanceof HTMLElement&&k.popup.contains(D.target))&&(Do=!0)}}},An=function(k,L,D){L.container.onclick=function(ue){if(Do){Do=!1;return}ue.target===L.container&&Ze(k.allowOutsideClick)&&D(is.backdrop)}},_n=function(k){return ne(k)==="object"&&k.jquery},Kn=function(k){return k instanceof Element||_n(k)},pr=function(k){var L={};return ne(k[0])==="object"&&!Kn(k[0])?Object.assign(L,k[0]):["title","html","icon"].forEach(function(D,ue){var Ee=k[ue];typeof Ee=="string"||Kn(Ee)?L[D]=Ee:Ee!==void 0&&Le("Unexpected type of ".concat(D,'! Expected "string" or "Element", got ').concat(ne(Ee)))}),L};function Ga(){for(var O=this,k=arguments.length,L=new Array(k),D=0;D<k;D++)L[D]=arguments[D];return p(O,L)}function Bo(O){var k=function(L){function D(){return u(this,D),o(this,D,arguments)}return S(D,L),x(D,[{key:"_main",value:function(Ee,Xe){return w(A(D.prototype),"_main",this).call(this,Ee,Object.assign({},O,Xe))}}])}(this);return k}var uu=function(){return ee.timeout&&ee.timeout.getTimerLeft()},Kd=function(){if(ee.timeout)return ha(),ee.timeout.stop()},zm=function(){if(ee.timeout){var k=ee.timeout.start();return bi(k),k}},Fy=function(){var k=ee.timeout;return k&&(k.running?Kd():zm())},My=function(k){if(ee.timeout){var L=ee.timeout.increase(k);return bi(L,!0),L}},Oy=function(){return!!(ee.timeout&&ee.timeout.isRunning())},Um=!1,hp={};function Hm(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";hp[O]=this,Um||(document.body.addEventListener("click",fp),Um=!0)}var fp=function(k){for(var L=k.target;L&&L!==document;L=L.parentNode)for(var D in hp){var ue=L.getAttribute(D);if(ue){hp[D].fire({template:ue});return}}},Hi=Object.freeze({__proto__:null,argsToParams:pr,bindClickHandler:Hm,clickCancel:zd,clickConfirm:ip,clickDeny:Rm,enableLoading:oe,fire:Ga,getActions:_r,getCancelButton:yt,getCloseButton:ts,getConfirmButton:nt,getContainer:Je,getDenyButton:Ge,getFocusableElements:Fa,getFooter:an,getHtmlContainer:He,getIcon:fe,getIconContent:Te,getImage:Ye,getInputLabel:Ar,getLoader:Ot,getPopup:Me,getProgressSteps:tt,getTimerLeft:uu,getTimerProgressBar:pn,getTitle:Oe,getValidationMessage:pt,increaseTimer:My,isDeprecatedParameter:as,isLoading:Ma,isTimerRunning:Oy,isUpdatableParameter:Ui,isValidParameter:qa,isVisible:Tm,mixin:Bo,resumeTimer:zm,showLoading:oe,stopTimer:Kd,toggleTimer:Fy}),us=function(){function O(k,L){u(this,O),this.callback=k,this.remaining=L,this.running=!1,this.start()}return x(O,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(L){var D=this.running;return D&&this.stop(),this.remaining+=L,D&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),Yd=["swal-title","swal-html","swal-footer"],pp=function(k){var L=typeof k.template=="string"?document.querySelector(k.template):k.template;if(!L)return{};var D=L.content;vp(D);var ue=Object.assign(Dy(D),gp(D),mp(D),$m(D),By(D),qm(D),Wm(D,Yd));return ue},Dy=function(k){var L={},D=Array.from(k.querySelectorAll("swal-param"));return D.forEach(function(ue){Ka(ue,["name","value"]);var Ee=ue.getAttribute("name"),Xe=ue.getAttribute("value");!Ee||!Xe||(typeof qr[Ee]=="boolean"?L[Ee]=Xe!=="false":ne(qr[Ee])==="object"?L[Ee]=JSON.parse(Xe):L[Ee]=Xe)}),L},gp=function(k){var L={},D=Array.from(k.querySelectorAll("swal-function-param"));return D.forEach(function(ue){var Ee=ue.getAttribute("name"),Xe=ue.getAttribute("value");!Ee||!Xe||(L[Ee]=new Function("return ".concat(Xe))())}),L},mp=function(k){var L={},D=Array.from(k.querySelectorAll("swal-button"));return D.forEach(function(ue){Ka(ue,["type","color","aria-label"]);var Ee=ue.getAttribute("type");!Ee||!["confirm","cancel","deny"].includes(Ee)||(L["".concat(Ee,"ButtonText")]=ue.innerHTML,L["show".concat(we(Ee),"Button")]=!0,ue.hasAttribute("color")&&(L["".concat(Ee,"ButtonColor")]=ue.getAttribute("color")),ue.hasAttribute("aria-label")&&(L["".concat(Ee,"ButtonAriaLabel")]=ue.getAttribute("aria-label")))}),L},$m=function(k){var L={},D=k.querySelector("swal-image");return D&&(Ka(D,["src","width","height","alt"]),D.hasAttribute("src")&&(L.imageUrl=D.getAttribute("src")||void 0),D.hasAttribute("width")&&(L.imageWidth=D.getAttribute("width")||void 0),D.hasAttribute("height")&&(L.imageHeight=D.getAttribute("height")||void 0),D.hasAttribute("alt")&&(L.imageAlt=D.getAttribute("alt")||void 0)),L},By=function(k){var L={},D=k.querySelector("swal-icon");return D&&(Ka(D,["type","color"]),D.hasAttribute("type")&&(L.icon=D.getAttribute("type")),D.hasAttribute("color")&&(L.iconColor=D.getAttribute("color")),L.iconHtml=D.innerHTML),L},qm=function(k){var L={},D=k.querySelector("swal-input");D&&(Ka(D,["type","label","placeholder","value"]),L.input=D.getAttribute("type")||"text",D.hasAttribute("label")&&(L.inputLabel=D.getAttribute("label")),D.hasAttribute("placeholder")&&(L.inputPlaceholder=D.getAttribute("placeholder")),D.hasAttribute("value")&&(L.inputValue=D.getAttribute("value")));var ue=Array.from(k.querySelectorAll("swal-input-option"));return ue.length&&(L.inputOptions={},ue.forEach(function(Ee){Ka(Ee,["value"]);var Xe=Ee.getAttribute("value");if(Xe){var Lt=Ee.innerHTML;L.inputOptions[Xe]=Lt}})),L},Wm=function(k,L){var D={};for(var ue in L){var Ee=L[ue],Xe=k.querySelector(Ee);Xe&&(Ka(Xe,[]),D[Ee.replace(/^swal-/,"")]=Xe.innerHTML.trim())}return D},vp=function(k){var L=Yd.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(k.children).forEach(function(D){var ue=D.tagName.toLowerCase();L.includes(ue)||Se("Unrecognized element <".concat(ue,">"))})},Ka=function(k,L){Array.from(k.attributes).forEach(function(D){L.indexOf(D.name)===-1&&Se(['Unrecognized attribute "'.concat(D.name,'" on <').concat(k.tagName.toLowerCase(),">."),"".concat(L.length?"Allowed attributes are: ".concat(L.join(", ")):"To set the value, use HTML within the element.")])})},zy=10,d5=function(k){var L=Je(),D=Me();typeof k.willOpen=="function"&&k.willOpen(D);var ue=window.getComputedStyle(document.body),Ee=ue.overflowY;p5(L,D,k),setTimeout(function(){h5(L,D)},zy),Mn()&&(f5(L,k.scrollbarPadding,Ee),Fm()),!wi()&&!ee.previousActiveElement&&(ee.previousActiveElement=document.activeElement),typeof k.didOpen=="function"&&setTimeout(function(){return k.didOpen(D)}),ar(L,B["no-transition"])},Uy=function O(k){var L=Me();if(!(k.target!==L||!Oa)){var D=Je();L.removeEventListener(Oa,O),D.style.overflowY="auto"}},h5=function(k,L){Oa&&Is(L)?(k.style.overflowY="hidden",L.addEventListener(Oa,Uy)):k.style.overflowY="auto"},f5=function(k,L,D){Ud(),L&&D!=="hidden"&&Zc(D),setTimeout(function(){k.scrollTop=0})},p5=function(k,L,D){Ke(k,D.showClass.backdrop),D.animation?(L.style.setProperty("opacity","0","important"),Bt(L,"grid"),setTimeout(function(){Ke(L,D.showClass.popup),L.style.removeProperty("opacity")},zy)):Bt(L,"grid"),Ke([document.documentElement,document.body],B.shown),D.heightAuto&&D.backdrop&&!D.toast&&Ke([document.documentElement,document.body],B["height-auto"])},Hy={email:function(k,L){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(k)?Promise.resolve():Promise.resolve(L||"Invalid email address")},url:function(k,L){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(k)?Promise.resolve():Promise.resolve(L||"Invalid URL")}};function g5(O){O.inputValidator||(O.input==="email"&&(O.inputValidator=Hy.email),O.input==="url"&&(O.inputValidator=Hy.url))}function Vm(O){(!O.target||typeof O.target=="string"&&!document.querySelector(O.target)||typeof O.target!="string"&&!O.target.appendChild)&&(Se('Target parameter is not valid, defaulting to "body"'),O.target="body")}function Gm(O){g5(O),O.showLoaderOnConfirm&&!O.preConfirm&&Se(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Vm(O),typeof O.title=="string"&&(O.title=O.title.split(`
`).join("<br />")),zc(O)}var Si,yp=new WeakMap,Zn=function(){function O(){if(u(this,O),f(this,yp,void 0),!(typeof window>"u")){Si=this;for(var k=arguments.length,L=new Array(k),D=0;D<k;D++)L[D]=arguments[D];var ue=Object.freeze(this.constructor.argsToParams(L));this.params=ue,this.isAwaitingPromise=!1,h(yp,this,this._main(Si.params))}}return x(O,[{key:"_main",value:function(L){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(au(Object.assign({},D,L)),ee.currentInstance){var ue=Bi.swalPromiseResolve.get(ee.currentInstance),Ee=ee.currentInstance.isAwaitingPromise;ee.currentInstance._destroy(),Ee||ue({isDismissed:!0}),Mn()&&Ua()}ee.currentInstance=Si;var Xe=m5(L,D);Gm(Xe),Object.freeze(Xe),ee.timeout&&(ee.timeout.stop(),delete ee.timeout),clearTimeout(ee.restoreFocusTimeout);var Lt=v5(Si);return Yc(Si,Xe),hn.innerParams.set(Si,Xe),$y(Si,Lt,Xe)}},{key:"then",value:function(L){return d(yp,this).then(L)}},{key:"finally",value:function(L){return d(yp,this).finally(L)}}])}(),$y=function(k,L,D){return new Promise(function(ue,Ee){var Xe=function(At){k.close({isDismissed:!0,dismiss:At})};Bi.swalPromiseResolve.set(k,ue),Bi.swalPromiseReject.set(k,Ee),L.confirmButton.onclick=function(){kr(k)},L.denyButton.onclick=function(){Ms(k)},L.cancelButton.onclick=function(){zi(k,Xe)},L.closeButton.onclick=function(){Xe(is.close)},cu(D,L,Xe),Im(ee,D,Xe),Ae(k,D),d5(D),y5(ee,D,Xe),w5(L,D),setTimeout(function(){L.container.scrollTop=0})})},m5=function(k,L){var D=pp(k),ue=Object.assign({},qr,L,D,k);return ue.showClass=Object.assign({},qr.showClass,ue.showClass),ue.hideClass=Object.assign({},qr.hideClass,ue.hideClass),ue.animation===!1&&(ue.showClass={backdrop:"swal2-noanimation"},ue.hideClass={}),ue},v5=function(k){var L={popup:Me(),container:Je(),actions:_r(),confirmButton:nt(),denyButton:Ge(),cancelButton:yt(),loader:Ot(),closeButton:ts(),validationMessage:pt(),progressSteps:tt()};return hn.domCache.set(k,L),L},y5=function(k,L,D){var ue=pn();Ht(ue),L.timer&&(k.timeout=new us(function(){D("timer"),delete k.timeout},L.timer),L.timerProgressBar&&(Bt(ue),hr(ue,L,"timerProgressBar"),setTimeout(function(){k.timeout&&k.timeout.running&&bi(L.timer)})))},w5=function(k,L){if(!L.toast){if(!Ze(L.allowEnterKey)){Ue("allowEnterKey"),Ya();return}zo(k)||Ds(k,L)||Ba(-1,1)}},zo=function(k){var L=k.popup.querySelectorAll("[autofocus]"),D=_(L),ue;try{for(D.s();!(ue=D.n()).done;){var Ee=ue.value;if(Ee instanceof HTMLElement&&On(Ee))return Ee.focus(),!0}}catch(Xe){D.e(Xe)}finally{D.f()}return!1},Ds=function(k,L){return L.focusDeny&&On(k.denyButton)?(k.denyButton.focus(),!0):L.focusCancel&&On(k.cancelButton)?(k.cancelButton.focus(),!0):L.focusConfirm&&On(k.confirmButton)?(k.confirmButton.focus(),!0):!1},Ya=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var qy=new Date,Km=localStorage.getItem("swal-initiation");Km?(qy.getTime()-Date.parse(Km))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var O=document.createElement("audio");O.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",O.loop=!0,document.body.appendChild(O),setTimeout(function(){O.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(qy))}Zn.prototype.disableButtons=iu,Zn.prototype.enableButtons=Pl,Zn.prototype.getInput=ri,Zn.prototype.disableInput=dp,Zn.prototype.enableInput=ii,Zn.prototype.hideLoading=Io,Zn.prototype.disableLoading=Io,Zn.prototype.showValidationMessage=su,Zn.prototype.resetValidationMessage=Vd,Zn.prototype.close=ga,Zn.prototype.closePopup=ga,Zn.prototype.closeModal=ga,Zn.prototype.closeToast=ga,Zn.prototype.rejectPromise=To,Zn.prototype.update=os,Zn.prototype._destroy=lu,Object.assign(Zn,Hi),Object.keys(Ll).forEach(function(O){Zn[O]=function(){if(Si&&Si[O]){var k;return(k=Si)[O].apply(k,arguments)}return null}}),Zn.DismissReason=is,Zn.version="11.12.3";var Bs=Zn;return Bs.default=Bs,Bs}),typeof Ri<"u"&&Ri.Sweetalert2&&(Ri.swal=Ri.sweetAlert=Ri.Swal=Ri.SweetAlert=Ri.Sweetalert2),typeof document<"u"&&function(t,r){var i=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(lT);var bD=lT.exports;const fn=fm(bD),cT=(n,e)=>{fn.fire({title:e,text:n,icon:e})},xD=(n,e)=>fn.fire({title:n,text:e,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}),wx=({itemsPerPage:n,totalItems:e,paginate:t,className:r})=>{const i=[],[s,a]=ie.useState(1);for(let o=1;o<=Math.ceil(e/n);o++)i.push(o);return c.jsx("nav",{children:c.jsxs("ul",{className:`pagination ${r}`,children:[s>2&&c.jsxs(c.Fragment,{children:[c.jsx("li",{className:"page-item",children:c.jsx(ct,{className:"page-link",onClick:()=>{a(1),t(1)},children:"first"})}),c.jsx("li",{className:"page-item",children:c.jsx(ct,{to:"#",className:"page-link",children:"....."})})]}),i.map(o=>{if(s===o)return c.jsx("li",{className:"page-item",children:c.jsx(ct,{onClick:()=>{a(o),t(o)},className:"page-link",children:o})},o);if(s-1===o||s+1===o)return c.jsx("li",{className:"page-item",children:c.jsx(ct,{onClick:()=>{a(o),t(o)},to:"#",className:"page-link",children:o})},o)}),s<i.length-1&&c.jsxs(c.Fragment,{children:[c.jsx("li",{className:"page-item",children:c.jsx(ct,{to:"#",className:"page-link",children:"....."})}),c.jsx("li",{className:"page-item",children:c.jsx(ct,{to:"#",className:"page-link",onClick:()=>{a(i.length),t(i.length)},children:"last"})})]})]})})};var zn={},MC={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */MC.parse=AD;MC.serialize=_D;var SD=Object.prototype.toString,ww=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function AD(n,e){if(typeof n!="string")throw new TypeError("argument str must be a string");for(var t={},r=e||{},i=r.decode||kD,s=0;s<n.length;){var a=n.indexOf("=",s);if(a===-1)break;var o=n.indexOf(";",s);if(o===-1)o=n.length;else if(o<a){s=n.lastIndexOf(";",a-1)+1;continue}var l=n.slice(s,a).trim();if(t[l]===void 0){var u=n.slice(a+1,o).trim();u.charCodeAt(0)===34&&(u=u.slice(1,-1)),t[l]=ND(u,i)}s=o+1}return t}function _D(n,e,t){var r=t||{},i=r.encode||CD;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!ww.test(n))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!ww.test(s))throw new TypeError("argument val is invalid");var a=n+"="+s;if(r.maxAge!=null){var o=r.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(o)}if(r.domain){if(!ww.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!ww.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){var l=r.expires;if(!ED(l)||isNaN(l.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+l.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.partitioned&&(a+="; Partitioned"),r.priority){var u=typeof r.priority=="string"?r.priority.toLowerCase():r.priority;switch(u){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(r.sameSite){var d=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(d){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function kD(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function CD(n){return encodeURIComponent(n)}function ED(n){return SD.call(n)==="[object Date]"||n instanceof Date}function ND(n,e){try{return e(n)}catch{return n}}(function(n){var e=Ri&&Ri.__assign||function(){return e=Object.assign||function(x){for(var _,w=1,A=arguments.length;w<A;w++){_=arguments[w];for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(x[S]=_[S])}return x},e.apply(this,arguments)},t=Ri&&Ri.__rest||function(x,_){var w={};for(var A in x)Object.prototype.hasOwnProperty.call(x,A)&&_.indexOf(A)<0&&(w[A]=x[A]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,A=Object.getOwnPropertySymbols(x);S<A.length;S++)_.indexOf(A[S])<0&&Object.prototype.propertyIsEnumerable.call(x,A[S])&&(w[A[S]]=x[A[S]]);return w};Object.defineProperty(n,"__esModule",{value:!0}),n.hasCookie=n.deleteCookie=n.setCookie=n.getCookie=n.getCookies=void 0;var r=MC,i=function(){return typeof window<"u"},s=function(x){return x?"getAll"in x&&"set"in x&&typeof x.getAll=="function"&&typeof x.set=="function":!1},a=function(x){return!!(x!=null&&x.req)&&"cookies"in x.req&&s(x==null?void 0:x.req.cookies)||!!(x!=null&&x.res)&&"cookies"in x.res&&s(x==null?void 0:x.res.cookies)||!!(x!=null&&x.cookies)&&s(x.cookies())},o=function(x){var _={};return x.getAll().forEach(function(w){var A=w.name,S=w.value;_[A]=S}),_},l=function(x){try{if(typeof x=="string")return x;var _=JSON.stringify(x);return _}catch{return x}},u=function(x){return x&&x.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)},d=function(x){if(a(x)){if(x!=null&&x.req)return o(x.req.cookies);if(x!=null&&x.cookies)return o(x.cookies())}var _;if(x&&(_=x.req),!i())return _&&_.cookies?_.cookies:_&&_.headers.cookie?(0,r.parse)(_.headers.cookie):{};for(var w={},A=document.cookie?document.cookie.split("; "):[],S=0,v=A.length;S<v;S++){var C=A[S].split("="),j=C.slice(1).join("="),T=C[0];w[T]=j}return w};n.getCookies=d;var f=function(x,_){var w=(0,n.getCookies)(_),A=w[x];if(A!==void 0)return u(A)};n.getCookie=f;var h=function(x,_,w){if(a(w)){var A=w.req,S=w.res,v=w.cookies,C=t(w,["req","res","cookies"]),j=e({name:x,value:l(_)},C);A&&A.cookies.set(j),S&&S.cookies.set(j),v&&v().set(j);return}var T,P,z;if(w){var q=w,A=q.req,S=q.res,R=t(q,["req","res"]);P=A,z=S,T=R}var F=(0,r.serialize)(x,l(_),e({path:"/"},T));if(i())document.cookie=F;else if(z&&P){var $=z.getHeader("Set-Cookie");if(Array.isArray($)||($=$?[String($)]:[]),z.setHeader("Set-Cookie",$.concat(F)),P&&P.cookies){var W=P.cookies;_===""?delete W[x]:W[x]=l(_)}if(P&&P.headers&&P.headers.cookie){var W=(0,r.parse)(P.headers.cookie);_===""?delete W[x]:W[x]=l(_),P.headers.cookie=Object.entries(W).reduce(function(ne,X){return ne.concat("".concat(X[0],"=").concat(X[1],";"))},"")}}};n.setCookie=h;var p=function(x,_){return(0,n.setCookie)(x,"",e(e({},_),{maxAge:-1}))};n.deleteCookie=p;var y=function(x,_){if(!x)return!1;var w=(0,n.getCookies)(_);return w.hasOwnProperty(x)};n.hasCookie=y})(zn);var uT={exports:{}},dT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy=ie;function jD(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var PD=typeof Object.is=="function"?Object.is:jD,LD=xy.useSyncExternalStore,TD=xy.useRef,RD=xy.useEffect,ID=xy.useMemo,FD=xy.useDebugValue;dT.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=TD(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=ID(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&a.hasValue){var y=a.value;if(i(y,p))return f=y}return f=p}if(y=f,PD(d,p))return y;var x=r(p);return i!==void 0&&i(y,x)?y:(d=p,f=x)}var u=!1,d,f,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,r,i]);var o=LD(n,s[0],s[1]);return RD(function(){a.hasValue=!0,a.value=o},[o]),FD(o),o};uT.exports=dT;var MD=uT.exports,na="default"in DS?Qu:DS,f3=Symbol.for("react-redux-context"),p3=typeof globalThis<"u"?globalThis:{};function OD(){if(!na.createContext)return{};const n=p3[f3]??(p3[f3]=new Map);let e=n.get(na.createContext);return e||(e=na.createContext(null),n.set(na.createContext,e)),e}var yd=OD(),DD=()=>{throw new Error("uSES not initialized!")};function OC(n=yd){return function(){return na.useContext(n)}}var hT=OC(),fT=DD,BD=n=>{fT=n},zD=(n,e)=>n===e;function UD(n=yd){const e=n===yd?hT:OC(n),t=(r,i={})=>{const{equalityFn:s=zD,devModeChecks:a={}}=typeof i=="function"?{equalityFn:i}:i,{store:o,subscription:l,getServerState:u,stabilityCheck:d,identityFunctionCheck:f}=e();na.useRef(!0);const h=na.useCallback({[r.name](y){return r(y)}}[r.name],[r,d,a.stabilityCheck]),p=fT(l.addNestedSub,o.getState,u||o.getState,h,s);return na.useDebugValue(p),p};return Object.assign(t,{withTypes:()=>t}),t}var Yt=UD();function HD(n){n()}function $D(){let n=null,e=null;return{clear(){n=null,e=null},notify(){HD(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var g3={notify(){},get:()=>[]};function qD(n,e){let t,r=g3,i=0,s=!1;function a(x){d();const _=r.subscribe(x);let w=!1;return()=>{w||(w=!0,_(),f())}}function o(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return s}function d(){i++,t||(t=n.subscribe(l),r=$D())}function f(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=g3)}function h(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const y={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return y}var WD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VD=typeof navigator<"u"&&navigator.product==="ReactNative",GD=WD||VD?na.useLayoutEffect:na.useEffect;function KD({store:n,context:e,children:t,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const a=na.useMemo(()=>{const u=qD(n);return{store:n,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[n,r,i,s]),o=na.useMemo(()=>n.getState(),[n]);GD(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==n.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=e||yd;return na.createElement(l.Provider,{value:a},t)}var YD=KD;function pT(n=yd){const e=n===yd?hT:OC(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var XD=pT();function JD(n=yd){const e=n===yd?XD:pT(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var sn=JD();BD(MD.useSyncExternalStoreWithSelector);function fi(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var QD=typeof Symbol=="function"&&Symbol.observable||"@@observable",m3=QD,iS=()=>Math.random().toString(36).substring(7).split("").join("."),ZD={INIT:`@@redux/INIT${iS()}`,REPLACE:`@@redux/REPLACE${iS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iS()}`},mb=ZD;function DC(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function gT(n,e,t){if(typeof n!="function")throw new Error(fi(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(fi(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(fi(1));return t(gT)(n,e)}let r=n,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((_,w)=>{a.set(w,_)}))}function d(){if(l)throw new Error(fi(3));return i}function f(_){if(typeof _!="function")throw new Error(fi(4));if(l)throw new Error(fi(5));let w=!0;u();const A=o++;return a.set(A,_),function(){if(w){if(l)throw new Error(fi(6));w=!1,u(),a.delete(A),s=null}}}function h(_){if(!DC(_))throw new Error(fi(7));if(typeof _.type>"u")throw new Error(fi(8));if(typeof _.type!="string")throw new Error(fi(17));if(l)throw new Error(fi(9));try{l=!0,i=r(i,_)}finally{l=!1}return(s=a).forEach(A=>{A()}),_}function p(_){if(typeof _!="function")throw new Error(fi(10));r=_,h({type:mb.REPLACE})}function y(){const _=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(fi(11));function A(){const v=w;v.next&&v.next(d())}return A(),{unsubscribe:_(A)}},[m3](){return this}}}return h({type:mb.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[m3]:y}}function e7(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:mb.INIT})>"u")throw new Error(fi(12));if(typeof t(void 0,{type:mb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fi(13))})}function t7(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const r=Object.keys(t);let i;try{e7(t)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=t[f],p=a[f],y=h(p,o);if(typeof y>"u")throw o&&o.type,new Error(fi(14));u[f]=y,l=l||y!==p}return l=l||r.length!==Object.keys(a).length,l?u:a}}function vb(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function n7(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(fi(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=n.map(l=>l(a));return s=vb(...o)(i.dispatch),{...i,dispatch:s}}}function r7(n){return DC(n)&&"type"in n&&typeof n.type=="string"}var mT=Symbol.for("immer-nothing"),v3=Symbol.for("immer-draftable"),aa=Symbol.for("immer-state");function bo(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var um=Object.getPrototypeOf;function kf(n){return!!n&&!!n[aa]}function Nc(n){var e;return n?vT(n)||Array.isArray(n)||!!n[v3]||!!((e=n.constructor)!=null&&e[v3])||xx(n)||Sx(n):!1}var i7=Object.prototype.constructor.toString();function vT(n){if(!n||typeof n!="object")return!1;const e=um(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===i7}function yb(n,e){bx(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function bx(n){const e=n[aa];return e?e.type_:Array.isArray(n)?1:xx(n)?2:Sx(n)?3:0}function FA(n,e){return bx(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function yT(n,e,t){const r=bx(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function s7(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function xx(n){return n instanceof Map}function Sx(n){return n instanceof Set}function th(n){return n.copy_||n.base_}function MA(n,e){if(xx(n))return new Map(n);if(Sx(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=vT(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[aa];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[a]})}return Object.create(um(n),r)}else{const r=um(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function BC(n,e=!1){return Ax(n)||kf(n)||!Nc(n)||(bx(n)>1&&(n.set=n.add=n.clear=n.delete=a7),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>BC(r,!0))),n}function a7(){bo(2)}function Ax(n){return Object.isFrozen(n)}var o7={};function Cf(n){const e=o7[n];return e||bo(0,n),e}var C1;function wT(){return C1}function l7(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function y3(n,e){e&&(Cf("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function OA(n){DA(n),n.drafts_.forEach(c7),n.drafts_=null}function DA(n){n===C1&&(C1=n.parent_)}function w3(n){return C1=l7(C1,n)}function c7(n){const e=n[aa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function b3(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[aa].modified_&&(OA(e),bo(4)),Nc(n)&&(n=wb(e,n),e.parent_||bb(e,n)),e.patches_&&Cf("Patches").generateReplacementPatches_(t[aa].base_,n,e.patches_,e.inversePatches_)):n=wb(e,t,[]),OA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==mT?n:void 0}function wb(n,e,t){if(Ax(e))return e;const r=e[aa];if(!r)return yb(e,(i,s)=>x3(n,r,e,i,s,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return bb(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),yb(s,(o,l)=>x3(n,r,i,o,l,t,a)),bb(n,i,!1),t&&n.patches_&&Cf("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function x3(n,e,t,r,i,s,a){if(kf(i)){const o=s&&e&&e.type_!==3&&!FA(e.assigned_,r)?s.concat(r):void 0,l=wb(n,i,o);if(yT(t,r,l),kf(l))n.canAutoFreeze_=!1;else return}else a&&t.add(i);if(Nc(i)&&!Ax(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;wb(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&bb(n,i)}}function bb(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&BC(e,t)}function u7(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:wT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=zC;t&&(i=[r],s=E1);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var zC={get(n,e){if(e===aa)return n;const t=th(n);if(!FA(t,e))return d7(n,t,e);const r=t[e];return n.finalized_||!Nc(r)?r:r===sS(n.base_,e)?(aS(n),n.copy_[e]=zA(r,n)):r},has(n,e){return e in th(n)},ownKeys(n){return Reflect.ownKeys(th(n))},set(n,e,t){const r=bT(th(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=sS(th(n),e),s=i==null?void 0:i[aa];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(s7(t,i)&&(t!==void 0||FA(n.base_,e)))return!0;aS(n),BA(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return sS(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,aS(n),BA(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=th(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){bo(11)},getPrototypeOf(n){return um(n.base_)},setPrototypeOf(){bo(12)}},E1={};yb(zC,(n,e)=>{E1[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});E1.deleteProperty=function(n,e){return E1.set.call(this,n,e,void 0)};E1.set=function(n,e,t){return zC.set.call(this,n[0],e,t,n[0])};function sS(n,e){const t=n[aa];return(t?th(t):n)[e]}function d7(n,e,t){var i;const r=bT(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function bT(n,e){if(!(e in n))return;let t=um(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=um(t)}}function BA(n){n.modified_||(n.modified_=!0,n.parent_&&BA(n.parent_))}function aS(n){n.copy_||(n.copy_=MA(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var h7=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...u){return a.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&bo(6),r!==void 0&&typeof r!="function"&&bo(7);let i;if(Nc(e)){const s=w3(this),a=zA(e,void 0);let o=!0;try{i=t(a),o=!1}finally{o?OA(s):DA(s)}return y3(s,r),b3(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===mT&&(i=void 0),this.autoFreeze_&&BC(i,!0),r){const s=[],a=[];Cf("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else bo(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,t,(a,o)=>{r=a,i=o}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Nc(n)||bo(8),kf(n)&&(n=f7(n));const e=w3(this),t=zA(n,void 0);return t[aa].isManual_=!0,DA(e),t}finishDraft(n,e){const t=n&&n[aa];(!t||!t.isManual_)&&bo(9);const{scope_:r}=t;return y3(r,e),b3(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=Cf("Patches").applyPatches_;return kf(n)?r(n,e):this.produce(n,i=>r(i,e))}};function zA(n,e){const t=xx(n)?Cf("MapSet").proxyMap_(n,e):Sx(n)?Cf("MapSet").proxySet_(n,e):u7(n,e);return(e?e.scope_:wT()).drafts_.push(t),t}function f7(n){return kf(n)||bo(10,n),xT(n)}function xT(n){if(!Nc(n)||Ax(n))return n;const e=n[aa];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=MA(n,e.scope_.immer_.useStrictShallowCopy_)}else t=MA(n,!0);return yb(t,(r,i)=>{yT(t,r,xT(i))}),e&&(e.finalized_=!1),t}var oa=new h7,ST=oa.produce;oa.produceWithPatches.bind(oa);oa.setAutoFreeze.bind(oa);oa.setUseStrictShallowCopy.bind(oa);oa.applyPatches.bind(oa);oa.createDraft.bind(oa);oa.finishDraft.bind(oa);function AT(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var p7=AT(),g7=AT,m7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vb:vb.apply(null,arguments)},v7=n=>n&&typeof n.match=="function";function q0(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(Ao(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>r7(r)&&r.type===n,t}var _T=class y0 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,y0.prototype)}static get[Symbol.species](){return y0}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new y0(...e[0].concat(this)):new y0(...e.concat(this))}};function S3(n){return Nc(n)?ST(n,()=>{}):n}function A3(n,e,t){if(n.has(e)){let i=n.get(e);return t.update&&(i=t.update(i,e,n),n.set(e,i)),i}if(!t.insert)throw new Error(Ao(10));const r=t.insert(e,n);return n.set(e,r),r}function y7(n){return typeof n=="boolean"}var w7=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new _T;return t&&(y7(t)?a.push(p7):a.push(g7(t.extraArgument))),a},b7="RTK_autoBatch",kT=n=>e=>{setTimeout(e,n)},x7=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:kT(10),S7=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?x7:n.type==="callback"?n.queueNotification:kT(n.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[b7]),s=!i,s&&(a||(a=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},A7=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new _T(n);return r&&i.push(S7(typeof r=="object"?r:void 0)),i};function _7(n){const e=w7(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(DC(t))o=t7(t);else throw new Error(Ao(1));let l;typeof r=="function"?l=r(e):l=e();let u=vb;i&&(u=m7({trace:!1,...typeof i=="object"&&i}));const d=n7(...l),f=A7(d);let h=typeof a=="function"?a(f):f();const p=u(...h);return gT(o,s,p)}function CT(n){const e={},t=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Ao(28));if(o in e)throw new Error(Ao(29));return e[o]=a,i},addMatcher(s,a){return t.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function k7(n){return typeof n=="function"}function C7(n,e){let[t,r,i]=CT(e),s;if(k7(n))s=()=>S3(n());else{const o=S3(n);s=()=>o}function a(o=s(),l){let u=[t[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(kf(d)){const p=f(d,l);return p===void 0?d:p}else{if(Nc(d))return ST(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw new Error(Ao(9))}return h}}return d},o)}return a.getInitialState=s,a}var E7=(n,e)=>v7(n)?n.match(e):n(e);function N7(...n){return e=>n.some(t=>E7(t,e))}var j7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",P7=(n=21)=>{let e="",t=n;for(;t--;)e+=j7[Math.random()*64|0];return e},L7=["name","message","stack","code"],oS=class{constructor(n,e){Et(this,"_type");this.payload=n,this.meta=e}},_3=class{constructor(n,e){Et(this,"_type");this.payload=n,this.meta=e}},T7=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of L7)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},Ut=(()=>{function n(e,t,r){const i=q0(e+"/fulfilled",(l,u,d,f)=>({payload:l,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=q0(e+"/pending",(l,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:l,requestStatus:"pending"}})),a=q0(e+"/rejected",(l,u,d,f,h)=>({payload:f,error:(r&&r.serializeError||T7)(l||"Rejected"),meta:{...h||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function o(l){return(u,d,f)=>{const h=r!=null&&r.idGenerator?r.idGenerator(l):P7(),p=new AbortController;let y,x;function _(A){x=A,p.abort()}const w=async function(){var v,C;let A;try{let j=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:d,extra:f});if(I7(j)&&(j=await j),j===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const T=new Promise((P,z)=>{y=()=>{z({name:"AbortError",message:x||"Aborted"})},p.signal.addEventListener("abort",y)});u(s(h,l,(C=r==null?void 0:r.getPendingMeta)==null?void 0:C.call(r,{requestId:h,arg:l},{getState:d,extra:f}))),A=await Promise.race([T,Promise.resolve(t(l,{dispatch:u,getState:d,extra:f,requestId:h,signal:p.signal,abort:_,rejectWithValue:(P,z)=>new oS(P,z),fulfillWithValue:(P,z)=>new _3(P,z)})).then(P=>{if(P instanceof oS)throw P;return P instanceof _3?i(P.payload,h,l,P.meta):i(P,h,l)})])}catch(j){A=j instanceof oS?a(null,h,l,j.payload,j.meta):a(j,h,l)}finally{y&&p.signal.removeEventListener("abort",y)}return r&&!r.dispatchConditionRejection&&a.match(A)&&A.meta.condition||u(A),A}();return Object.assign(w,{abort:_,requestId:h,arg:l,unwrap(){return w.then(R7)}})}}return Object.assign(o,{pending:s,rejected:a,fulfilled:i,settled:N7(a,i),typePrefix:e})}return n.withTypes=()=>n,n})();function R7(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function I7(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var F7=Symbol.for("rtk-slice-createasyncthunk");function M7(n,e){return`${n}/${e}`}function O7({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[F7];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Ao(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(B7()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,v){const C=typeof S=="string"?S:S.type;if(!C)throw new Error(Ao(12));if(C in u.sliceCaseReducersByType)throw new Error(Ao(13));return u.sliceCaseReducersByType[C]=v,d},addMatcher(S,v){return u.sliceMatchers.push({matcher:S,reducer:v}),d},exposeAction(S,v){return u.actionCreators[S]=v,d},exposeCaseReducer(S,v){return u.sliceCaseReducersByName[S]=v,d}};l.forEach(S=>{const v=o[S],C={reducerName:S,type:M7(s,S),createNotation:typeof i.reducers=="function"};U7(v)?$7(C,v,d,e):z7(C,v,d)});function f(){const[S={},v=[],C=void 0]=typeof i.extraReducers=="function"?CT(i.extraReducers):[i.extraReducers],j={...S,...u.sliceCaseReducersByType};return C7(i.initialState,T=>{for(let P in j)T.addCase(P,j[P]);for(let P of u.sliceMatchers)T.addMatcher(P.matcher,P.reducer);for(let P of v)T.addMatcher(P.matcher,P.reducer);C&&T.addDefaultCase(C)})}const h=S=>S,p=new Map;let y;function x(S,v){return y||(y=f()),y(S,v)}function _(){return y||(y=f()),y.getInitialState()}function w(S,v=!1){function C(T){let P=T[S];return typeof P>"u"&&v&&(P=_()),P}function j(T=h){const P=A3(p,v,{insert:()=>new WeakMap});return A3(P,T,{insert:()=>{const z={};for(const[q,R]of Object.entries(i.selectors??{}))z[q]=D7(R,T,_,v);return z}})}return{reducerPath:S,getSelectors:j,get selectors(){return j(C)},selectSlice:C}}const A={name:s,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...w(a),injectInto(S,{reducerPath:v,...C}={}){const j=v??a;return S.inject({reducerPath:j,reducer:x},C),{...A,...w(j,!0)}}};return A}}function D7(n,e,t,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=t()),n(o,...a)}return i.unwrapped=n,i}var Ic=O7();function B7(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function z7({type:n,reducerName:e,createNotation:t},r,i){let s,a;if("reducer"in r){if(t&&!H7(r))throw new Error(Ao(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?q0(n,a):q0(n))}function U7(n){return n._reducerDefinitionType==="asyncThunk"}function H7(n){return n._reducerDefinitionType==="reducerWithPrepare"}function $7({type:n,reducerName:e},t,r,i){if(!i)throw new Error(Ao(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=t,f=i(n,s,d);r.exposeAction(e,f),a&&r.addCase(f.fulfilled,a),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:a||bw,pending:o||bw,rejected:l||bw,settled:u||bw})}function bw(){}function Ao(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}function ET(n,e){return function(){return n.apply(e,arguments)}}const{toString:q7}=Object.prototype,{getPrototypeOf:UC}=Object,_x=(n=>e=>{const t=q7.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),No=n=>(n=n.toLowerCase(),e=>_x(e)===n),kx=n=>e=>typeof e===n,{isArray:ym}=Array,N1=kx("undefined");function W7(n){return n!==null&&!N1(n)&&n.constructor!==null&&!N1(n.constructor)&&Ta(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const NT=No("ArrayBuffer");function V7(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&NT(n.buffer),e}const G7=kx("string"),Ta=kx("function"),jT=kx("number"),Cx=n=>n!==null&&typeof n=="object",K7=n=>n===!0||n===!1,qw=n=>{if(_x(n)!=="object")return!1;const e=UC(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Y7=No("Date"),X7=No("File"),J7=No("Blob"),Q7=No("FileList"),Z7=n=>Cx(n)&&Ta(n.pipe),eB=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ta(n.append)&&((e=_x(n))==="formdata"||e==="object"&&Ta(n.toString)&&n.toString()==="[object FormData]"))},tB=No("URLSearchParams"),[nB,rB,iB,sB]=["ReadableStream","Request","Response","Headers"].map(No),aB=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sy(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),ym(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,n[o],o,n)}}function PT(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const LT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,TT=n=>!N1(n)&&n!==LT;function UA(){const{caseless:n}=TT(this)&&this||{},e={},t=(r,i)=>{const s=n&&PT(e,i)||i;qw(e[s])&&qw(r)?e[s]=UA(e[s],r):qw(r)?e[s]=UA({},r):ym(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Sy(arguments[r],t);return e}const oB=(n,e,t,{allOwnKeys:r}={})=>(Sy(e,(i,s)=>{t&&Ta(i)?n[s]=ET(i,t):n[s]=i},{allOwnKeys:r}),n),lB=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),cB=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},uB=(n,e,t,r)=>{let i,s,a;const o={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)a=i[s],(!r||r(a,n,e))&&!o[a]&&(e[a]=n[a],o[a]=!0);n=t!==!1&&UC(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},dB=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},hB=n=>{if(!n)return null;if(ym(n))return n;let e=n.length;if(!jT(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},fB=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&UC(Uint8Array)),pB=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},gB=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},mB=No("HTMLFormElement"),vB=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),k3=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),yB=No("RegExp"),RT=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Sy(t,(i,s)=>{let a;(a=e(i,s,n))!==!1&&(r[s]=a||i)}),Object.defineProperties(n,r)},wB=n=>{RT(n,(e,t)=>{if(Ta(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Ta(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},bB=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return ym(n)?r(n):r(String(n).split(e)),t},xB=()=>{},SB=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,lS="abcdefghijklmnopqrstuvwxyz",C3="0123456789",IT={DIGIT:C3,ALPHA:lS,ALPHA_DIGIT:lS+lS.toUpperCase()+C3},AB=(n=16,e=IT.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function _B(n){return!!(n&&Ta(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const kB=n=>{const e=new Array(10),t=(r,i)=>{if(Cx(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ym(r)?[]:{};return Sy(r,(a,o)=>{const l=t(a,i+1);!N1(l)&&(s[o]=l)}),e[i]=void 0,s}}return r};return t(n,0)},CB=No("AsyncFunction"),EB=n=>n&&(Cx(n)||Ta(n))&&Ta(n.then)&&Ta(n.catch),Pe={isArray:ym,isArrayBuffer:NT,isBuffer:W7,isFormData:eB,isArrayBufferView:V7,isString:G7,isNumber:jT,isBoolean:K7,isObject:Cx,isPlainObject:qw,isReadableStream:nB,isRequest:rB,isResponse:iB,isHeaders:sB,isUndefined:N1,isDate:Y7,isFile:X7,isBlob:J7,isRegExp:yB,isFunction:Ta,isStream:Z7,isURLSearchParams:tB,isTypedArray:fB,isFileList:Q7,forEach:Sy,merge:UA,extend:oB,trim:aB,stripBOM:lB,inherits:cB,toFlatObject:uB,kindOf:_x,kindOfTest:No,endsWith:dB,toArray:hB,forEachEntry:pB,matchAll:gB,isHTMLForm:mB,hasOwnProperty:k3,hasOwnProp:k3,reduceDescriptors:RT,freezeMethods:wB,toObjectSet:bB,toCamelCase:vB,noop:xB,toFiniteNumber:SB,findKey:PT,global:LT,isContextDefined:TT,ALPHABET:IT,generateString:AB,isSpecCompliantForm:_B,toJSONObject:kB,isAsyncFn:CB,isThenable:EB};function Ft(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}Pe.inherits(Ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const FT=Ft.prototype,MT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{MT[n]={value:n}});Object.defineProperties(Ft,MT);Object.defineProperty(FT,"isAxiosError",{value:!0});Ft.from=(n,e,t,r,i,s)=>{const a=Object.create(FT);return Pe.toFlatObject(n,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Ft.call(a,n.message,e,t,r,i),a.cause=n,a.name=n.name,s&&Object.assign(a,s),a};const NB=null;function HA(n){return Pe.isPlainObject(n)||Pe.isArray(n)}function OT(n){return Pe.endsWith(n,"[]")?n.slice(0,-2):n}function E3(n,e,t){return n?n.concat(e).map(function(i,s){return i=OT(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function jB(n){return Pe.isArray(n)&&!n.some(HA)}const PB=Pe.toFlatObject(Pe,{},null,function(e){return/^is[A-Z]/.test(e)});function Ex(n,e,t){if(!Pe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Pe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,_){return!Pe.isUndefined(_[x])});const r=t.metaTokens,i=t.visitor||d,s=t.dots,a=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(e);if(!Pe.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(Pe.isDate(y))return y.toISOString();if(!l&&Pe.isBlob(y))throw new Ft("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(y)||Pe.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,x,_){let w=y;if(y&&!_&&typeof y=="object"){if(Pe.endsWith(x,"{}"))x=r?x:x.slice(0,-2),y=JSON.stringify(y);else if(Pe.isArray(y)&&jB(y)||(Pe.isFileList(y)||Pe.endsWith(x,"[]"))&&(w=Pe.toArray(y)))return x=OT(x),w.forEach(function(S,v){!(Pe.isUndefined(S)||S===null)&&e.append(a===!0?E3([x],v,s):a===null?x:x+"[]",u(S))}),!1}return HA(y)?!0:(e.append(E3(_,x,s),u(y)),!1)}const f=[],h=Object.assign(PB,{defaultVisitor:d,convertValue:u,isVisitable:HA});function p(y,x){if(!Pe.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(y),Pe.forEach(y,function(w,A){(!(Pe.isUndefined(w)||w===null)&&i.call(e,w,Pe.isString(A)?A.trim():A,x,h))===!0&&p(w,x?x.concat(A):[A])}),f.pop()}}if(!Pe.isObject(n))throw new TypeError("data must be an object");return p(n),e}function N3(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function HC(n,e){this._pairs=[],n&&Ex(n,this,e)}const DT=HC.prototype;DT.append=function(e,t){this._pairs.push([e,t])};DT.toString=function(e){const t=e?function(r){return e.call(this,r,N3)}:N3;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function LB(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BT(n,e,t){if(!e)return n;const r=t&&t.encode||LB,i=t&&t.serialize;let s;if(i?s=i(e,t):s=Pe.isURLSearchParams(e)?e.toString():new HC(e,t).toString(r),s){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class j3{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const zT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},TB=typeof URLSearchParams<"u"?URLSearchParams:HC,RB=typeof FormData<"u"?FormData:null,IB=typeof Blob<"u"?Blob:null,FB={isBrowser:!0,classes:{URLSearchParams:TB,FormData:RB,Blob:IB},protocols:["http","https","file","blob","url","data"]},$C=typeof window<"u"&&typeof document<"u",MB=(n=>$C&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),OB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",DB=$C&&window.location.href||"http://localhost",BB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$C,hasStandardBrowserEnv:MB,hasStandardBrowserWebWorkerEnv:OB,origin:DB},Symbol.toStringTag,{value:"Module"})),_o={...BB,...FB};function zB(n,e){return Ex(n,new _o.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return _o.isNode&&Pe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function UB(n){return Pe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function HB(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function UT(n){function e(t,r,i,s){let a=t[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=t.length;return a=!a&&Pe.isArray(i)?i.length:a,l?(Pe.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!Pe.isObject(i[a]))&&(i[a]=[]),e(t,r,i[a],s)&&Pe.isArray(i[a])&&(i[a]=HB(i[a])),!o)}if(Pe.isFormData(n)&&Pe.isFunction(n.entries)){const t={};return Pe.forEachEntry(n,(r,i)=>{e(UB(r),i,t,0)}),t}return null}function $B(n,e,t){if(Pe.isString(n))try{return(e||JSON.parse)(n),Pe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Ay={transitional:zT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Pe.isObject(e);if(s&&Pe.isHTMLForm(e)&&(e=new FormData(e)),Pe.isFormData(e))return i?JSON.stringify(UT(e)):e;if(Pe.isArrayBuffer(e)||Pe.isBuffer(e)||Pe.isStream(e)||Pe.isFile(e)||Pe.isBlob(e)||Pe.isReadableStream(e))return e;if(Pe.isArrayBufferView(e))return e.buffer;if(Pe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zB(e,this.formSerializer).toString();if((o=Pe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ex(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),$B(e)):e}],transformResponse:[function(e){const t=this.transitional||Ay.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Pe.isResponse(e)||Pe.isReadableStream(e))return e;if(e&&Pe.isString(e)&&(r&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Ft.from(o,Ft.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_o.classes.FormData,Blob:_o.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],n=>{Ay.headers[n]={}});const qB=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WB=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||e[t]&&qB[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},P3=Symbol("internals");function o0(n){return n&&String(n).trim().toLowerCase()}function Ww(n){return n===!1||n==null?n:Pe.isArray(n)?n.map(Ww):String(n)}function VB(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const GB=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function cS(n,e,t,r,i){if(Pe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Pe.isString(e)){if(Pe.isString(r))return e.indexOf(r)!==-1;if(Pe.isRegExp(r))return r.test(e)}}function KB(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function YB(n,e){const t=Pe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}let Ns=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(o,l,u){const d=o0(l);if(!d)throw new Error("header name must be a non-empty string");const f=Pe.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Ww(o))}const a=(o,l)=>Pe.forEach(o,(u,d)=>s(u,d,l));if(Pe.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Pe.isString(e)&&(e=e.trim())&&!GB(e))a(WB(e),t);else if(Pe.isHeaders(e))for(const[o,l]of e.entries())s(l,o,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=o0(e),e){const r=Pe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return VB(i);if(Pe.isFunction(t))return t.call(this,i,r);if(Pe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=o0(e),e){const r=Pe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||cS(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(a){if(a=o0(a),a){const o=Pe.findKey(r,a);o&&(!t||cS(r,r[o],o,t))&&(delete r[o],i=!0)}}return Pe.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||cS(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return Pe.forEach(this,(i,s)=>{const a=Pe.findKey(r,s);if(a){t[a]=Ww(i),delete t[s];return}const o=e?KB(s):String(s).trim();o!==s&&delete t[s],t[o]=Ww(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Pe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Pe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[P3]=this[P3]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=o0(a);r[o]||(YB(i,a),r[o]=!0)}return Pe.isArray(e)?e.forEach(s):s(e),this}};Ns.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Ns.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Pe.freezeMethods(Ns);function uS(n,e){const t=this||Ay,r=e||t,i=Ns.from(r.headers);let s=r.data;return Pe.forEach(n,function(o){s=o.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function HT(n){return!!(n&&n.__CANCEL__)}function wm(n,e,t){Ft.call(this,n??"canceled",Ft.ERR_CANCELED,e,t),this.name="CanceledError"}Pe.inherits(wm,Ft,{__CANCEL__:!0});function $T(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ft("Request failed with status code "+t.status,[Ft.ERR_BAD_REQUEST,Ft.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function XB(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function JB(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];a||(a=u),t[i]=l,r[i]=u;let f=s,h=0;for(;f!==i;)h+=t[f++],f=f%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-a<e)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function QB(n,e){let t=0;const r=1e3/e;let i=null;return function(){const a=this===!0,o=Date.now();if(a||o-t>r)return i&&(clearTimeout(i),i=null),t=o,n.apply(null,arguments);i||(i=setTimeout(()=>(i=null,t=Date.now(),n.apply(null,arguments)),r-(o-t)))}}const xb=(n,e,t=3)=>{let r=0;const i=JB(50,250);return QB(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,u=i(l),d=a<=o;r=a;const f={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:s,lengthComputable:o!=null};f[e?"download":"upload"]=!0,n(f)},t)},ZB=_o.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(s){let a=s;return e&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(a){const o=Pe.isString(a)?i(a):a;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),e9=_o.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const a=[n+"="+encodeURIComponent(e)];Pe.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),Pe.isString(r)&&a.push("path="+r),Pe.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function t9(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function n9(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function qT(n,e){return n&&!t9(e)?n9(n,e):e}const L3=n=>n instanceof Ns?{...n}:n;function Ef(n,e){e=e||{};const t={};function r(u,d,f){return Pe.isPlainObject(u)&&Pe.isPlainObject(d)?Pe.merge.call({caseless:f},u,d):Pe.isPlainObject(d)?Pe.merge({},d):Pe.isArray(d)?d.slice():d}function i(u,d,f){if(Pe.isUndefined(d)){if(!Pe.isUndefined(u))return r(void 0,u,f)}else return r(u,d,f)}function s(u,d){if(!Pe.isUndefined(d))return r(void 0,d)}function a(u,d){if(Pe.isUndefined(d)){if(!Pe.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,f){if(f in e)return r(u,d);if(f in n)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d)=>i(L3(u),L3(d),!0)};return Pe.forEach(Object.keys(Object.assign({},n,e)),function(d){const f=l[d]||i,h=f(n[d],e[d],d);Pe.isUndefined(h)&&f!==o||(t[d]=h)}),t}const WT=n=>{const e=Ef({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=Ns.from(a),e.url=BT(qT(e.baseURL,e.url),n.params,n.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(Pe.isFormData(t)){if(_o.hasStandardBrowserEnv||_o.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...d].join("; "))}}if(_o.hasStandardBrowserEnv&&(r&&Pe.isFunction(r)&&(r=r(e)),r||r!==!1&&ZB(e.url))){const u=i&&s&&e9.read(s);u&&a.set(i,u)}return e},r9=typeof XMLHttpRequest<"u",i9=r9&&function(n){return new Promise(function(t,r){const i=WT(n);let s=i.data;const a=Ns.from(i.headers).normalize();let{responseType:o}=i,l;function u(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let d=new XMLHttpRequest;d.open(i.method.toUpperCase(),i.url,!0),d.timeout=i.timeout;function f(){if(!d)return;const p=Ns.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:p,config:n,request:d};$T(function(w){t(w),u()},function(w){r(w),u()},x),d=null}"onloadend"in d?d.onloadend=f:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(f)},d.onabort=function(){d&&(r(new Ft("Request aborted",Ft.ECONNABORTED,i,d)),d=null)},d.onerror=function(){r(new Ft("Network Error",Ft.ERR_NETWORK,i,d)),d=null},d.ontimeout=function(){let y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||zT;i.timeoutErrorMessage&&(y=i.timeoutErrorMessage),r(new Ft(y,x.clarifyTimeoutError?Ft.ETIMEDOUT:Ft.ECONNABORTED,i,d)),d=null},s===void 0&&a.setContentType(null),"setRequestHeader"in d&&Pe.forEach(a.toJSON(),function(y,x){d.setRequestHeader(x,y)}),Pe.isUndefined(i.withCredentials)||(d.withCredentials=!!i.withCredentials),o&&o!=="json"&&(d.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&d.addEventListener("progress",xb(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",xb(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=p=>{d&&(r(!p||p.type?new wm(null,n,d):p),d.abort(),d=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const h=XB(i.url);if(h&&_o.protocols.indexOf(h)===-1){r(new Ft("Unsupported protocol "+h+":",Ft.ERR_BAD_REQUEST,n));return}d.send(s||null)})},s9=(n,e)=>{let t=new AbortController,r;const i=function(l){if(!r){r=!0,a();const u=l instanceof Error?l:this.reason;t.abort(u instanceof Ft?u:new wm(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{i(new Ft(`timeout ${e} of ms exceeded`,Ft.ETIMEDOUT))},e);const a=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),n=null)};n.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:o}=t;return o.unsubscribe=a,[o,()=>{s&&clearTimeout(s),s=null}]},a9=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},o9=async function*(n,e,t){for await(const r of n)yield*a9(ArrayBuffer.isView(r)?r:await t(String(r)),e)},T3=(n,e,t,r,i)=>{const s=o9(n,e,i);let a=0;return new ReadableStream({type:"bytes",async pull(o){const{done:l,value:u}=await s.next();if(l){o.close(),r();return}let d=u.byteLength;t&&t(a+=d),o.enqueue(new Uint8Array(u))},cancel(o){return r(o),s.return()}},{highWaterMark:2})},R3=(n,e)=>{const t=n!=null;return r=>setTimeout(()=>e({lengthComputable:t,total:n,loaded:r}))},Nx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",VT=Nx&&typeof ReadableStream=="function",$A=Nx&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),l9=VT&&(()=>{let n=!1;const e=new Request(_o.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e})(),I3=64*1024,qA=VT&&!!(()=>{try{return Pe.isReadableStream(new Response("").body)}catch{}})(),Sb={stream:qA&&(n=>n.body)};Nx&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Sb[e]&&(Sb[e]=Pe.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Ft(`Response type '${e}' is not supported`,Ft.ERR_NOT_SUPPORT,r)})})})(new Response);const c9=async n=>{if(n==null)return 0;if(Pe.isBlob(n))return n.size;if(Pe.isSpecCompliantForm(n))return(await new Request(n).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(n))return n.byteLength;if(Pe.isURLSearchParams(n)&&(n=n+""),Pe.isString(n))return(await $A(n)).byteLength},u9=async(n,e)=>{const t=Pe.toFiniteNumber(n.getContentLength());return t??c9(e)},d9=Nx&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=WT(n);u=u?(u+"").toLowerCase():"text";let[p,y]=i||s||a?s9([i,s],a):[],x,_;const w=()=>{!x&&setTimeout(()=>{p&&p.unsubscribe()}),x=!0};let A;try{if(l&&l9&&t!=="get"&&t!=="head"&&(A=await u9(d,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),T;Pe.isFormData(r)&&(T=j.headers.get("content-type"))&&d.setContentType(T),j.body&&(r=T3(j.body,I3,R3(A,xb(l)),null,$A))}Pe.isString(f)||(f=f?"cors":"omit"),_=new Request(e,{...h,signal:p,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",withCredentials:f});let S=await fetch(_);const v=qA&&(u==="stream"||u==="response");if(qA&&(o||v)){const j={};["status","statusText","headers"].forEach(P=>{j[P]=S[P]});const T=Pe.toFiniteNumber(S.headers.get("content-length"));S=new Response(T3(S.body,I3,o&&R3(T,xb(o,!0)),v&&w,$A),j)}u=u||"text";let C=await Sb[Pe.findKey(Sb,u)||"text"](S,n);return!v&&w(),y&&y(),await new Promise((j,T)=>{$T(j,T,{data:C,headers:Ns.from(S.headers),status:S.status,statusText:S.statusText,config:n,request:_})})}catch(S){throw w(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Ft("Network Error",Ft.ERR_NETWORK,n,_),{cause:S.cause||S}):Ft.from(S,S&&S.code,n,_)}}),WA={http:NB,xhr:i9,fetch:d9};Pe.forEach(WA,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const F3=n=>`- ${n}`,h9=n=>Pe.isFunction(n)||n===null||n===!1,GT={getAdapter:n=>{n=Pe.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let a;if(r=t,!h9(t)&&(r=WA[(a=String(t)).toLowerCase()],r===void 0))throw new Ft(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(F3).join(`
`):" "+F3(s[0]):"as no adapter specified";throw new Ft("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:WA};function dS(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new wm(null,n)}function M3(n){return dS(n),n.headers=Ns.from(n.headers),n.data=uS.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),GT.getAdapter(n.adapter||Ay.adapter)(n).then(function(r){return dS(n),r.data=uS.call(n,n.transformResponse,r),r.headers=Ns.from(r.headers),r},function(r){return HT(r)||(dS(n),r&&r.response&&(r.response.data=uS.call(n,n.transformResponse,r.response),r.response.headers=Ns.from(r.response.headers))),Promise.reject(r)})}const KT="1.7.2",qC={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{qC[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const O3={};qC.transitional=function(e,t,r){function i(s,a){return"[Axios v"+KT+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new Ft(i(a," has been removed"+(t?" in "+t:"")),Ft.ERR_DEPRECATED);return t&&!O3[a]&&(O3[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,a,o):!0}};function f9(n,e,t){if(typeof n!="object")throw new Ft("options must be an object",Ft.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const o=n[s],l=o===void 0||a(o,s,n);if(l!==!0)throw new Ft("option "+s+" must be "+l,Ft.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ft("Unknown option "+s,Ft.ERR_BAD_OPTION)}}const VA={assertOptions:f9,validators:qC},vu=VA.validators;let hf=class{constructor(e){this.defaults=e,this.interceptors={request:new j3,response:new j3}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ef(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&VA.assertOptions(r,{silentJSONParsing:vu.transitional(vu.boolean),forcedJSONParsing:vu.transitional(vu.boolean),clarifyTimeoutError:vu.transitional(vu.boolean)},!1),i!=null&&(Pe.isFunction(i)?t.paramsSerializer={serialize:i}:VA.assertOptions(i,{encode:vu.function,serialize:vu.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&Pe.merge(s.common,s[t.method]);s&&Pe.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),t.headers=Ns.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(l=l&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,h;if(!l){const y=[M3.bind(this),void 0];for(y.unshift.apply(y,o),y.push.apply(y,u),h=y.length,d=Promise.resolve(t);f<h;)d=d.then(y[f++],y[f++]);return d}h=o.length;let p=t;for(f=0;f<h;){const y=o[f++],x=o[f++];try{p=y(p)}catch(_){x.call(this,_);break}}try{d=M3.call(this,p)}catch(y){return Promise.reject(y)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Ef(this.defaults,e);const t=qT(e.baseURL,e.url);return BT(t,e.params,e.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(e){hf.prototype[e]=function(t,r){return this.request(Ef(r||{},{method:e,url:t,data:(r||{}).data}))}});Pe.forEach(["post","put","patch"],function(e){function t(r){return function(s,a,o){return this.request(Ef(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}hf.prototype[e]=t(),hf.prototype[e+"Form"]=t(!0)});let p9=class YT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new wm(s,a,o),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new YT(function(i){e=i}),cancel:e}}};function g9(n){return function(t){return n.apply(null,t)}}function m9(n){return Pe.isObject(n)&&n.isAxiosError===!0}const GA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(GA).forEach(([n,e])=>{GA[e]=n});function XT(n){const e=new hf(n),t=ET(hf.prototype.request,e);return Pe.extend(t,hf.prototype,e,{allOwnKeys:!0}),Pe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return XT(Ef(n,i))},t}const en=XT(Ay);en.Axios=hf;en.CanceledError=wm;en.CancelToken=p9;en.isCancel=HT;en.VERSION=KT;en.toFormData=Ex;en.AxiosError=Ft;en.Cancel=en.CanceledError;en.all=function(e){return Promise.all(e)};en.spread=g9;en.isAxiosError=m9;en.mergeConfig=Ef;en.AxiosHeaders=Ns;en.formToJSON=n=>UT(Pe.isHTMLForm(n)?new FormData(n):n);en.getAdapter=GT.getAdapter;en.HttpStatusCode=GA;en.default=en;const{Axios:NQ,AxiosError:Dt,CanceledError:jQ,isCancel:PQ,CancelToken:LQ,VERSION:TQ,all:RQ,Cancel:IQ,isAxiosError:FQ,spread:MQ,toFormData:OQ,AxiosHeaders:DQ,HttpStatusCode:BQ,formToJSON:zQ,getAdapter:UQ,mergeConfig:HQ}=en,jt=en.create({baseURL:"https://test-backend-pink.vercel.app/api",headers:{"Content-Type":"application/json"}});jt.interceptors.request.use(n=>{const{accessToken:e}=zn.getCookies("accessToken");return e&&(n.headers.Authorization=`Bearer ${e||""}`),n});jt.interceptors.response.use(n=>n,n=>{var e;if(((e=n.response)==null?void 0:e.status)===401)throw n;return Promise.reject(n)});const ff=Ut("user/getUserById",async n=>{try{const e=await jt.get(`users/${n}`);if(e.data)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),Vw=Ut("user/updateUserProfile",async n=>{try{const e=await jt.post(`/profile/update/${n.id}`,n);if(e.data)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),v9=Ic({name:"usersSlice",initialState:{user:{},isLoading:!1,error:null},reducers:{},extraReducers:n=>{n.addCase(ff.pending,e=>{e.isLoading=!0}).addCase(ff.fulfilled,(e,t)=>{e.isLoading=!1,e.user=t.payload,e.error=t.error}).addCase(ff.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message}).addCase(Vw.pending,e=>{e.isLoading=!0}).addCase(Vw.rejected,(e,t)=>{e.error=t.error.message,e.isLoading=!1}).addCase(Vw.fulfilled,(e,t)=>{e.user=t.paylaod,e.error=null,e.isLoading=!1})}}),y9=v9.reducer,Gw=Ut("auth/login",async n=>{const{credential:e,password:t}=n;try{const r=await en.post("http://localhost:5000/api/login",{credential:e,password:t});if(r.data.data.status)return console.log(r.data),r.data;throw new Error("login failed")}catch(r){throw r instanceof Dt?r.response?r.response.status:r.message:r}}),jx=Ut("auth/logout",async()=>{try{await en.post("http://localhost:5000/api/logout",{refreshToken:zn.getCookie("refreshToken")})}catch(n){throw n instanceof Dt?n.response?n.response.status:n.message:n}}),Kw=Ut("auth/get-validation-code",async n=>{try{const e=await en.post("https://test-backend-pink.vercel.app/api/forgot-password",{email:n});if(e.data)return e.data;throw new Error("Failed to get a token")}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),Tt=Ut("auth/get-new-access-token",async()=>{let{refreshToken:n}=zn.getCookies("refreshToken");console.log(n);try{const e=await jt.post("/refresh-token",{refreshToken:n});if(e.data)return e.data;throw new Error("Failed to get a token")}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),w9=Ic({name:"auth",initialState:{isLoading:!1,user:{},token:zn.getCookie("token"),validationToken:null,status:!1,error:null},reducers:{},extraReducers:n=>{n.addCase(Gw.pending,e=>{e.isLoading=!0}).addCase(Gw.fulfilled,(e,t)=>{e.status=!0,e.isLoading=!1,e.user=t.payload.data,e.token=t.payload.token.accessToken,zn.setCookie("accessToken",t.payload.token.accessToken),zn.setCookie("refreshToken",t.payload.token.refreshToken,{maxAge:7*24*60*60}),zn.setCookie("userID",t.payload.data.id,{maxAge:7*24*60*60})}).addCase(Gw.rejected,(e,t)=>{e.status=!1,e.isLoading=!1,e.error=t.error.message}).addCase(jx.fulfilled,e=>{e.user=null,e.token=null,zn.deleteCookie("accessToken"),zn.deleteCookie("refreshToken"),zn.deleteCookie("userID"),window.location.replace("/")}).addCase(Kw.pending,e=>{e.isLoading=!0}).addCase(Kw.fulfilled,(e,t)=>{e.isLoading=!1,e.status=!0,e.validationToken=t.payload}).addCase(Kw.rejected,(e,t)=>{e.isLoading=!1,e.status=!1,e.error=t.error.message}).addCase(Tt.fulfilled,(e,t)=>{e.status=!0,e.token=t.payload.accessToken,zn.setCookie("accessToken",t.payload.accessToken)}).addCase(Tt.rejected,(e,t)=>{e.status=!1,e.error=t.error.message,console.log(t.error.message),e.token=null,window.location.replace("/login")})}}),b9=w9.reducer,vl=()=>{const n=zn.getCookie("userID"),e=sn();async function t(){const l=await e(ff(n));if(l.error&&l.error.message==="401")return console.log("getting new access token"),await e(Tt()),t()}async function r(){await e(jx())}ie.useEffect(()=>{n&&t()},[]);const i=zn.getCookie("refreshToken"),{user:s}=Yt(l=>l.user),[a,o]=ie.useState("");return ie.useEffect(()=>{o((s==null?void 0:s.role)||"")},[s]),c.jsx(c.Fragment,{children:c.jsx("header",{className:"sticky-top fixed-top",children:c.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark bg-secondary",children:c.jsxs("section",{className:"container",children:[c.jsxs(ct,{to:"/",className:"navbar-brand d-flex align-items-center",children:[c.jsx("img",{src:"https://logobagus.com/wp-content/uploads/2024/01/logo_unp_kediri-768x769.png",height:50,alt:"Logo"}),c.jsxs("section",{className:"navbar-dark ms-2",style:{fontSize:"0.95rem"},children:[c.jsx("section",{children:"Dongeng Nusantara"}),c.jsx("section",{className:"fw-bold",children:"Panji Kediri"})]})]}),c.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:c.jsx("span",{className:"navbar-toggler-icon"})}),c.jsxs("section",{className:"collapse navbar-collapse",id:"navbarNav",children:[c.jsxs("ul",{className:"navbar-nav ms-auto",children:[c.jsx("li",{className:"nav-item mx-1",children:c.jsx(ct,{to:"/",className:"nav-link fw-bold",children:"Beranda"})}),c.jsx("li",{className:"nav-item dropdown mx-1",children:c.jsx(ct,{to:"/katalog",className:"nav-link",role:"button",children:"Daftar Dongeng"})}),c.jsxs("li",{className:"nav-item dropdown mx-1",children:[c.jsx(ct,{to:"/petunjuk",className:"nav-link dropdown-toggle dropdown-mobile",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Petunjuk"}),c.jsxs("ul",{className:"dropdown-menu dropdown-menu-end px-2","aria-labelledby":"dropdownCatalogue",children:[c.jsx("li",{children:c.jsxs(ct,{to:"/petunjuk",className:"dropdown-item p-2",children:[c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/Group%2020.png",width:30,alt:""}),c.jsx("span",{className:"ms-2 my-auto",children:"untuk Siswa"})]})}),c.jsx("li",{children:c.jsxs(ct,{to:"/petunjuk",className:"dropdown-item p-2",children:[c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/Group%2021.png",width:30,alt:""}),c.jsx("span",{className:"ms-2 my-auto",children:"untuk Guru"})]})}),c.jsx("li",{children:c.jsxs(ct,{to:"/petunjuk",className:"dropdown-item p-2",children:[c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/Group%2022.png",width:30,alt:""}),c.jsx("span",{className:"ms-2 my-auto",children:"untuk Orang Tua"})]})})]})]}),c.jsxs("li",{className:`nav-item dropdown mx-1 ${i?"":"d-none"} my-4 my-lg-0 `,children:[c.jsx(ct,{to:"#",className:"d-flex align-items-center text-white text-decoration-none dropdown-toggle",id:"dropdownUser1","data-bs-toggle":"dropdown","aria-expanded":"false",children:c.jsx("img",{src:"https://th.bing.com/th/id/OIP.oVIyTk_GGnAj3YzNXppdpQAAAA?w=189&h=189&c=7&r=0&o=5&pid=1.7",alt:"hugenerd",width:"40",height:"40",className:"rounded-circle"})}),c.jsxs("ul",{className:"dropdown-menu dropdown-menu-end text-small shadow mt-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"dropdown-item m-0 text-capitalize",children:a.toLocaleLowerCase()||"undefined"}),c.jsx("hr",{className:"my-2"})]}),a.toLocaleLowerCase()==="siswa"?c.jsx("li",{children:c.jsx(ct,{to:"/profile",className:"dropdown-item d-flex justify-content-between align-items-center",style:{cursor:"pointer"},children:"Profile"})}):"",a.toLowerCase()==="admin"||a.toLowerCase()==="guru"?c.jsx("li",{children:c.jsx(ct,{className:"dropdown-item d-flex justify-content-between align-items-center",style:{cursor:"pointer"},to:"/admin",children:"Databases"})}):a.toLocaleLowerCase()==="siswa"?c.jsx("li",{children:c.jsx(ct,{className:"dropdown-item d-flex justify-content-between align-items-center",style:{cursor:"pointer"},to:"/quiz",children:"Quiz"})}):null,c.jsx("li",{children:c.jsxs(ct,{className:"dropdown-item d-flex justify-content-between align-items-center text-danger fw-semibold",style:{cursor:"pointer"},onClick:()=>r(),children:["Sign out",c.jsx(JT,{})]})})]})]})]}),c.jsx("ul",{className:`nav-item navbar-nav mb-2 mb-lg-0 text-center text-xl-start ${i?"d-none":""}`,children:c.jsx("li",{className:"nav-item ms-lg-3 ms-0 pt-lg-0 pt-4 text-start",children:c.jsx(ct,{to:"/login",className:"btn btn-sm btn-outline-light ",children:c.jsxs("div",{className:"d-flex align-items-center gap-2",children:["Masuk ",c.jsx(x9,{size:24})]})})})})]})]})})})})},x9=({size:n=16})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",class:"bi bi-box-arrow-in-left",viewBox:"0 0 16 16",children:[c.jsx("path",{"fill-rule":"evenodd",d:"M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0z"}),c.jsx("path",{"fill-rule":"evenodd",d:"M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708z"})]}),S9=({navList:n=[]})=>{const e=Eo();sn();var t=e.pathname;t=t.split("/")[2];const r="bg-light rounded-start rounded-10 text-base";return c.jsx("div",{className:"col-auto col-md-3 col-xl-2 ps-sm-2 px-0 bg-night",children:c.jsxs("div",{className:"d-flex flex-column align-items-center align-items-sm-start text-white",style:{minHeight:"calc(100vh - 98px)"},children:[c.jsx("ul",{className:"nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start w-100",id:"menu",children:n.map((i,s)=>c.jsx("li",{className:` nav-item w-100 p-2 ${i.path.split("/")[2]===t?r:""}`,children:c.jsx(ct,{to:i.path,className:`nav-link align-middle px-0 $ ${t===i.path?"bg-none":""}`,children:c.jsxs("span",{className:`ps-sm-2 w-full text-light fs-5 d-flex gap-2 align-items-center ${i.path.split("/")[2]===t?"text-black":""}`,children:[i.icon,i.name]})})},s))}),c.jsx("hr",{})]})})},ua=({children:n})=>{const e=[{name:"Dashboard",path:"/admin",icon:c.jsx(E9,{size:24})},{name:"Users",path:"/admin/users",icon:c.jsx(A9,{size:24})},{name:"Dongeng",path:"/admin/dongeng",icon:c.jsx(_9,{size:24})},{name:"Bank Soal",path:"/admin/bank-soal",icon:c.jsx(k9,{size:24})},{name:"Forum Quiz",path:"/admin/forum-quiz",icon:c.jsx(C9,{size:24})}],t=sn();async function r(){await t(jx())}const i=zn.getCookie("refreshToken"),s=zn.getCookie("userID"),a=Zr(),{user:o}=Yt(l=>l.user);return ie.useEffect(()=>{async function l(){var u=await t(ff(s));if(u.error&&u.error.message==="401")return console.log("get new access token"),t(Tt()),l();const{role:d}=u==null?void 0:u.payload;if(d!=="admin"&&d!=="guru")return a("/")}l()},[]),!i||!s?c.jsx(FC,{to:"/login"}):c.jsxs("div",{className:"container-fluid bg-night",children:[c.jsxs("div",{className:"d-flex flex-column justify-content-between flex-md-row align-items-center text-light px-sm-2 px-0 py-4 bg-night gap-4",children:[c.jsxs(ct,{to:"/",className:"navbar-brand d-flex align-items-center",children:[c.jsx("div",{style:{minWidth:"50px"},children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/logo-sibi.png",height:50,alt:"Logo"})}),c.jsxs("section",{className:"navbar-dark",style:{fontSize:"0.95rem"},children:[c.jsx("section",{children:"Sistem Informasi"}),c.jsx("section",{className:"fw-bold",children:"Perbukuan Indonesia"})]})]}),c.jsxs("div",{className:"dropdown",children:[c.jsx("a",{href:"#",className:"d-flex align-items-center text-white text-decoration-none dropdown-toggle ",id:"dropdownUser1","data-bs-toggle":"dropdown","aria-expanded":"false",children:c.jsx("img",{src:"https://th.bing.com/th/id/OIP.oVIyTk_GGnAj3YzNXppdpQAAAA?w=189&h=189&c=7&r=0&o=5&pid=1.7",alt:"hugenerd",width:"50",height:"50",className:"rounded-circle"})}),c.jsxs("ul",{className:"dropdown-menu dropdown-menu-dark text-small shadow mt-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"dropdown-item m-0 text-capitalize",children:(o==null?void 0:o.role)||"undefined"}),c.jsx("hr",{className:"my-2"})]}),c.jsx("li",{children:c.jsxs("a",{className:"dropdown-item d-flex justify-content-between align-items-center",style:{cursor:"pointer"},onClick:()=>r(),children:["Sign out",c.jsx(JT,{})]})})]})]})]}),c.jsxs("div",{className:"row flex-nowrap",children:[c.jsx(S9,{navList:e}),c.jsx("div",{className:"col p-3 bg-light",children:n})]})]})},A9=({size:n=16})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",className:"bi bi-people",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"})}),_9=({size:n=16})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",className:"bi bi-book",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"})}),k9=({size:n=16})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",className:"bi bi-box2",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M2.95.4a1 1 0 0 1 .8-.4h8.5a1 1 0 0 1 .8.4l2.85 3.8a.5.5 0 0 1 .1.3V15a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V4.5a.5.5 0 0 1 .1-.3zM7.5 1H3.75L1.5 4h6zm1 0v3h6l-2.25-3zM15 5H1v10h14z"})}),C9=({size:n=16})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",className:"bi bi-mortarboard",viewBox:"0 0 16 16",children:[c.jsx("path",{d:"M8.211 2.047a.5.5 0 0 0-.422 0l-7.5 3.5a.5.5 0 0 0 .025.917l7.5 3a.5.5 0 0 0 .372 0L14 7.14V13a1 1 0 0 0-1 1v2h3v-2a1 1 0 0 0-1-1V6.739l.686-.275a.5.5 0 0 0 .025-.917zM8 8.46 1.758 5.965 8 3.052l6.242 2.913z"}),c.jsx("path",{d:"M4.176 9.032a.5.5 0 0 0-.656.327l-.5 1.7a.5.5 0 0 0 .294.605l4.5 1.8a.5.5 0 0 0 .372 0l4.5-1.8a.5.5 0 0 0 .294-.605l-.5-1.7a.5.5 0 0 0-.656-.327L8 10.466zm-.068 1.873.22-.748 3.496 1.311a.5.5 0 0 0 .352 0l3.496-1.311.22.748L8 12.46z"})]}),E9=({size:n=16})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",className:"bi bi-house",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z"})}),JT=({size:n=16})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",class:"bi bi-box-arrow-right",viewBox:"0 0 16 16",children:[c.jsx("path",{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"}),c.jsx("path",{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"})]}),ia=Ut("dongeng/getAllDongeng",async()=>{try{const n=await jt.get("/dongeng");if(n)return n.data;throw new Error}catch(n){throw n instanceof Dt?n.response?n.response.status:n.message:n}}),hS=Ut("dongeng/updateDongeng",async n=>{try{const e=await jt.patch(`dongeng/${n.id}`,n);if(e)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),Yw=Ut("dongeng/getDongengById",async n=>{try{const e=await jt.get(`dongeng/${n}`);throw e&&e.data,new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),Xw=Ut("dongeng/addDongeng",async n=>{try{const e=await jt.post("/dongeng",n,{headers:{"Content-Type":"multipart/form-data"}});if(e)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),N9=Ut("dongeng/deleteDongeng",async n=>{try{const e=await jt.delete(`/dongeng/${n}`);if(e)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),j9=Ic({name:"dongeng",initialState:{dongeng:[],isLoading:!1,error:null},reducers:{},extraReducers:n=>{n.addCase(ia.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null,e.dongeng=t.payload}).addCase(ia.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message,e.dongeng=[]}).addCase(ia.pending,(e,t)=>{e.isLoading=!0}).addCase(hS.pending,(e,t)=>{e.isLoading=!0}).addCase(hS.fulfilled,(e,t)=>{e.dongeng=t.payload,e.isLoading=!1,e.error=null}).addCase(hS.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.dongeng=[],e.error=t.error.message}).addCase(Yw.pending,(e,t)=>{e.isLoading=!0}).addCase(Yw.fulfilled,(e,t)=>{e.dongeng=t.payload,e.isLoading=!1,e.error=null}).addCase(Yw.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.dongeng=[],e.error=t.error.message}).addCase(Xw.pending,e=>{e.isLoading=!0}).addCase(Xw.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(Xw.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null})}}),P9=j9.reducer,Fc=()=>c.jsx("div",{className:"spinner-border",role:"status",children:c.jsx("span",{className:"visually-hidden",children:"Loading..."})}),W0=Ut("forumQuiz/getForumQuiz",async()=>{try{const n=await jt.get("/get-all-quiz");if(n)return n.data;throw new Error}catch(n){throw n instanceof Dt?n.response?n.response.status:n.message:n}}),Jw=Ut("forumQuiz/addForumQuiz",async n=>{console.log(n);try{const e=await jt.post("/create-quiz",n);if(e)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),V0=Ut("forumQuiz/getForumQuizById",async n=>{try{const e=await jt.get(`/get-quiz/${n}`);if(e)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),Qw=Ut("forumQuiz/deleteForumQuiz",async n=>{try{const e=await jt.delete(`/delete-quiz/${n}`);if(e)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),Zw=Ut("forumQuiz/editForumQuiz",async n=>{try{const e=await jt.patch(`/update-quiz/${n.id}`,n);if(e)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),L9=Ic({name:"forumQuiz",initialState:{forumQuiz:[],isLoading:!1,error:null},reducers:{},extraReducers:n=>{n.addCase(W0.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.forumQuiz=[],e.error=t.error.message}).addCase(W0.fulfilled,(e,t)=>{e.forumQuiz=t.payload,e.isLoading=!1,e.error=null}).addCase(W0.pending,e=>{e.isLoading=!0}).addCase(Jw.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null}).addCase(Jw.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(Jw.pending,e=>{e.isLoading=!0}).addCase(V0.fulfilled,(e,t)=>{e.forumQuiz=[],e.forumQuiz.push(t.payload),e.isLoading=!1,e.error=null}).addCase(V0.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(V0.pending,e=>{e.isLoading=!0}).addCase(Qw.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null}).addCase(Qw.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(Qw.pending,e=>{e.isLoading=!0}).addCase(Zw.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null}).addCase(Zw.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(Zw.pending,e=>{e.isLoading=!0})}}),T9=L9.reducer;function zf(n){this._maxSize=n,this.clear()}zf.prototype.clear=function(){this._size=0,this._values=Object.create(null)};zf.prototype.get=function(n){return this._values[n]};zf.prototype.set=function(n,e){return this._size>=this._maxSize&&this.clear(),n in this._values||this._size++,this._values[n]=e};var R9=/[^.^\]^[]+|(?=\[\]|\.\.)/g,QT=/^\d+$/,I9=/^\d/,F9=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,M9=/^\s*(['"]?)(.*?)(\1)\s*$/,WC=512,D3=new zf(WC),B3=new zf(WC),z3=new zf(WC),pf={Cache:zf,split:KA,normalizePath:fS,setter:function(n){var e=fS(n);return B3.get(n)||B3.set(n,function(r,i){for(var s=0,a=e.length,o=r;s<a-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;o=o[e[s++]]}o[e[s]]=i})},getter:function(n,e){var t=fS(n);return z3.get(n)||z3.set(n,function(i){for(var s=0,a=t.length;s<a;)if(i!=null||!e)i=i[t[s++]];else return;return i})},join:function(n){return n.reduce(function(e,t){return e+(VC(t)||QT.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(n,e,t){O9(Array.isArray(n)?n:KA(n),e,t)}};function fS(n){return D3.get(n)||D3.set(n,KA(n).map(function(e){return e.replace(M9,"$2")}))}function KA(n){return n.match(R9)||[""]}function O9(n,e,t){var r=n.length,i,s,a,o;for(s=0;s<r;s++)i=n[s],i&&(z9(i)&&(i='"'+i+'"'),o=VC(i),a=!o&&/^\d+$/.test(i),e.call(t,i,o,a,s,n))}function VC(n){return typeof n=="string"&&n&&["'",'"'].indexOf(n.charAt(0))!==-1}function D9(n){return n.match(I9)&&!n.match(QT)}function B9(n){return F9.test(n)}function z9(n){return!VC(n)&&(D9(n)||B9(n))}const U9=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Px=n=>n.match(U9)||[],Lx=n=>n[0].toUpperCase()+n.slice(1),GC=(n,e)=>Px(n).join(e).toLowerCase(),ZT=n=>Px(n).reduce((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`,""),H9=n=>Lx(ZT(n)),$9=n=>GC(n,"_"),q9=n=>GC(n,"-"),W9=n=>Lx(GC(n," ")),V9=n=>Px(n).map(Lx).join(" ");var pS={words:Px,upperFirst:Lx,camelCase:ZT,pascalCase:H9,snakeCase:$9,kebabCase:q9,sentenceCase:W9,titleCase:V9},KC={exports:{}};KC.exports=function(n){return e6(G9(n),n)};KC.exports.array=e6;function e6(n,e){var t=n.length,r=new Array(t),i={},s=t,a=K9(e),o=Y9(n);for(e.forEach(function(u){if(!o.has(u[0])||!o.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(n[s],s,new Set);return r;function l(u,d,f){if(f.has(u)){var h;try{h=", node was:"+JSON.stringify(u)}catch{h=""}throw new Error("Cyclic dependency"+h)}if(!o.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[d]){i[d]=!0;var p=a.get(u)||new Set;if(p=Array.from(p),d=p.length){f.add(u);do{var y=p[--d];l(y,o.get(y),f)}while(d);f.delete(u)}r[--t]=u}}}function G9(n){for(var e=new Set,t=0,r=n.length;t<r;t++){var i=n[t];e.add(i[0]),e.add(i[1])}return Array.from(e)}function K9(n){for(var e=new Map,t=0,r=n.length;t<r;t++){var i=n[t];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function Y9(n){for(var e=new Map,t=0,r=n.length;t<r;t++)e.set(n[t],t);return e}var X9=KC.exports;const J9=fm(X9),Q9=Object.prototype.toString,Z9=Error.prototype.toString,ez=RegExp.prototype.toString,tz=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",nz=/^Symbol\((.*)\)(.*)$/;function rz(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function U3(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return rz(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return tz.call(n).replace(nz,"Symbol($1)");const r=Q9.call(n).slice(8,-1);return r==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):r==="Error"||n instanceof Error?"["+Z9.call(n)+"]":r==="RegExp"?ez.call(n):null}function fd(n,e){let t=U3(n,e);return t!==null?t:JSON.stringify(n,function(r,i){let s=U3(this[r],e);return s!==null?s:i},2)}function t6(n){return n==null?[]:[].concat(n)}let n6,r6,i6,iz=/\$\{\s*(\w+)\s*\}/g;n6=Symbol.toStringTag;class H3{constructor(e,t,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[n6]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=i,this.errors=[],this.inner=[],t6(e).forEach(s=>{if(ws.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}r6=Symbol.hasInstance;i6=Symbol.toStringTag;class ws extends Error{static formatError(e,t){const r=t.label||t.path||"this";return r!==t.path&&(t=Object.assign({},t,{path:r})),typeof e=="string"?e.replace(iz,(i,s)=>fd(t[s])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,r,i,s){const a=new H3(e,t,r,i);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[i6]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ws)}static[r6](e){return H3[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Vo={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:r})=>{const i=r!=null&&r!==t?` (cast from the value \`${fd(r,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${fd(t,!0)}\``+i:`${n} must match the configured type. The validated value was: \`${fd(t,!0)}\``+i}},ps={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},sz={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},YA={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},az={isValue:"${path} field must be ${value}"},XA={noUnknown:"${path} field has unspecified keys: ${unknown}"},oz={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},lz={notType:n=>{const{path:e,value:t,spec:r}=n,i=r.types.length;if(Array.isArray(t)){if(t.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${t.length} for value: \`${fd(t,!0)}\``;if(t.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${t.length} for value: \`${fd(t,!0)}\``}return ws.formatError(Vo.notType,n)}};Object.assign(Object.create(null),{mixed:Vo,string:ps,number:sz,date:YA,object:XA,array:oz,boolean:az,tuple:lz});const YC=n=>n&&n.__isYupSchema__;class Ab{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=t,a=typeof r=="function"?r:(...o)=>o.every(l=>l===r);return new Ab(e,(o,l)=>{var u;let d=a(...o)?i:s;return(u=d==null?void 0:d(l))!=null?u:l})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(s=>s.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),i=this.fn(r,e,t);if(i===void 0||i===e)return e;if(!YC(i))throw new TypeError("conditions must return a schema object");return i.resolve(t)}}const xw={context:"$",value:"."};function XC(n,e){return new jd(n,e)}class jd{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===xw.context,this.isValue=this.key[0]===xw.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?xw.context:this.isValue?xw.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&pf.getter(this.path,!0),this.map=t.map}getValue(e,t,r){let i=this.isContext?r:this.isValue?e:t;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}jd.prototype.__isYupRef=!0;const dh=n=>n==null;function _p(n){function e({value:t,path:r="",options:i,originalValue:s,schema:a},o,l){const{name:u,test:d,params:f,message:h,skipAbsent:p}=n;let{parent:y,context:x,abortEarly:_=a.spec.abortEarly,disableStackTrace:w=a.spec.disableStackTrace}=i;function A(R){return jd.isRef(R)?R.getValue(t,y,x):R}function S(R={}){const F=Object.assign({value:t,originalValue:s,label:a.spec.label,path:R.path||r,spec:a.spec,disableStackTrace:R.disableStackTrace||w},f,R.params);for(const W of Object.keys(F))F[W]=A(F[W]);const $=new ws(ws.formatError(R.message||h,F),t,F.path,R.type||u,F.disableStackTrace);return $.params=F,$}const v=_?o:l;let C={path:r,parent:y,type:u,from:i.from,createError:S,resolve:A,options:i,originalValue:s,schema:a};const j=R=>{ws.isError(R)?v(R):R?l(null):v(S())},T=R=>{ws.isError(R)?v(R):o(R)};if(p&&dh(t))return j(!0);let z;try{var q;if(z=d.call(C,t,C),typeof((q=z)==null?void 0:q.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(z).then(j,T)}}catch(R){T(R);return}j(z)}return e.OPTIONS=n,e}function cz(n,e,t,r=t){let i,s,a;return e?(pf.forEach(e,(o,l,u)=>{let d=l?o.slice(1,o.length-1):o;n=n.resolve({context:r,parent:i,value:t});let f=n.type==="tuple",h=u?parseInt(d,10):0;if(n.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(t&&h>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);i=t,t=t&&t[h],n=f?n.spec.types[h]:n.innerType}if(!u){if(!n.fields||!n.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${n.type}")`);i=t,t=t&&t[d],n=n.fields[d]}s=d,a=l?"["+o+"]":"."+o}),{schema:n,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:n}}class _b extends Set{describe(){const e=[];for(const t of this.values())e.push(jd.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new _b(this.values())}merge(e,t){const r=this.clone();return e.forEach(i=>r.add(i)),t.forEach(i=>r.delete(i)),r}}function Kp(n,e=new Map){if(YC(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let r=0;r<n.length;r++)t[r]=Kp(n[r],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[r,i]of n.entries())t.set(r,Kp(i,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const r of n)t.add(Kp(r,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[r,i]of Object.entries(n))t[r]=Kp(i,e)}else throw Error(`Unable to clone ${n}`);return t}class Co{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new _b,this._blacklist=new _b,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Vo.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Kp(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const i=Object.assign({},t.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((i,s)=>s.resolve(i,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,t={}){let r=this.resolve(Object.assign({value:e},t)),i=t.assert==="ignore-optionality",s=r._cast(e,t);if(t.assert!==!1&&!r.isType(s)){if(i&&dh(s))return s;let a=fd(e),o=fd(s);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return s}_cast(e,t){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(t)),r}_validate(e,t={},r,i){let{path:s,originalValue:a=e,strict:o=this.spec.strict}=t,l=e;o||(l=this._cast(l,Object.assign({assert:!1},t)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:l,originalValue:a,options:t,tests:u},r,d=>{if(d.length)return i(d,l);this.runTests({path:s,value:l,originalValue:a,options:t,tests:this.tests},r,i)})}runTests(e,t,r){let i=!1,{tests:s,value:a,originalValue:o,path:l,options:u}=e,d=x=>{i||(i=!0,t(x,a))},f=x=>{i||(i=!0,r(x,a))},h=s.length,p=[];if(!h)return f([]);let y={value:a,originalValue:o,path:l,options:u,schema:this};for(let x=0;x<s.length;x++){const _=s[x];_(y,d,function(A){A&&(Array.isArray(A)?p.push(...A):p.push(A)),--h<=0&&f(p)})}}asNestedTest({key:e,index:t,parent:r,parentPath:i,originalParent:s,options:a}){const o=e??t;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let u=r[o];const d=Object.assign({},a,{strict:!0,parent:r,value:u,originalValue:s[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${i||""}[${l?o:`"${o}"`}]`:(i?`${i}.`:"")+e});return(f,h,p)=>this.resolve(d)._validate(u,d,h,p)}validate(e,t){var r;let i=this.resolve(Object.assign({},t,{value:e})),s=(r=t==null?void 0:t.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((a,o)=>i._validate(e,t,(l,u)=>{ws.isError(l)&&(l.value=u),o(l)},(l,u)=>{l.length?o(new ws(l,u,void 0,void 0,s)):a(u)}))}validateSync(e,t){var r;let i=this.resolve(Object.assign({},t,{value:e})),s,a=(r=t==null?void 0:t.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},t,{sync:!0}),(o,l)=>{throw ws.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new ws(o,e,void 0,void 0,a);s=l}),s}isValid(e,t){return this.validate(e,t).then(()=>!0,r=>{if(ws.isError(r))return!1;throw r})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(ws.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Kp(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=_p({message:t,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=_p({message:t,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Vo.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Vo.notNull){return this.nullability(!1,e)}required(e=Vo.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Vo.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=_p(t),s=t.exclusive||t.name&&r.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===t.name&&(s||a.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let r=this.clone(),i=t6(e).map(s=>new jd(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof t=="function"?new Ab(i,t):Ab.fromOptions(i,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=_p({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Vo.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=_p({message:t,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),r}notOneOf(e,t=Vo.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=_p({message:t,name:"notOneOf",test(i){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:a}=t.spec;return{meta:i,label:r,optional:s,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,d)=>d.findIndex(f=>f.name===l.name)===u)}}}Co.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Co.prototype[`${n}At`]=function(e,t,r={}){const{parent:i,parentPath:s,schema:a}=cz(this,e,t,r.context);return a[n](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const n of["equals","is"])Co.prototype[n]=Co.prototype.oneOf;for(const n of["not","nope"])Co.prototype[n]=Co.prototype.notOneOf;const uz=()=>!0;function JC(n){return new s6(n)}class s6 extends Co{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:uz},e))}}JC.prototype=s6.prototype;const dz=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function hz(n){const e=JA(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function JA(n){var e,t;const r=dz.exec(n);return r?{year:Fl(r[1]),month:Fl(r[2],1)-1,day:Fl(r[3],1),hour:Fl(r[4]),minute:Fl(r[5]),second:Fl(r[6]),millisecond:r[7]?Fl(r[7].substring(0,3)):0,precision:(e=(t=r[7])==null?void 0:t.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Fl(r[10]),minuteOffset:Fl(r[11])}:null}function Fl(n,e=0){return Number(n)||e}let fz=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,pz=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,gz=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,mz="^\\d{4}-\\d{2}-\\d{2}",vz="\\d{2}:\\d{2}:\\d{2}",yz="(([+-]\\d{2}(:?\\d{2})?)|Z)",wz=new RegExp(`${mz}T${vz}(\\.\\d+)?${yz}$`),bz=n=>dh(n)||n===n.trim(),xz={}.toString();function xt(){return new a6}class a6 extends Co{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===xz?e:i})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Vo.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=ps.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,t=ps.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,t=ps.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,t){let r=!1,i,s;return t&&(typeof t=="object"?{excludeEmptyString:r=!1,message:i,name:s}=t:i=t),this.test({name:s||"matches",message:i||ps.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=ps.email){return this.matches(fz,{name:"email",message:e,excludeEmptyString:!0})}url(e=ps.url){return this.matches(pz,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=ps.uuid){return this.matches(gz,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",r,i;return e&&(typeof e=="object"?{message:t="",allowOffset:r=!1,precision:i=void 0}=e:t=e),this.matches(wz,{name:"datetime",message:t||ps.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||ps.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const a=JA(s);return a?!!a.z:!1}}).test({name:"datetime_precision",message:t||ps.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const a=JA(s);return a?a.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=ps.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:bz})}lowercase(e=ps.lowercase){return this.transform(t=>dh(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>dh(t)||t===t.toLowerCase()})}uppercase(e=ps.uppercase){return this.transform(t=>dh(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>dh(t)||t===t.toUpperCase()})}}xt.prototype=a6.prototype;let o6=new Date(""),Sz=n=>Object.prototype.toString.call(n)==="[object Date]";function kb(){return new _y}class _y extends Co{constructor(){super({type:"date",check(e){return Sz(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=hz(e),isNaN(e)?_y.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if(jd.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,t=YA.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,t=YA.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}_y.INVALID_DATE=o6;kb.prototype=_y.prototype;kb.INVALID_DATE=o6;function Az(n,e=[]){let t=[],r=new Set,i=new Set(e.map(([a,o])=>`${a}-${o}`));function s(a,o){let l=pf.split(a)[0];r.add(l),i.has(`${o}-${l}`)||t.push([o,l])}for(const a of Object.keys(n)){let o=n[a];r.add(a),jd.isRef(o)&&o.isSibling?s(o.path,a):YC(o)&&"deps"in o&&o.deps.forEach(l=>s(l,a))}return J9.array(Array.from(r),t).reverse()}function $3(n,e){let t=1/0;return n.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return t=i,!0}),t}function l6(n){return(e,t)=>$3(n,e)-$3(n,t)}const _z=(n,e,t)=>{if(typeof n!="string")return n;let r=n;try{r=JSON.parse(n)}catch{}return t.isType(r)?r:n};function e2(n){if("fields"in n){const e={};for(const[t,r]of Object.entries(n.fields))e[t]=e2(r);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=e2(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(e2)}):"optional"in n?n.optional():n}const kz=(n,e)=>{const t=[...pf.normalizePath(e)];if(t.length===1)return t[0]in n;let r=t.pop(),i=pf.getter(pf.join(t),!0)(n);return!!(i&&r in i)};let q3=n=>Object.prototype.toString.call(n)==="[object Object]";function Cz(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(r=>t.indexOf(r)===-1)}const Ez=l6([]);function ei(n){return new c6(n)}class c6 extends Co{constructor(e){super({type:"object",check(t){return q3(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=Ez,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var r;let i=super._cast(e,t);if(i===void 0)return this.getDefault(t);if(!this._typeCheck(i))return i;let s=this.fields,a=(r=t.stripUnknown)!=null?r:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(i).filter(f=>!this._nodes.includes(f))),l={},u=Object.assign({},t,{parent:l,__validating:t.__validating||!1}),d=!1;for(const f of o){let h=s[f],p=f in i;if(h){let y,x=i[f];u.path=(t.path?`${t.path}.`:"")+f,h=h.resolve({value:x,context:t.context,parent:l});let _=h instanceof Co?h.spec:void 0,w=_==null?void 0:_.strict;if(_!=null&&_.strip){d=d||f in i;continue}y=!t.__validating||!w?h.cast(i[f],u):i[f],y!==void 0&&(l[f]=y)}else p&&!a&&(l[f]=i[f]);(p!==f in l||l[f]!==i[f])&&(d=!0)}return d?l:i}_validate(e,t={},r,i){let{from:s=[],originalValue:a=e,recursive:o=this.spec.recursive}=t;t.from=[{schema:this,value:a},...s],t.__validating=!0,t.originalValue=a,super._validate(e,t,r,(l,u)=>{if(!o||!q3(u)){i(l,u);return}a=a||u;let d=[];for(let f of this._nodes){let h=this.fields[f];!h||jd.isRef(h)||d.push(h.asNestedTest({options:t,key:f,parent:u,parentPath:t.path,originalParent:a}))}this.runTests({tests:d,value:u,originalValue:a,options:t},r,f=>{i(f.sort(this._sortErrors).concat(l),u)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[i,s]of Object.entries(this.fields)){const a=r[i];r[i]=a===void 0?s:a}return t.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),t[r]=s&&"getDefault"in s?s.getDefault(a):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=Az(e,t),r._sortErrors=l6(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e,t=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),i=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return e2(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let i=pf.getter(e,!0);return this.transform(s=>{if(!s)return s;let a=s;return kz(s,e)&&(a=Object.assign({},s),r||delete a[e],a[t]=i(s)),a})}json(){return this.transform(_z)}noUnknown(e=!0,t=XA.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(i){if(i==null)return!0;const s=Cz(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=XA.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const i of Object.keys(t))r[e(i)]=t[i];return r})}camelCase(){return this.transformKeys(pS.camelCase)}snakeCase(){return this.transformKeys(pS.snakeCase)}constantCase(){return this.transformKeys(e=>pS.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,a]of Object.entries(t.fields)){var i;let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[s]})),r.fields[s]=a.describe(o)}return r}}ei.prototype=c6.prototype;var Nz=function(e){return jz(e)&&!Pz(e)};function jz(n){return!!n&&typeof n=="object"}function Pz(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||Rz(n)}var Lz=typeof Symbol=="function"&&Symbol.for,Tz=Lz?Symbol.for("react.element"):60103;function Rz(n){return n.$$typeof===Tz}function Iz(n){return Array.isArray(n)?[]:{}}function Cb(n,e){return e.clone!==!1&&e.isMergeableObject(n)?j1(Iz(n),n,e):n}function Fz(n,e,t){return n.concat(e).map(function(r){return Cb(r,t)})}function Mz(n,e,t){var r={};return t.isMergeableObject(n)&&Object.keys(n).forEach(function(i){r[i]=Cb(n[i],t)}),Object.keys(e).forEach(function(i){!t.isMergeableObject(e[i])||!n[i]?r[i]=Cb(e[i],t):r[i]=j1(n[i],e[i],t)}),r}function j1(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||Fz,t.isMergeableObject=t.isMergeableObject||Nz;var r=Array.isArray(e),i=Array.isArray(n),s=r===i;return s?r?t.arrayMerge(n,e,t):Mz(n,e,t):Cb(e,t)}j1.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return j1(r,i,t)},{})};var QA=j1,u6=typeof global=="object"&&global&&global.Object===Object&&global,Oz=typeof self=="object"&&self&&self.Object===Object&&self,bl=u6||Oz||Function("return this")(),wd=bl.Symbol,d6=Object.prototype,Dz=d6.hasOwnProperty,Bz=d6.toString,l0=wd?wd.toStringTag:void 0;function zz(n){var e=Dz.call(n,l0),t=n[l0];try{n[l0]=void 0;var r=!0}catch{}var i=Bz.call(n);return r&&(e?n[l0]=t:delete n[l0]),i}var Uz=Object.prototype,Hz=Uz.toString;function $z(n){return Hz.call(n)}var qz="[object Null]",Wz="[object Undefined]",W3=wd?wd.toStringTag:void 0;function Uf(n){return n==null?n===void 0?Wz:qz:W3&&W3 in Object(n)?zz(n):$z(n)}function h6(n,e){return function(t){return n(e(t))}}var QC=h6(Object.getPrototypeOf,Object);function Hf(n){return n!=null&&typeof n=="object"}var Vz="[object Object]",Gz=Function.prototype,Kz=Object.prototype,f6=Gz.toString,Yz=Kz.hasOwnProperty,Xz=f6.call(Object);function V3(n){if(!Hf(n)||Uf(n)!=Vz)return!1;var e=QC(n);if(e===null)return!0;var t=Yz.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&f6.call(t)==Xz}function Jz(){this.__data__=[],this.size=0}function p6(n,e){return n===e||n!==n&&e!==e}function Tx(n,e){for(var t=n.length;t--;)if(p6(n[t][0],e))return t;return-1}var Qz=Array.prototype,Zz=Qz.splice;function eU(n){var e=this.__data__,t=Tx(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Zz.call(e,t,1),--this.size,!0}function tU(n){var e=this.__data__,t=Tx(e,n);return t<0?void 0:e[t][1]}function nU(n){return Tx(this.__data__,n)>-1}function rU(n,e){var t=this.__data__,r=Tx(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Mc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Mc.prototype.clear=Jz;Mc.prototype.delete=eU;Mc.prototype.get=tU;Mc.prototype.has=nU;Mc.prototype.set=rU;function iU(){this.__data__=new Mc,this.size=0}function sU(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function aU(n){return this.__data__.get(n)}function oU(n){return this.__data__.has(n)}function ky(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var lU="[object AsyncFunction]",cU="[object Function]",uU="[object GeneratorFunction]",dU="[object Proxy]";function g6(n){if(!ky(n))return!1;var e=Uf(n);return e==cU||e==uU||e==lU||e==dU}var gS=bl["__core-js_shared__"],G3=function(){var n=/[^.]+$/.exec(gS&&gS.keys&&gS.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function hU(n){return!!G3&&G3 in n}var fU=Function.prototype,pU=fU.toString;function $f(n){if(n!=null){try{return pU.call(n)}catch{}try{return n+""}catch{}}return""}var gU=/[\\^$.*+?()[\]{}|]/g,mU=/^\[object .+?Constructor\]$/,vU=Function.prototype,yU=Object.prototype,wU=vU.toString,bU=yU.hasOwnProperty,xU=RegExp("^"+wU.call(bU).replace(gU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SU(n){if(!ky(n)||hU(n))return!1;var e=g6(n)?xU:mU;return e.test($f(n))}function AU(n,e){return n==null?void 0:n[e]}function qf(n,e){var t=AU(n,e);return SU(t)?t:void 0}var P1=qf(bl,"Map"),L1=qf(Object,"create");function _U(){this.__data__=L1?L1(null):{},this.size=0}function kU(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var CU="__lodash_hash_undefined__",EU=Object.prototype,NU=EU.hasOwnProperty;function jU(n){var e=this.__data__;if(L1){var t=e[n];return t===CU?void 0:t}return NU.call(e,n)?e[n]:void 0}var PU=Object.prototype,LU=PU.hasOwnProperty;function TU(n){var e=this.__data__;return L1?e[n]!==void 0:LU.call(e,n)}var RU="__lodash_hash_undefined__";function IU(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=L1&&e===void 0?RU:e,this}function Nf(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Nf.prototype.clear=_U;Nf.prototype.delete=kU;Nf.prototype.get=jU;Nf.prototype.has=TU;Nf.prototype.set=IU;function FU(){this.size=0,this.__data__={hash:new Nf,map:new(P1||Mc),string:new Nf}}function MU(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Rx(n,e){var t=n.__data__;return MU(e)?t[typeof e=="string"?"string":"hash"]:t.map}function OU(n){var e=Rx(this,n).delete(n);return this.size-=e?1:0,e}function DU(n){return Rx(this,n).get(n)}function BU(n){return Rx(this,n).has(n)}function zU(n,e){var t=Rx(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Pd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Pd.prototype.clear=FU;Pd.prototype.delete=OU;Pd.prototype.get=DU;Pd.prototype.has=BU;Pd.prototype.set=zU;var UU=200;function HU(n,e){var t=this.__data__;if(t instanceof Mc){var r=t.__data__;if(!P1||r.length<UU-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Pd(r)}return t.set(n,e),this.size=t.size,this}function bm(n){var e=this.__data__=new Mc(n);this.size=e.size}bm.prototype.clear=iU;bm.prototype.delete=sU;bm.prototype.get=aU;bm.prototype.has=oU;bm.prototype.set=HU;function $U(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var K3=function(){try{var n=qf(Object,"defineProperty");return n({},"",{}),n}catch{}}();function m6(n,e,t){e=="__proto__"&&K3?K3(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var qU=Object.prototype,WU=qU.hasOwnProperty;function v6(n,e,t){var r=n[e];(!(WU.call(n,e)&&p6(r,t))||t===void 0&&!(e in n))&&m6(n,e,t)}function Ix(n,e,t,r){var i=!t;t||(t={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=void 0;l===void 0&&(l=n[o]),i?m6(t,o,l):v6(t,o,l)}return t}function VU(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var GU="[object Arguments]";function Y3(n){return Hf(n)&&Uf(n)==GU}var y6=Object.prototype,KU=y6.hasOwnProperty,YU=y6.propertyIsEnumerable,XU=Y3(function(){return arguments}())?Y3:function(n){return Hf(n)&&KU.call(n,"callee")&&!YU.call(n,"callee")},Cy=Array.isArray;function JU(){return!1}var w6=typeof exports=="object"&&exports&&!exports.nodeType&&exports,X3=w6&&typeof module=="object"&&module&&!module.nodeType&&module,QU=X3&&X3.exports===w6,J3=QU?bl.Buffer:void 0,ZU=J3?J3.isBuffer:void 0,b6=ZU||JU,eH=9007199254740991,tH=/^(?:0|[1-9]\d*)$/;function nH(n,e){var t=typeof n;return e=e??eH,!!e&&(t=="number"||t!="symbol"&&tH.test(n))&&n>-1&&n%1==0&&n<e}var rH=9007199254740991;function x6(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=rH}var iH="[object Arguments]",sH="[object Array]",aH="[object Boolean]",oH="[object Date]",lH="[object Error]",cH="[object Function]",uH="[object Map]",dH="[object Number]",hH="[object Object]",fH="[object RegExp]",pH="[object Set]",gH="[object String]",mH="[object WeakMap]",vH="[object ArrayBuffer]",yH="[object DataView]",wH="[object Float32Array]",bH="[object Float64Array]",xH="[object Int8Array]",SH="[object Int16Array]",AH="[object Int32Array]",_H="[object Uint8Array]",kH="[object Uint8ClampedArray]",CH="[object Uint16Array]",EH="[object Uint32Array]",Wn={};Wn[wH]=Wn[bH]=Wn[xH]=Wn[SH]=Wn[AH]=Wn[_H]=Wn[kH]=Wn[CH]=Wn[EH]=!0;Wn[iH]=Wn[sH]=Wn[vH]=Wn[aH]=Wn[yH]=Wn[oH]=Wn[lH]=Wn[cH]=Wn[uH]=Wn[dH]=Wn[hH]=Wn[fH]=Wn[pH]=Wn[gH]=Wn[mH]=!1;function NH(n){return Hf(n)&&x6(n.length)&&!!Wn[Uf(n)]}function ZC(n){return function(e){return n(e)}}var S6=typeof exports=="object"&&exports&&!exports.nodeType&&exports,G0=S6&&typeof module=="object"&&module&&!module.nodeType&&module,jH=G0&&G0.exports===S6,mS=jH&&u6.process,dm=function(){try{var n=G0&&G0.require&&G0.require("util").types;return n||mS&&mS.binding&&mS.binding("util")}catch{}}(),Q3=dm&&dm.isTypedArray,PH=Q3?ZC(Q3):NH,LH=Object.prototype,TH=LH.hasOwnProperty;function A6(n,e){var t=Cy(n),r=!t&&XU(n),i=!t&&!r&&b6(n),s=!t&&!r&&!i&&PH(n),a=t||r||i||s,o=a?VU(n.length,String):[],l=o.length;for(var u in n)(e||TH.call(n,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||nH(u,l)))&&o.push(u);return o}var RH=Object.prototype;function eE(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||RH;return n===t}var IH=h6(Object.keys,Object),FH=Object.prototype,MH=FH.hasOwnProperty;function OH(n){if(!eE(n))return IH(n);var e=[];for(var t in Object(n))MH.call(n,t)&&t!="constructor"&&e.push(t);return e}function _6(n){return n!=null&&x6(n.length)&&!g6(n)}function tE(n){return _6(n)?A6(n):OH(n)}function DH(n,e){return n&&Ix(e,tE(e),n)}function BH(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var zH=Object.prototype,UH=zH.hasOwnProperty;function HH(n){if(!ky(n))return BH(n);var e=eE(n),t=[];for(var r in n)r=="constructor"&&(e||!UH.call(n,r))||t.push(r);return t}function nE(n){return _6(n)?A6(n,!0):HH(n)}function $H(n,e){return n&&Ix(e,nE(e),n)}var k6=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Z3=k6&&typeof module=="object"&&module&&!module.nodeType&&module,qH=Z3&&Z3.exports===k6,ej=qH?bl.Buffer:void 0,tj=ej?ej.allocUnsafe:void 0;function WH(n,e){if(e)return n.slice();var t=n.length,r=tj?tj(t):new n.constructor(t);return n.copy(r),r}function C6(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}function VH(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var a=n[t];e(a,t,n)&&(s[i++]=a)}return s}function E6(){return[]}var GH=Object.prototype,KH=GH.propertyIsEnumerable,nj=Object.getOwnPropertySymbols,rE=nj?function(n){return n==null?[]:(n=Object(n),VH(nj(n),function(e){return KH.call(n,e)}))}:E6;function YH(n,e){return Ix(n,rE(n),e)}function N6(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var XH=Object.getOwnPropertySymbols,j6=XH?function(n){for(var e=[];n;)N6(e,rE(n)),n=QC(n);return e}:E6;function JH(n,e){return Ix(n,j6(n),e)}function P6(n,e,t){var r=e(n);return Cy(n)?r:N6(r,t(n))}function QH(n){return P6(n,tE,rE)}function ZH(n){return P6(n,nE,j6)}var ZA=qf(bl,"DataView"),e_=qf(bl,"Promise"),t_=qf(bl,"Set"),n_=qf(bl,"WeakMap"),rj="[object Map]",e$="[object Object]",ij="[object Promise]",sj="[object Set]",aj="[object WeakMap]",oj="[object DataView]",t$=$f(ZA),n$=$f(P1),r$=$f(e_),i$=$f(t_),s$=$f(n_),Wl=Uf;(ZA&&Wl(new ZA(new ArrayBuffer(1)))!=oj||P1&&Wl(new P1)!=rj||e_&&Wl(e_.resolve())!=ij||t_&&Wl(new t_)!=sj||n_&&Wl(new n_)!=aj)&&(Wl=function(n){var e=Uf(n),t=e==e$?n.constructor:void 0,r=t?$f(t):"";if(r)switch(r){case t$:return oj;case n$:return rj;case r$:return ij;case i$:return sj;case s$:return aj}return e});var a$=Object.prototype,o$=a$.hasOwnProperty;function l$(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&o$.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var lj=bl.Uint8Array;function iE(n){var e=new n.constructor(n.byteLength);return new lj(e).set(new lj(n)),e}function c$(n,e){var t=e?iE(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var u$=/\w*$/;function d$(n){var e=new n.constructor(n.source,u$.exec(n));return e.lastIndex=n.lastIndex,e}var cj=wd?wd.prototype:void 0,uj=cj?cj.valueOf:void 0;function h$(n){return uj?Object(uj.call(n)):{}}function f$(n,e){var t=e?iE(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var p$="[object Boolean]",g$="[object Date]",m$="[object Map]",v$="[object Number]",y$="[object RegExp]",w$="[object Set]",b$="[object String]",x$="[object Symbol]",S$="[object ArrayBuffer]",A$="[object DataView]",_$="[object Float32Array]",k$="[object Float64Array]",C$="[object Int8Array]",E$="[object Int16Array]",N$="[object Int32Array]",j$="[object Uint8Array]",P$="[object Uint8ClampedArray]",L$="[object Uint16Array]",T$="[object Uint32Array]";function R$(n,e,t){var r=n.constructor;switch(e){case S$:return iE(n);case p$:case g$:return new r(+n);case A$:return c$(n,t);case _$:case k$:case C$:case E$:case N$:case j$:case P$:case L$:case T$:return f$(n,t);case m$:return new r;case v$:case b$:return new r(n);case y$:return d$(n);case w$:return new r;case x$:return h$(n)}}var dj=Object.create,I$=function(){function n(){}return function(e){if(!ky(e))return{};if(dj)return dj(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function F$(n){return typeof n.constructor=="function"&&!eE(n)?I$(QC(n)):{}}var M$="[object Map]";function O$(n){return Hf(n)&&Wl(n)==M$}var hj=dm&&dm.isMap,D$=hj?ZC(hj):O$,B$="[object Set]";function z$(n){return Hf(n)&&Wl(n)==B$}var fj=dm&&dm.isSet,U$=fj?ZC(fj):z$,H$=1,$$=2,q$=4,L6="[object Arguments]",W$="[object Array]",V$="[object Boolean]",G$="[object Date]",K$="[object Error]",T6="[object Function]",Y$="[object GeneratorFunction]",X$="[object Map]",J$="[object Number]",R6="[object Object]",Q$="[object RegExp]",Z$="[object Set]",eq="[object String]",tq="[object Symbol]",nq="[object WeakMap]",rq="[object ArrayBuffer]",iq="[object DataView]",sq="[object Float32Array]",aq="[object Float64Array]",oq="[object Int8Array]",lq="[object Int16Array]",cq="[object Int32Array]",uq="[object Uint8Array]",dq="[object Uint8ClampedArray]",hq="[object Uint16Array]",fq="[object Uint32Array]",Bn={};Bn[L6]=Bn[W$]=Bn[rq]=Bn[iq]=Bn[V$]=Bn[G$]=Bn[sq]=Bn[aq]=Bn[oq]=Bn[lq]=Bn[cq]=Bn[X$]=Bn[J$]=Bn[R6]=Bn[Q$]=Bn[Z$]=Bn[eq]=Bn[tq]=Bn[uq]=Bn[dq]=Bn[hq]=Bn[fq]=!0;Bn[K$]=Bn[T6]=Bn[nq]=!1;function K0(n,e,t,r,i,s){var a,o=e&H$,l=e&$$,u=e&q$;if(a!==void 0)return a;if(!ky(n))return n;var d=Cy(n);if(d){if(a=l$(n),!o)return C6(n,a)}else{var f=Wl(n),h=f==T6||f==Y$;if(b6(n))return WH(n,o);if(f==R6||f==L6||h&&!i){if(a=l||h?{}:F$(n),!o)return l?JH(n,$H(a,n)):YH(n,DH(a,n))}else{if(!Bn[f])return i?n:{};a=R$(n,f,o)}}s||(s=new bm);var p=s.get(n);if(p)return p;s.set(n,a),U$(n)?n.forEach(function(_){a.add(K0(_,e,t,_,n,s))}):D$(n)&&n.forEach(function(_,w){a.set(w,K0(_,e,t,w,n,s))});var y=u?l?ZH:QH:l?nE:tE,x=d?void 0:y(n);return $U(x||n,function(_,w){x&&(w=_,_=n[w]),v6(a,w,K0(_,e,t,w,n,s))}),a}var pq=1,gq=4;function w0(n){return K0(n,pq|gq)}var pj=Array.isArray,gj=Object.keys,mq=Object.prototype.hasOwnProperty,vq=typeof Element<"u";function r_(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var t=pj(n),r=pj(e),i,s,a;if(t&&r){if(s=n.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!r_(n[i],e[i]))return!1;return!0}if(t!=r)return!1;var o=n instanceof Date,l=e instanceof Date;if(o!=l)return!1;if(o&&l)return n.getTime()==e.getTime();var u=n instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return n.toString()==e.toString();var f=gj(n);if(s=f.length,s!==gj(e).length)return!1;for(i=s;i--!==0;)if(!mq.call(e,f[i]))return!1;if(vq&&n instanceof Element&&e instanceof Element)return n===e;for(i=s;i--!==0;)if(a=f[i],!(a==="_owner"&&n.$$typeof)&&!r_(n[a],e[a]))return!1;return!0}return n!==n&&e!==e}var yq=function(e,t){try{return r_(e,t)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const ku=fm(yq);var wq=4;function mj(n){return K0(n,wq)}function I6(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var bq="[object Symbol]";function sE(n){return typeof n=="symbol"||Hf(n)&&Uf(n)==bq}var xq="Expected a function";function aE(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(xq);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var a=n.apply(this,r);return t.cache=s.set(i,a)||s,a};return t.cache=new(aE.Cache||Pd),t}aE.Cache=Pd;var Sq=500;function Aq(n){var e=aE(n,function(r){return t.size===Sq&&t.clear(),r}),t=e.cache;return e}var _q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kq=/\\(\\)?/g,Cq=Aq(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(_q,function(t,r,i,s){e.push(i?s.replace(kq,"$1"):r||t)}),e}),Eq=1/0;function Nq(n){if(typeof n=="string"||sE(n))return n;var e=n+"";return e=="0"&&1/n==-Eq?"-0":e}var jq=1/0,vj=wd?wd.prototype:void 0,yj=vj?vj.toString:void 0;function F6(n){if(typeof n=="string")return n;if(Cy(n))return I6(n,F6)+"";if(sE(n))return yj?yj.call(n):"";var e=n+"";return e=="0"&&1/n==-jq?"-0":e}function Pq(n){return n==null?"":F6(n)}function M6(n){return Cy(n)?I6(n,Nq):sE(n)?[n]:C6(Cq(Pq(n)))}var O6={exports:{}},Sn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ti=typeof Symbol=="function"&&Symbol.for,oE=ti?Symbol.for("react.element"):60103,lE=ti?Symbol.for("react.portal"):60106,Fx=ti?Symbol.for("react.fragment"):60107,Mx=ti?Symbol.for("react.strict_mode"):60108,Ox=ti?Symbol.for("react.profiler"):60114,Dx=ti?Symbol.for("react.provider"):60109,Bx=ti?Symbol.for("react.context"):60110,cE=ti?Symbol.for("react.async_mode"):60111,zx=ti?Symbol.for("react.concurrent_mode"):60111,Ux=ti?Symbol.for("react.forward_ref"):60112,Hx=ti?Symbol.for("react.suspense"):60113,Lq=ti?Symbol.for("react.suspense_list"):60120,$x=ti?Symbol.for("react.memo"):60115,qx=ti?Symbol.for("react.lazy"):60116,Tq=ti?Symbol.for("react.block"):60121,Rq=ti?Symbol.for("react.fundamental"):60117,Iq=ti?Symbol.for("react.responder"):60118,Fq=ti?Symbol.for("react.scope"):60119;function da(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case oE:switch(n=n.type,n){case cE:case zx:case Fx:case Ox:case Mx:case Hx:return n;default:switch(n=n&&n.$$typeof,n){case Bx:case Ux:case qx:case $x:case Dx:return n;default:return e}}case lE:return e}}}function D6(n){return da(n)===zx}Sn.AsyncMode=cE;Sn.ConcurrentMode=zx;Sn.ContextConsumer=Bx;Sn.ContextProvider=Dx;Sn.Element=oE;Sn.ForwardRef=Ux;Sn.Fragment=Fx;Sn.Lazy=qx;Sn.Memo=$x;Sn.Portal=lE;Sn.Profiler=Ox;Sn.StrictMode=Mx;Sn.Suspense=Hx;Sn.isAsyncMode=function(n){return D6(n)||da(n)===cE};Sn.isConcurrentMode=D6;Sn.isContextConsumer=function(n){return da(n)===Bx};Sn.isContextProvider=function(n){return da(n)===Dx};Sn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===oE};Sn.isForwardRef=function(n){return da(n)===Ux};Sn.isFragment=function(n){return da(n)===Fx};Sn.isLazy=function(n){return da(n)===qx};Sn.isMemo=function(n){return da(n)===$x};Sn.isPortal=function(n){return da(n)===lE};Sn.isProfiler=function(n){return da(n)===Ox};Sn.isStrictMode=function(n){return da(n)===Mx};Sn.isSuspense=function(n){return da(n)===Hx};Sn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Fx||n===zx||n===Ox||n===Mx||n===Hx||n===Lq||typeof n=="object"&&n!==null&&(n.$$typeof===qx||n.$$typeof===$x||n.$$typeof===Dx||n.$$typeof===Bx||n.$$typeof===Ux||n.$$typeof===Rq||n.$$typeof===Iq||n.$$typeof===Fq||n.$$typeof===Tq)};Sn.typeOf=da;O6.exports=Sn;var Mq=O6.exports,uE=Mq,Oq={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Dq={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Bq={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},B6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dE={};dE[uE.ForwardRef]=Bq;dE[uE.Memo]=B6;function wj(n){return uE.isMemo(n)?B6:dE[n.$$typeof]||Oq}var zq=Object.defineProperty,Uq=Object.getOwnPropertyNames,bj=Object.getOwnPropertySymbols,Hq=Object.getOwnPropertyDescriptor,$q=Object.getPrototypeOf,xj=Object.prototype;function z6(n,e,t){if(typeof e!="string"){if(xj){var r=$q(e);r&&r!==xj&&z6(n,r,t)}var i=Uq(e);bj&&(i=i.concat(bj(e)));for(var s=wj(n),a=wj(e),o=0;o<i.length;++o){var l=i[o];if(!Dq[l]&&!(t&&t[l])&&!(a&&a[l])&&!(s&&s[l])){var u=Hq(e,l);try{zq(n,l,u)}catch{}}}}return n}var qq=z6;const Wq=fm(qq);function yn(){return yn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yn.apply(this,arguments)}function U6(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function nd(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Sj(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Wx=ie.createContext(void 0);Wx.displayName="FormikContext";var Vq=Wx.Provider,Gq=Wx.Consumer;function H6(){var n=ie.useContext(Wx);return n}var Aj=function(e){return Array.isArray(e)&&e.length===0},gi=function(e){return typeof e=="function"},Ey=function(e){return e!==null&&typeof e=="object"},Kq=function(e){return String(Math.floor(Number(e)))===e},vS=function(e){return Object.prototype.toString.call(e)==="[object String]"},$6=function(e){return ie.Children.count(e)===0},yS=function(e){return Ey(e)&&gi(e.then)};function Yn(n,e,t,r){r===void 0&&(r=0);for(var i=M6(e);n&&r<i.length;)n=n[i[r++]];return r!==i.length&&!n||n===void 0?t:n}function fl(n,e,t){for(var r=mj(n),i=r,s=0,a=M6(e);s<a.length-1;s++){var o=a[s],l=Yn(n,a.slice(0,s+1));if(l&&(Ey(l)||Array.isArray(l)))i=i[o]=mj(l);else{var u=a[s+1];i=i[o]=Kq(u)&&Number(u)>=0?[]:{}}}return(s===0?n:i)[a[s]]===t?n:(t===void 0?delete i[a[s]]:i[a[s]]=t,s===0&&t===void 0&&delete r[a[s]],r)}function q6(n,e,t,r){t===void 0&&(t=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(n);i<s.length;i++){var a=s[i],o=n[a];Ey(o)?t.get(o)||(t.set(o,!0),r[a]=Array.isArray(o)?[]:{},q6(o,e,t,r[a])):r[a]=e}return r}function Yq(n,e){switch(e.type){case"SET_VALUES":return yn({},n,{values:e.payload});case"SET_TOUCHED":return yn({},n,{touched:e.payload});case"SET_ERRORS":return ku(n.errors,e.payload)?n:yn({},n,{errors:e.payload});case"SET_STATUS":return yn({},n,{status:e.payload});case"SET_ISSUBMITTING":return yn({},n,{isSubmitting:e.payload});case"SET_ISVALIDATING":return yn({},n,{isValidating:e.payload});case"SET_FIELD_VALUE":return yn({},n,{values:fl(n.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return yn({},n,{touched:fl(n.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return yn({},n,{errors:fl(n.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return yn({},n,e.payload);case"SET_FORMIK_STATE":return e.payload(n);case"SUBMIT_ATTEMPT":return yn({},n,{touched:q6(n.values,!0),isSubmitting:!0,submitCount:n.submitCount+1});case"SUBMIT_FAILURE":return yn({},n,{isSubmitting:!1});case"SUBMIT_SUCCESS":return yn({},n,{isSubmitting:!1});default:return n}}var Jd={},Sw={};function Xq(n){var e=n.validateOnChange,t=e===void 0?!0:e,r=n.validateOnBlur,i=r===void 0?!0:r,s=n.validateOnMount,a=s===void 0?!1:s,o=n.isInitialValid,l=n.enableReinitialize,u=l===void 0?!1:l,d=n.onSubmit,f=nd(n,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=yn({validateOnChange:t,validateOnBlur:i,validateOnMount:a,onSubmit:d},f),p=ie.useRef(h.initialValues),y=ie.useRef(h.initialErrors||Jd),x=ie.useRef(h.initialTouched||Sw),_=ie.useRef(h.initialStatus),w=ie.useRef(!1),A=ie.useRef({});ie.useEffect(function(){return w.current=!0,function(){w.current=!1}},[]);var S=ie.useState(0),v=S[1],C=ie.useRef({values:w0(h.initialValues),errors:w0(h.initialErrors)||Jd,touched:w0(h.initialTouched)||Sw,status:w0(h.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),j=C.current,T=ie.useCallback(function(fe){var Te=C.current;C.current=Yq(Te,fe),Te!==C.current&&v(function(Oe){return Oe+1})},[]),P=ie.useCallback(function(fe,Te){return new Promise(function(Oe,He){var Ye=h.validate(fe,Te);Ye==null?Oe(Jd):yS(Ye)?Ye.then(function(tt){Oe(tt||Jd)},function(tt){He(tt)}):Oe(Ye)})},[h.validate]),z=ie.useCallback(function(fe,Te){var Oe=h.validationSchema,He=gi(Oe)?Oe(Te):Oe,Ye=Te&&He.validateAt?He.validateAt(Te,fe):Qq(fe,He);return new Promise(function(tt,pt){Ye.then(function(){tt(Jd)},function(nt){nt.name==="ValidationError"?tt(Jq(nt)):pt(nt)})})},[h.validationSchema]),q=ie.useCallback(function(fe,Te){return new Promise(function(Oe){return Oe(A.current[fe].validate(Te))})},[]),R=ie.useCallback(function(fe){var Te=Object.keys(A.current).filter(function(He){return gi(A.current[He].validate)}),Oe=Te.length>0?Te.map(function(He){return q(He,Yn(fe,He))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Oe).then(function(He){return He.reduce(function(Ye,tt,pt){return tt==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||tt&&(Ye=fl(Ye,Te[pt],tt)),Ye},{})})},[q]),F=ie.useCallback(function(fe){return Promise.all([R(fe),h.validationSchema?z(fe):{},h.validate?P(fe):{}]).then(function(Te){var Oe=Te[0],He=Te[1],Ye=Te[2],tt=QA.all([Oe,He,Ye],{arrayMerge:Zq});return tt})},[h.validate,h.validationSchema,R,P,z]),$=wa(function(fe){return fe===void 0&&(fe=j.values),T({type:"SET_ISVALIDATING",payload:!0}),F(fe).then(function(Te){return w.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:Te})),Te})});ie.useEffect(function(){a&&w.current===!0&&ku(p.current,h.initialValues)&&$(p.current)},[a,$]);var W=ie.useCallback(function(fe){var Te=fe&&fe.values?fe.values:p.current,Oe=fe&&fe.errors?fe.errors:y.current?y.current:h.initialErrors||{},He=fe&&fe.touched?fe.touched:x.current?x.current:h.initialTouched||{},Ye=fe&&fe.status?fe.status:_.current?_.current:h.initialStatus;p.current=Te,y.current=Oe,x.current=He,_.current=Ye;var tt=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!fe&&!!fe.isSubmitting,errors:Oe,touched:He,status:Ye,values:Te,isValidating:!!fe&&!!fe.isValidating,submitCount:fe&&fe.submitCount&&typeof fe.submitCount=="number"?fe.submitCount:0}})};if(h.onReset){var pt=h.onReset(j.values,Ue);yS(pt)?pt.then(tt):tt()}else tt()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);ie.useEffect(function(){w.current===!0&&!ku(p.current,h.initialValues)&&u&&(p.current=h.initialValues,W(),a&&$(p.current))},[u,h.initialValues,W,a,$]),ie.useEffect(function(){u&&w.current===!0&&!ku(y.current,h.initialErrors)&&(y.current=h.initialErrors||Jd,T({type:"SET_ERRORS",payload:h.initialErrors||Jd}))},[u,h.initialErrors]),ie.useEffect(function(){u&&w.current===!0&&!ku(x.current,h.initialTouched)&&(x.current=h.initialTouched||Sw,T({type:"SET_TOUCHED",payload:h.initialTouched||Sw}))},[u,h.initialTouched]),ie.useEffect(function(){u&&w.current===!0&&!ku(_.current,h.initialStatus)&&(_.current=h.initialStatus,T({type:"SET_STATUS",payload:h.initialStatus}))},[u,h.initialStatus,h.initialTouched]);var he=wa(function(fe){if(A.current[fe]&&gi(A.current[fe].validate)){var Te=Yn(j.values,fe),Oe=A.current[fe].validate(Te);return yS(Oe)?(T({type:"SET_ISVALIDATING",payload:!0}),Oe.then(function(He){return He}).then(function(He){T({type:"SET_FIELD_ERROR",payload:{field:fe,value:He}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:fe,value:Oe}}),Promise.resolve(Oe))}else if(h.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),z(j.values,fe).then(function(He){return He}).then(function(He){T({type:"SET_FIELD_ERROR",payload:{field:fe,value:Yn(He,fe)}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),ne=ie.useCallback(function(fe,Te){var Oe=Te.validate;A.current[fe]={validate:Oe}},[]),X=ie.useCallback(function(fe){delete A.current[fe]},[]),K=wa(function(fe,Te){T({type:"SET_TOUCHED",payload:fe});var Oe=Te===void 0?i:Te;return Oe?$(j.values):Promise.resolve()}),ee=ie.useCallback(function(fe){T({type:"SET_ERRORS",payload:fe})},[]),de=wa(function(fe,Te){var Oe=gi(fe)?fe(j.values):fe;T({type:"SET_VALUES",payload:Oe});var He=Te===void 0?t:Te;return He?$(Oe):Promise.resolve()}),xe=ie.useCallback(function(fe,Te){T({type:"SET_FIELD_ERROR",payload:{field:fe,value:Te}})},[]),M=wa(function(fe,Te,Oe){T({type:"SET_FIELD_VALUE",payload:{field:fe,value:Te}});var He=Oe===void 0?t:Oe;return He?$(fl(j.values,fe,Te)):Promise.resolve()}),J=ie.useCallback(function(fe,Te){var Oe=Te,He=fe,Ye;if(!vS(fe)){fe.persist&&fe.persist();var tt=fe.target?fe.target:fe.currentTarget,pt=tt.type,nt=tt.name,yt=tt.id,Ge=tt.value,Ar=tt.checked,Ot=tt.outerHTML,_r=tt.options,an=tt.multiple;Oe=Te||nt||yt,He=/number|range/.test(pt)?(Ye=parseFloat(Ge),isNaN(Ye)?"":Ye):/checkbox/.test(pt)?tW(Yn(j.values,Oe),Ar,Ge):_r&&an?eW(_r):Ge}Oe&&M(Oe,He)},[M,j.values]),B=wa(function(fe){if(vS(fe))return function(Te){return J(Te,fe)};J(fe)}),ae=wa(function(fe,Te,Oe){Te===void 0&&(Te=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:fe,value:Te}});var He=Oe===void 0?i:Oe;return He?$(j.values):Promise.resolve()}),le=ie.useCallback(function(fe,Te){fe.persist&&fe.persist();var Oe=fe.target,He=Oe.name,Ye=Oe.id,tt=Oe.outerHTML,pt=Te||He||Ye;ae(pt,!0)},[ae]),ge=wa(function(fe){if(vS(fe))return function(Te){return le(Te,fe)};le(fe)}),we=ie.useCallback(function(fe){gi(fe)?T({type:"SET_FORMIK_STATE",payload:fe}):T({type:"SET_FORMIK_STATE",payload:function(){return fe}})},[]),Se=ie.useCallback(function(fe){T({type:"SET_STATUS",payload:fe})},[]),Le=ie.useCallback(function(fe){T({type:"SET_ISSUBMITTING",payload:fe})},[]),De=wa(function(){return T({type:"SUBMIT_ATTEMPT"}),$().then(function(fe){var Te=fe instanceof Error,Oe=!Te&&Object.keys(fe).length===0;if(Oe){var He;try{if(He=Ze(),He===void 0)return}catch(Ye){throw Ye}return Promise.resolve(He).then(function(Ye){return w.current&&T({type:"SUBMIT_SUCCESS"}),Ye}).catch(function(Ye){if(w.current)throw T({type:"SUBMIT_FAILURE"}),Ye})}else if(w.current&&(T({type:"SUBMIT_FAILURE"}),Te))throw fe})}),Ve=wa(function(fe){fe&&fe.preventDefault&&gi(fe.preventDefault)&&fe.preventDefault(),fe&&fe.stopPropagation&&gi(fe.stopPropagation)&&fe.stopPropagation(),De().catch(function(Te){console.warn("Warning: An unhandled error was caught from submitForm()",Te)})}),Ue={resetForm:W,validateForm:$,validateField:he,setErrors:ee,setFieldError:xe,setFieldTouched:ae,setFieldValue:M,setStatus:Se,setSubmitting:Le,setTouched:K,setValues:de,setFormikState:we,submitForm:De},Ze=wa(function(){return d(j.values,Ue)}),Ce=wa(function(fe){fe&&fe.preventDefault&&gi(fe.preventDefault)&&fe.preventDefault(),fe&&fe.stopPropagation&&gi(fe.stopPropagation)&&fe.stopPropagation(),W()}),ce=ie.useCallback(function(fe){return{value:Yn(j.values,fe),error:Yn(j.errors,fe),touched:!!Yn(j.touched,fe),initialValue:Yn(p.current,fe),initialTouched:!!Yn(x.current,fe),initialError:Yn(y.current,fe)}},[j.errors,j.touched,j.values]),ft=ie.useCallback(function(fe){return{setValue:function(Oe,He){return M(fe,Oe,He)},setTouched:function(Oe,He){return ae(fe,Oe,He)},setError:function(Oe){return xe(fe,Oe)}}},[M,ae,xe]),Je=ie.useCallback(function(fe){var Te=Ey(fe),Oe=Te?fe.name:fe,He=Yn(j.values,Oe),Ye={name:Oe,value:He,onChange:B,onBlur:ge};if(Te){var tt=fe.type,pt=fe.value,nt=fe.as,yt=fe.multiple;tt==="checkbox"?pt===void 0?Ye.checked=!!He:(Ye.checked=!!(Array.isArray(He)&&~He.indexOf(pt)),Ye.value=pt):tt==="radio"?(Ye.checked=He===pt,Ye.value=pt):nt==="select"&&yt&&(Ye.value=Ye.value||[],Ye.multiple=!0)}return Ye},[ge,B,j.values]),ze=ie.useMemo(function(){return!ku(p.current,j.values)},[p.current,j.values]),qe=ie.useMemo(function(){return typeof o<"u"?ze?j.errors&&Object.keys(j.errors).length===0:o!==!1&&gi(o)?o(h):o:j.errors&&Object.keys(j.errors).length===0},[o,ze,j.errors,h]),Me=yn({},j,{initialValues:p.current,initialErrors:y.current,initialTouched:x.current,initialStatus:_.current,handleBlur:ge,handleChange:B,handleReset:Ce,handleSubmit:Ve,resetForm:W,setErrors:ee,setFormikState:we,setFieldTouched:ae,setFieldValue:M,setFieldError:xe,setStatus:Se,setSubmitting:Le,setTouched:K,setValues:de,submitForm:De,validateForm:$,validateField:he,isValid:qe,dirty:ze,unregisterField:X,registerField:ne,getFieldProps:Je,getFieldMeta:ce,getFieldHelpers:ft,validateOnBlur:i,validateOnChange:t,validateOnMount:a});return Me}function Qr(n){var e=Xq(n),t=n.component,r=n.children,i=n.render,s=n.innerRef;return ie.useImperativeHandle(s,function(){return e}),ie.createElement(Vq,{value:e},t?ie.createElement(t,e):i?i(e):r?gi(r)?r(e):$6(r)?null:ie.Children.only(r):null)}function Jq(n){var e={};if(n.inner){if(n.inner.length===0)return fl(e,n.path,n.message);for(var i=n.inner,t=Array.isArray(i),r=0,i=t?i:i[Symbol.iterator]();;){var s;if(t){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var a=s;Yn(e,a.path)||(e=fl(e,a.path,a.message))}}return e}function Qq(n,e,t,r){t===void 0&&(t=!1);var i=i_(n);return e[t?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function i_(n){var e=Array.isArray(n)?[]:{};for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var r=String(t);Array.isArray(n[r])===!0?e[r]=n[r].map(function(i){return Array.isArray(i)===!0||V3(i)?i_(i):i!==""?i:void 0}):V3(n[r])?e[r]=i_(n[r]):e[r]=n[r]!==""?n[r]:void 0}return e}function Zq(n,e,t){var r=n.slice();return e.forEach(function(s,a){if(typeof r[a]>"u"){var o=t.clone!==!1,l=o&&t.isMergeableObject(s);r[a]=l?QA(Array.isArray(s)?[]:{},s,t):s}else t.isMergeableObject(s)?r[a]=QA(n[a],s,t):n.indexOf(s)===-1&&r.push(s)}),r}function eW(n){return Array.from(n).filter(function(e){return e.selected}).map(function(e){return e.value})}function tW(n,e,t){if(typeof n=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(n))r=n,s=n.indexOf(t),i=s>=0;else if(!t||t=="true"||t=="false")return!!e;return e&&t&&!i?r.concat(t):i?r.slice(0,s).concat(r.slice(s+1)):r}var nW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ie.useLayoutEffect:ie.useEffect;function wa(n){var e=ie.useRef(n);return nW(function(){e.current=n}),ie.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function ot(n){var e=n.validate,t=n.name,r=n.render,i=n.children,s=n.as,a=n.component,o=n.className,l=nd(n,["validate","name","render","children","as","component","className"]),u=H6(),d=nd(u,["validate","validationSchema"]),f=d.registerField,h=d.unregisterField;ie.useEffect(function(){return f(t,{validate:e}),function(){h(t)}},[f,h,t,e]);var p=d.getFieldProps(yn({name:t},l)),y=d.getFieldMeta(t),x={field:p,form:d};if(r)return r(yn({},x,{meta:y}));if(gi(i))return i(yn({},x,{meta:y}));if(a){if(typeof a=="string"){var _=l.innerRef,w=nd(l,["innerRef"]);return ie.createElement(a,yn({ref:_},p,w,{className:o}),i)}return ie.createElement(a,yn({field:p,form:d},l,{className:o}),i)}var A=s||"input";if(typeof A=="string"){var S=l.innerRef,v=nd(l,["innerRef"]);return ie.createElement(A,yn({ref:S},p,v,{className:o}),i)}return ie.createElement(A,yn({},p,l,{className:o}),i)}var $r=ie.forwardRef(function(n,e){var t=n.action,r=nd(n,["action"]),i=t??"#",s=H6(),a=s.handleReset,o=s.handleSubmit;return ie.createElement("form",yn({onSubmit:o,ref:e,onReset:a,action:i},r))});$r.displayName="Form";function rW(n){var e=function(i){return ie.createElement(Gq,null,function(s){return ie.createElement(n,yn({},i,{formik:s}))})},t=n.displayName||n.name||n.constructor&&n.constructor.name||"Component";return e.WrappedComponent=n,e.displayName="FormikConnect("+t+")",Wq(e,n)}var iW=function(e,t,r){var i=jf(e),s=i[t];return i.splice(t,1),i.splice(r,0,s),i},sW=function(e,t,r){var i=jf(e),s=i[t];return i[t]=i[r],i[r]=s,i},wS=function(e,t,r){var i=jf(e);return i.splice(t,0,r),i},aW=function(e,t,r){var i=jf(e);return i[t]=r,i},jf=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(yn({},e,{length:t+1}))}else return[]},_j=function(e,t){var r=typeof e=="function"?e:t;return function(i){if(Array.isArray(i)||Ey(i)){var s=jf(i);return r(s)}return i}},oW=function(n){U6(e,n);function e(r){var i;return i=n.call(this,r)||this,i.updateArrayField=function(s,a,o){var l=i.props,u=l.name,d=l.formik.setFormikState;d(function(f){var h=_j(o,s),p=_j(a,s),y=fl(f.values,u,s(Yn(f.values,u))),x=o?h(Yn(f.errors,u)):void 0,_=a?p(Yn(f.touched,u)):void 0;return Aj(x)&&(x=void 0),Aj(_)&&(_=void 0),yn({},f,{values:y,errors:o?fl(f.errors,u,x):f.errors,touched:a?fl(f.touched,u,_):f.touched})})},i.push=function(s){return i.updateArrayField(function(a){return[].concat(jf(a),[w0(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,a){return i.updateArrayField(function(o){return sW(o,s,a)},!0,!0)},i.handleSwap=function(s,a){return function(){return i.swap(s,a)}},i.move=function(s,a){return i.updateArrayField(function(o){return iW(o,s,a)},!0,!0)},i.handleMove=function(s,a){return function(){return i.move(s,a)}},i.insert=function(s,a){return i.updateArrayField(function(o){return wS(o,s,a)},function(o){return wS(o,s,null)},function(o){return wS(o,s,null)})},i.handleInsert=function(s,a){return function(){return i.insert(s,a)}},i.replace=function(s,a){return i.updateArrayField(function(o){return aW(o,s,a)},!1,!1)},i.handleReplace=function(s,a){return function(){return i.replace(s,a)}},i.unshift=function(s){var a=-1;return i.updateArrayField(function(o){var l=o?[s].concat(o):[s];return a=l.length,l},function(o){return o?[null].concat(o):[null]},function(o){return o?[null].concat(o):[null]}),a},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(Sj(i)),i.pop=i.pop.bind(Sj(i)),i}var t=e.prototype;return t.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!ku(Yn(i.formik.values,i.name),Yn(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},t.remove=function(i){var s;return this.updateArrayField(function(a){var o=a?jf(a):[];return s||(s=o[i]),gi(o.splice)&&o.splice(i,1),gi(o.every)&&o.every(function(l){return l===void 0})?[]:o},!0,!0),s},t.pop=function(){var i;return this.updateArrayField(function(s){var a=s.slice();return i||(i=a&&a.pop&&a.pop()),a},!0,!0),i},t.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,a=s.component,o=s.render,l=s.children,u=s.name,d=s.formik,f=nd(d,["validate","validationSchema"]),h=yn({},i,{form:f,name:u});return a?ie.createElement(a,h):o?o(h):l?typeof l=="function"?l(h):$6(l)?null:ie.Children.only(l):null},e}(ie.Component);oW.defaultProps={validateOnChange:!0};var lW=function(n){U6(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.shouldComponentUpdate=function(i){return Yn(this.props.formik.errors,this.props.name)!==Yn(i.formik.errors,this.props.name)||Yn(this.props.formik.touched,this.props.name)!==Yn(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},t.render=function(){var i=this.props,s=i.component,a=i.formik,o=i.render,l=i.children,u=i.name,d=nd(i,["component","formik","render","children","name"]),f=Yn(a.touched,u),h=Yn(a.errors,u);return f&&h?o?gi(o)?o(h):null:l?gi(l)?l(h):null:s?ie.createElement(s,d,h):h:null},e}(ie.Component),Qt=rW(lW);const cW=()=>{const n=["Sekolah 1","Sekolah 2","Sekolah 3"],e=sn(),{dongeng:t}=Yt(i=>i.dongeng);Yt(i=>i.forumQuiz),ie.useEffect(()=>{e(ia())},[]);async function r(i){var s=await e(Jw(i));if(s.error&&s.error.message==="401")return console.log("getting new access token"),await e(Tt()),r(i);document.getElementById("showModalForumQuiz").click(),fn.fire("Success","Forum Quiz has been added","success"),await e(W0())}return c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Menambahkan Forum Quiz"})}),c.jsx("div",{className:"modal-body",children:c.jsx(Qr,{enableReinitialize:!0,initialValues:{judul:"",idDongeng:"",sekolah:"",access_date:"",expired_date:""},validationSchema:W6,onSubmit:i=>{r(i)},children:({errors:i,touched:s,values:a})=>c.jsxs($r,{className:"row",children:[c.jsxs("div",{className:"col",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"judul",className:"form-label",children:"Judul"}),c.jsx(ot,{type:"text",className:"form-control",id:"judul",name:"judul"}),i.judul&&s.judul?c.jsx("div",{className:"text-danger",children:i.judul}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"idDongeng",className:"form-label",children:"Topik"}),c.jsxs(ot,{as:"select",className:"form-select",id:"idDongeng",name:"idDongeng",children:[c.jsx("option",{value:"",disabled:!0,children:"Pilih topik"}),t.map((o,l)=>c.jsx("option",{value:o.id,children:o.title},l))]}),i.idDongeng&&s.idDongeng?c.jsx("div",{className:"text-danger",children:i.idDongeng}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"sekolah",className:"form-label",children:"Sekolah"}),c.jsxs(ot,{as:"select",className:"form-select",id:"sekolah",name:"sekolah",children:[c.jsx("option",{value:"",disabled:!0,children:"Pilih Sekolah"}),n.map((o,l)=>c.jsx("option",{value:o,children:o},l))]}),i.sekolah&&s.sekolah?c.jsx("div",{className:"text-danger",children:i.sekolah}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"access_date",className:"form-label",children:"Access Date"}),c.jsx(ot,{type:"date",className:"form-control",id:"access_date",name:"access_date"}),i.access_date&&s.access_date?c.jsx("div",{className:"text-danger",children:i.access_date}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"expired_date",className:"form-label",children:"Expired Date"}),c.jsx(ot,{type:"date",className:"form-control",id:"expired_date",name:"expired_date"}),i.expired_date&&s.expired_date?c.jsx("div",{className:"text-danger",children:i.expired_date}):null]})]}),c.jsx("button",{type:"submit",id:"submitAddForumQuiz",className:"d-none"})]})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{document.getElementById("submitAddForumQuiz").click()},children:"Submit"})]})]})})},W6=ei().shape({judul:xt().required("Judul is required"),idDongeng:xt().required("Dongeng is required"),sekolah:xt().required("Sekolah is required"),expired_date:kb().required("Expired date is required"),access_date:kb().required("Access date is required")});function uW({children:n}){return c.jsxs("div",{children:[c.jsx("button",{type:"button",className:"btn btn-primary d-none","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",id:"showModalForumQuiz",children:"Launch static backdrop modal"}),c.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:n})]})}const dW=()=>c.jsx(uW,{children:c.jsx(cW,{})}),hW=()=>{const[n,e]=ie.useState(),[t,r]=ie.useState(1),[i]=ie.useState(10),s=_=>r(_),a=["No","Judul","Topik","Sekolah","Access Date","Expired Date","Token"],o=sn(),l=Zr();let{forumQuiz:u,isLoading:d}=Yt(_=>_.forumQuiz);async function f(){var _=await o(W0()),w=await o(ia());if((_.error||w.error)&&(_.error.message==="401"||w.error.message==="401"))return console.log("getting new access token"),await o(Tt()),f()}ie.useEffect(()=>{f()},[]);let h=u==null?void 0:u.filter(_=>n?_.judul.toLowerCase().includes(n.toLowerCase())||_.dongeng.title.toLowerCase().includes(n.toLowerCase())||_.sekolah.toLowerCase().includes(n.toLowerCase())||_.token.toLowerCase().includes(n.toLowerCase()):_);const p=t*i,y=p-i,x=h.slice(y,p);return c.jsxs(ua,{children:[d?c.jsx("section",{className:"d-flex justify-content-center align-items-center h-100",children:c.jsx(Fc,{})}):c.jsxs("div",{className:"",children:[c.jsxs("div",{className:"row mb-3",children:[c.jsxs("div",{className:"input-group col",children:[c.jsx("input",{type:"text",className:"form-control",placeholder:"Search....","aria-label":"Search","aria-describedby":"button-addon2",value:n,onChange:_=>e(_.target.value)}),c.jsx("button",{className:"btn btn-outline-secondary",type:"button",id:"Search",onClick:()=>e(""),children:"Clear"})]}),c.jsx("div",{className:"col d-flex justify-content-end",children:c.jsxs("button",{type:"button",className:"btn btn-secondary d-flex align-items-center gap-1 lh-sm bg-white text-black fs-5",onClick:()=>{document.getElementById("showModalForumQuiz").click()},children:[c.jsx(Ld,{size:24}),"Add"]})})]}),c.jsx("section",{className:"card-body p-0",children:c.jsx("section",{className:"table-responsive",children:c.jsxs("table",{className:"table table-striped m-0 ",children:[c.jsx("thead",{children:c.jsx("tr",{children:a.map((_,w)=>c.jsx("th",{children:_},w))})}),c.jsx("tbody",{children:x==null?void 0:x.map((_,w)=>{var A;return c.jsxs("tr",{onClick:()=>l(`./${_.id}`),style:{cursor:"pointer"},children:[c.jsx("td",{children:w+1}),c.jsx("td",{children:_==null?void 0:_.judul}),c.jsx("td",{children:((A=_==null?void 0:_.dongeng)==null?void 0:A.title)||""}),c.jsx("td",{children:_==null?void 0:_.sekolah}),c.jsx("td",{children:_==null?void 0:_.access_date}),c.jsx("td",{children:_==null?void 0:_.expired_date}),c.jsx("td",{children:_==null?void 0:_.token})]},w)})})]})})}),c.jsx(wx,{itemsPerPage:i,totalItems:h.length,className:"mt-4",paginate:s})]}),c.jsx(dW,{})]})},Ld=({size:n=16})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",class:"bi bi-plus",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"})}),gf=Ut("soalPilgan/getSoalPilgan",async()=>{try{const n=await jt.get("/get-soal-pilgan");if(n)return n.data;throw new Error("Failed to get a data")}catch(n){throw n instanceof Dt?n.response?n.response.status:n.message:n}}),t2=Ut("soalPilgan/deleteSoalPilgan",async n=>{try{if(await jt.delete(`/delete-soal-pilgan/${n}`))return n;throw new Error("Failed to delete a data")}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),n2=Ut("soalPilgan/addSoalPilgan",async n=>{try{const e=await jt.post("/set-soal-pilgan",n);if(e)return e.data;throw new Error("Failed to add a data")}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),r2=Ut("soalPilgan/editSoalPilgan",async n=>{try{const e=await jt.patch(`/update-soal-pilgan/${n.id}`,n);if(e)return e.data;throw new Error("Failed to edit a data")}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),fW=Ic({name:"soalPilgan",initialState:{soalPilgan:[],isLoading:!1,error:null},reducers:{},extraReducers:n=>{n.addCase(gf.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null,e.soalPilgan=t.payload}).addCase(gf.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message,e.soalPilgan=[]}).addCase(gf.pending,e=>{e.isLoading=!0}).addCase(t2.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null,e.soalPilgan=e.soalPilgan.filter(r=>r.id!==t.payload)}).addCase(t2.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message,e.soalPilgan=[]}).addCase(t2.pending,e=>{e.isLoading=!0}).addCase(n2.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null}).addCase(n2.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(n2.pending,e=>{e.isLoading=!0}).addCase(r2.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null}).addCase(r2.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message,e.soalPilgan=[]}).addCase(r2.pending,e=>{e.isLoading=!0})}}),pW=fW.reducer,gW=ei().shape({soal:xt().required("Soal is required"),idDongeng:xt().required("Dongeng is required"),opsi_1:xt().required("Opsi 1 is required"),opsi_2:xt().required("Opsi 2 is required"),opsi_3:xt().required("Opsi 3 is required"),opsi_4:xt().required("Opsi 4 is required"),jawaban:xt().required("Jawaban is required")}),kj=()=>{const n=sn(),{dongeng:e}=Yt(r=>r.dongeng);async function t(r){var i=await n(n2(r));if(i.error&&i.error.message==="401")return console.log("getting new access token"),await n(Tt()),t(r);document.getElementById("showModalAddSoalPilgan").click(),await n(gf())}return c.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Menambahkan Soal Pilihan Ganda"})}),c.jsx("div",{className:"modal-body",style:{width:"800px"},children:c.jsx(Qr,{initialValues:{soal:"",idDongeng:"",opsi_1:"",opsi_2:"",opsi_3:"",opsi_4:"",jawaban:""},validationSchema:gW,onSubmit:r=>{t(r)},children:({errors:r,touched:i,values:s})=>c.jsxs($r,{className:"row",children:[c.jsxs("div",{className:"col",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"soal",className:"form-label",children:"Soal"}),c.jsx(ot,{as:"textarea",name:"soal",className:"form-control",id:"soal",placeholder:"Masukan soal",rows:"4"}),r.soal&&i.soal?c.jsx("div",{className:"text-danger ",children:r.soal}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"idDongeng",className:"form-label",children:"Judul Dongeng"}),c.jsxs(ot,{as:"select",name:"idDongeng",className:"form-select",children:[c.jsx("option",{value:"",children:"Pilih Dongeng"}),e.map(a=>c.jsx("option",{value:a.id,children:a.title},a.id))]}),r.idDongeng&&i.idDongeng?c.jsx("div",{className:"text-danger",children:r.idDongeng}):null]})]}),c.jsxs("div",{className:"col",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"opsi1",className:"form-label",children:"Opsi 1"}),c.jsx(ot,{type:"text",name:"opsi_1",className:"form-control",id:"opsi1",placeholder:"Masukan opsi 1"}),r.opsi_1&&i.opsi_1?c.jsx("div",{className:"text-danger",children:r.opsi_1}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"opsi2",className:"form-label",children:"Opsi 2"}),c.jsx(ot,{type:"text",name:"opsi_2",className:"form-control",id:"opsi2",placeholder:"Masukan opsi 2"}),r.opsi_2&&i.opsi_2?c.jsx("div",{className:"text-danger",children:r.opsi_2}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"opsi3",className:"form-label",children:"Opsi 3"}),c.jsx(ot,{type:"text",name:"opsi_3",className:"form-control",id:"opsi3",placeholder:"Masukan opsi 3"}),r.opsi_3&&i.opsi_3?c.jsx("div",{className:"text-danger",children:r.opsi_3}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"opsi4",className:"form-label",children:"Opsi 4"}),c.jsx(ot,{type:"text",name:"opsi_4",className:"form-control",id:"opsi4",placeholder:"Masukan opsi 4"}),r.opsi_4&&i.opsi_4?c.jsx("div",{className:"text-danger",children:r.opsi_4}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"jawaban",className:"form-label",children:"Jawaban"}),c.jsxs(ot,{as:"select",name:"jawaban",className:"form-select",children:[c.jsx("option",{value:"",children:"Pilih Opsi Jawaban"}),s.opsi_1?c.jsx("option",{value:s.opsi_1,children:s.opsi_1}):"",s.opsi_2?c.jsx("option",{value:s.opsi_2,children:s.opsi_2}):"",s.opsi_3?c.jsx("option",{value:s.opsi_3,children:s.opsi_3}):"",s.opsi_4?c.jsx("option",{value:s.opsi_4,children:s.opsi_4}):""]}),r.jawaban&&i.jawaban?c.jsx("div",{className:"text-danger",children:r.jawaban}):null]})]}),c.jsx("button",{type:"submit",id:"btnSubmitAddSoalPilgan",className:"d-none"})]})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{document.getElementById("btnSubmitAddSoalPilgan").click()},children:"Submit"})]})]})})},mW=ei().shape({soal:xt().required("Soal is required"),idDongeng:xt().required("Dongeng is required"),opsi_1:xt().required("Opsi 1 is required"),opsi_2:xt().required("Opsi 2 is required"),opsi_3:xt().required("Opsi 3 is required"),opsi_4:xt().required("Opsi 4 is required"),jawaban:xt().required("Jawaban is required")}),vW=({id:n})=>{const e=sn(),{dongeng:t}=Yt(o=>o.dongeng),{soalPilgan:r}=Yt(o=>o.soalPilihanGanda),[i,s]=ie.useState({});ie.useEffect(()=>{s(r.find(o=>o.id===n))},[n]),ie.useEffect(()=>{async function o(){var l=await e(ia());if(l.error&&l.error.message==="401")return console.log("getting new access token"),await e(Tt()),o()}o()},[]);async function a(o){var l=await e(r2(o));if(l.error&&l.error.message==="401")return console.log("getting new access token"),e(Tt()),a(o);document.getElementById("showModalAddSoalPilgan").click(),await e(gf())}return c.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Mengedit Soal Pilihan Ganda"})}),c.jsx("div",{className:"modal-body",children:c.jsx(Qr,{enableReinitialize:!0,initialValues:{id:i.id||"",soal:i.soal||"",idDongeng:i.idDongeng||"",opsi_1:i.opsi_1||"",opsi_2:i.opsi_2||"",opsi_3:i.opsi_3||"",opsi_4:i.opsi_4||"",jawaban:i.jawaban||""},validationSchema:mW,onSubmit:o=>{a(o)},children:({errors:o,touched:l,values:u})=>c.jsxs($r,{className:"row",children:[c.jsxs("div",{className:"col",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"soal",className:"form-label",children:"Soal"}),c.jsx(ot,{as:"textarea",name:"soal",className:"form-control",id:"soal",placeholder:"Masukan soal",rows:"4"}),o.soal&&l.soal?c.jsx("div",{className:"text-danger ",children:o.soal}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"idDongeng",className:"form-label",children:"Judul Dongeng"}),c.jsxs(ot,{as:"select",name:"idDongeng",className:"form-select",children:[c.jsx("option",{value:"",children:"Pilih Dongeng"}),t.map(d=>c.jsx("option",{value:d.id,children:d.title},d.id))]}),o.idDongeng&&l.idDongeng?c.jsx("div",{className:"text-danger",children:o.idDongeng}):null]})]}),c.jsxs("div",{className:"col",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"opsi1",className:"form-label",children:"Opsi 1"}),c.jsx(ot,{type:"text",name:"opsi_1",className:"form-control",id:"opsi1",placeholder:"Masukan opsi 1"}),o.opsi_1&&l.opsi_1?c.jsx("div",{className:"text-danger",children:o.opsi_1}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"opsi2",className:"form-label",children:"Opsi 2"}),c.jsx(ot,{type:"text",name:"opsi_2",className:"form-control",id:"opsi2",placeholder:"Masukan opsi 2"}),o.opsi_2&&l.opsi_2?c.jsx("div",{className:"text-danger",children:o.opsi_2}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"opsi3",className:"form-label",children:"Opsi 3"}),c.jsx(ot,{type:"text",name:"opsi_3",className:"form-control",id:"opsi3",placeholder:"Masukan opsi 3"}),o.opsi_3&&l.opsi_3?c.jsx("div",{className:"text-danger",children:o.opsi_3}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"opsi4",className:"form-label",children:"Opsi 4"}),c.jsx(ot,{type:"text",name:"opsi_4",className:"form-control",id:"opsi4",placeholder:"Masukan opsi 4"}),o.opsi_4&&l.opsi_4?c.jsx("div",{className:"text-danger",children:o.opsi_4}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"jawaban",className:"form-label",children:"Jawaban"}),c.jsxs(ot,{as:"select",name:"jawaban",className:"form-select",children:[c.jsx("option",{value:"",children:"Pilih Opsi Jawaban"}),u.opsi_1?c.jsx("option",{value:u.opsi_1,children:u.opsi_1}):"",u.opsi_2?c.jsx("option",{value:u.opsi_2,children:u.opsi_2}):"",u.opsi_3?c.jsx("option",{value:u.opsi_3,children:u.opsi_3}):"",u.opsi_4?c.jsx("option",{value:u.opsi_4,children:u.opsi_4}):""]}),o.jawaban&&l.jawaban?c.jsx("div",{className:"text-danger",children:o.jawaban}):null]})]}),c.jsx("button",{type:"submit",id:"btnSubmitEditSoalPilgan",className:"d-none"})]})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{document.getElementById("btnSubmitEditSoalPilgan").click()},children:"Submit"})]})]})})};function bS({childern:n}){return c.jsxs("div",{children:[c.jsx("button",{type:"button",className:"btn btn-primary d-none","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",id:"showModalAddSoalPilgan",children:"Launch static backdrop modal"}),c.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:n})]})}const yW=({action:n,id:e})=>{const[t,r]=ie.useState();switch(ie.useEffect(()=>{r(n)},[n]),t){case"add":return c.jsx(bS,{childern:c.jsx(kj,{})});case"edit":return c.jsx(bS,{childern:c.jsx(vW,{id:e})});default:return c.jsx(bS,{childern:c.jsx(kj,{})})}},Y0=Ut("rekapNilai/getRekapNilaiByIdForum",async n=>{try{const e=await jt.get(`/get-rekap/${n}`);if(e)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),i2=Ut("rekapNilai/joinForumQuiz",async n=>{try{const e=await jt.post("/join-forum",n);if(e)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.data:e.message:e}}),s2=Ut("rekapNilai/updateNilaiForum",async n=>{try{const e=await jt.post("/update-nilai-quiz",n);if(e)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),X0=Ut("rekapNilai/getForumQuizByUserId",async n=>{try{const e=await jt.get(`/get-forum-by-userid/${n}`);if(e)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),a2=Ut("rekapNilai/getRekapById",async n=>{try{const e=await jt.get(`/get-rekap-quiz/${n}`);if(e)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),wW=Ic({name:"rekapNilai",initialState:{rekapNilai:[],isLoading:!1,error:null},reducers:{},extraReducers:n=>{n.addCase(Y0.pending,e=>{e.isLoading=!0}).addCase(Y0.fulfilled,(e,t)=>{e.rekapNilai=t.payload,e.isLoading=!1,e.error=null}).addCase(Y0.rejected,(e,t)=>{console.log(t.error.message),!t.error.message==="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(i2.pending,e=>{e.isLoading=!0}).addCase(i2.fulfilled,e=>{e.isLoading=!1,e.error=null}).addCase(i2.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message}).addCase(s2.pending,e=>{e.isLoading=!0}).addCase(s2.fulfilled,e=>{e.isLoading=!1,e.error=null}).addCase(s2.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message}).addCase(X0.pending,e=>{e.isLoading=!0}).addCase(X0.fulfilled,(e,t)=>{e.rekapNilai=t.payload,e.isLoading=!1,e.error=null}).addCase(X0.rejected,(e,t)=>{!t.error.message==="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(a2.pending,e=>{e.isLoading=!0}).addCase(a2.fulfilled,(e,t)=>{e.rekapNilai=[t.payload],e.isLoading=!1,e.error=null}).addCase(a2.rejected,(e,t)=>{!t.error.message==="401"&&(e.isLoading=!1),e.error=t.error.message})}}),bW=wW.reducer;function xW({childern:n}){return c.jsxs("div",{children:[c.jsx("button",{type:"button",className:"btn btn-primary d-none","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",id:"showModalEditForum",children:"Launch static backdrop modal"}),c.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:n})]})}const SW=()=>c.jsx(xW,{childern:c.jsx(AW,{})}),AW=()=>{var a,o,l,u,d,f;const{id:n}=Rc(),{dongeng:e}=Yt(h=>h.dongeng),{forumQuiz:t}=Yt(h=>h.forumQuiz),r=Zr(),i=sn();async function s(h){var p=await i(Zw(h));if(p.error&&p.error.message==="401")return console.log("getting new access token"),await i(Tt()),s(h);document.getElementById("showModalEditForum").click(),fn.fire("Success","Forum Quiz has been updated","success"),r("/admin/forum-quiz")}return ie.useEffect(()=>{async function h(){const p=await i(ia());if(p.error&&p.error.message==="401")return console.log("getting new access token"),await i(Tt()),h()}h()},[]),c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsxs("h5",{className:"modal-title",id:"staticBackdropLabel",children:["Edit Forum ",n]})}),c.jsx("div",{className:"modal-body",children:c.jsx(Qr,{enableReinitialize:!0,initialValues:{id:(a=t[0])==null?void 0:a.id,judul:((o=t[0])==null?void 0:o.judul)||"",idDongeng:((l=t[0])==null?void 0:l.idDongeng)||"",sekolah:((u=t[0])==null?void 0:u.sekolah)||"",access_date:((d=t[0])==null?void 0:d.access_date)||"",expired_date:((f=t[0])==null?void 0:f.expired_date)||""},validationSchema:W6,onSubmit:h=>{s(h)},children:c.jsxs($r,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"judul",className:"form-label",children:"Judul"}),c.jsx(ot,{type:"text",className:"form-control",id:"judul",name:"judul"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"idDongeng",className:"form-label",children:"Topik"}),c.jsxs(ot,{as:"select",className:"form-select",id:"idDongeng",name:"idDongeng",children:[c.jsx("option",{value:"",disabled:!0,children:"Pilih topik"}),e.map(h=>c.jsx("option",{value:h._id,children:h.title},h._id))]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"sekolah",className:"form-label",children:"Sekolah"}),c.jsx(ot,{type:"text",className:"form-control",id:"sekolah",name:"sekolah"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"access_date",className:"form-label",children:"Access Date"}),c.jsx(ot,{type:"date",className:"form-control",id:"access_date",name:"access_date"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"expired_date",className:"form-label",children:"Expired Date"}),c.jsx(ot,{type:"date",className:"form-control",id:"expired_date",name:"expired_date"})]}),c.jsx("button",{type:"submit",className:"d-none",id:"submitEditForum",children:"Submit"})]})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{document.getElementById("submitEditForum").click()},children:"Submit"})]})]})})},_W=()=>{var d,f,h,p,y,x,_,w;const{id:n}=Rc(),{forumQuiz:e,isLoading:t}=Yt(A=>A.forumQuiz),{rekapNilai:r}=Yt(A=>A.rekapNilai),i=sn(),s=Zr();var a=((f=(d=e[0])==null?void 0:d.dongeng)==null?void 0:f.soalPilgans)||[],o=((p=(h=e[0])==null?void 0:h.dongeng)==null?void 0:p.soalUraianSingkats)||[],l=((x=(y=e[0])==null?void 0:y.dongeng)==null?void 0:x.soalUraianPanjangs)||[];ie.useEffect(()=>{async function A(){var S=await i(V0(n)),v=await i(Y0(n));if((S.error||v.error)&&(S.error.message==="401"||v.error.message==="401"))return console.log("getting new access token"),i(Tt()),A()}A()},[]);async function u(){fn.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(A=>{if(A.isConfirmed){const S=async()=>{var v=await i(Qw(n));return v.error&&v.error.message==="401"?(console.log("getting acces token"),await i(Tt()),S()):(fn.fire({title:"Deleted!",text:"Forum Quiz has been deleted.",icon:"success"}),s("/admin/forum-quiz"))};S()}})}return c.jsxs(ua,{children:[t?c.jsx("section",{className:"w-100 d-flex justify-content-center align-items-center h-100",children:c.jsx(Fc,{})}):c.jsxs("div",{className:"",children:[c.jsx("div",{className:"d-flex justify-content-between align-items-center",children:c.jsxs(ct,{to:"/admin/forum-quiz",className:"d-flex align-items-center  gap-2 text-decoration-none fs-5 text-black",children:[c.jsx(Td,{size:24})," Forum Quiz List"]})}),c.jsx("hr",{}),c.jsxs("div",{className:"w-100 d-flex flex-column gap-3",children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[c.jsx("h1",{className:"m-0 fs-1 fw-normal",children:(_=e[0])==null?void 0:_.judul}),c.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[c.jsxs("button",{className:"btn btn-primary d-flex gap-2 align-items-center",onClick:()=>document.getElementById("showModalEditForum").click(),children:[c.jsx(Vx,{size:24}),"Edit"]}),c.jsxs("button",{className:"btn btn-danger d-flex gap-2 align-items-center",onClick:u,children:[c.jsx(Ny,{size:24}),"Hapus"]})]})]}),c.jsxs("div",{className:"w-100 d-flex gap-2",children:[c.jsxs(ct,{to:"./rekap",className:"card border p-3 w-50 text-decoration-none",children:[c.jsx("h1",{children:"Daftar Peserta"}),c.jsx("div",{className:"card border p-3 w-50 text-decoration-none",children:c.jsxs("p",{className:"m-0 fs-5 d-flex gap-1 align-items-center",children:[c.jsx(CW,{size:24}),(r==null?void 0:r.length)||0]})})]}),c.jsxs(ct,{to:"./soal",className:"card border p-3 w-50 text-decoration-none",children:[c.jsx("h1",{children:"Daftar Soal"}),c.jsx("div",{className:"card border p-3 w-50 text-decoration-none",children:c.jsxs("p",{className:"m-0 fs-5 d-flex gap-1 align-items-center",children:[c.jsx(kW,{size:24}),a.length+o.length+l.length]})})]})]}),c.jsx("div",{className:"w-100 d-flex justify-content-end",children:c.jsxs("p",{className:"fs-3 rounded-2 border p-2 d-flex gap-1 align-items-center",children:[c.jsx("button",{className:"btn",onMouseEnter:A=>A.target.style.backgroundColor="grey",onMouseLeave:A=>A.target.style.backgroundColor="white",onClick:()=>{var A;navigator.clipboard.writeText((A=e[0])==null?void 0:A.token),fn.fire("Success","Token has been copied","success")},children:c.jsx(EW,{size:24})}),(w=e[0])==null?void 0:w.token]})})]})]}),c.jsx(SW,{})]})},kW=({size:n=16})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",class:"bi bi-list-ol",viewBox:"0 0 16 16",children:[c.jsx("path",{"fill-rule":"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5"}),c.jsx("path",{d:"M1.713 11.865v-.474H2c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 0 1-.492.594v.033a.615.615 0 0 1 .569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V9H1.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 0 0-.342.338zM2.564 5h-.635V2.924h-.031l-.598.42v-.567l.629-.443h.635z"})]}),CW=({size:n=16})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"})}),Td=({size:n=16})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16",children:c.jsx("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"})}),EW=({size:n=16})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",class:"bi bi-copy",viewBox:"0 0 16 16",children:c.jsx("path",{"fill-rule":"evenodd",d:"M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"})}),NW=()=>{const n=["No","Soal","Judul Dongeng","Opsi 1","Opsi 2","Opsi 3","Opsi 4","Jawaban",""],{soalPilgan:e,isLoading:t}=Yt(h=>h.soalPilihanGanda),[r,i]=ie.useState(),[s,a]=ie.useState(),[o,l]=ie.useState(""),u=e.filter(h=>o?h.soal.toLowerCase().includes(o.toLowerCase())||h.dongeng.title.toLowerCase().includes(o.toLowerCase())||h.opsi_1.toLowerCase().includes(o.toLowerCase())||h.opsi_2.toLowerCase().includes(o.toLowerCase())||h.opsi_3.toLowerCase().includes(o.toLowerCase())||h.opsi_4.toLowerCase().includes(o.toLowerCase()):h),d=sn();async function f(h){fn.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(p=>{if(p.isConfirmed){const y=async()=>{var x=await d(t2(h));if(x.error&&x.error.message==="401")return console.log("getting new access token"),await d(Tt()),y();d(gf()),fn.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success"})};y()}})}return ie.useEffect(()=>{async function h(){var p=await d(gf());if(p.error&&p.error.message==="401")return console.log("getting new access token"),await d(Tt()),h()}h()},[]),c.jsxs(ua,{children:[t?c.jsx("section",{className:"d-flex justify-content-center align-items-center h-100",children:c.jsx(Fc,{})}):c.jsxs("div",{className:"",children:[c.jsx("div",{className:"d-flex justify-content-between align-items-center p-0",children:c.jsxs(ct,{to:"/admin/bank-soal",className:"d-flex align-items-center  gap-2 text-decoration-none fs-5 text-black ",children:[c.jsx(Td,{size:24})," Bank Soal List"]})}),c.jsx("hr",{className:"my-3"}),c.jsxs("div",{className:"row mb-3",children:[c.jsxs("div",{className:"input-group col",children:[c.jsx("input",{type:"text",className:"form-control",placeholder:"Search....","aria-label":"Search","aria-describedby":"button-addon2",value:o,onChange:h=>l(h.target.value)}),c.jsx("button",{className:"btn btn-outline-secondary",type:"button",id:"Search",onClick:()=>{l("")},children:"Clear"})]}),c.jsx("div",{className:"col d-flex justify-content-end",children:c.jsxs("button",{type:"button",className:"btn btn-secondary d-flex align-items-center gap-1 lh-sm bg-white text-black fs-5",onClick:()=>{document.getElementById("showModalAddSoalPilgan").click(),i("add")},children:[c.jsx(Ld,{size:24}),"Add"]})})]}),c.jsx("section",{className:"card-body p-0",children:c.jsx("section",{className:"table-responsive",children:c.jsxs("table",{className:"table table-striped m-0 ",children:[c.jsx("thead",{children:c.jsx("tr",{children:n.map((h,p)=>p==n.length-1?c.jsx("th",{style:{width:"120px"},children:h},p):c.jsx("th",{children:h},p))})}),c.jsx("tbody",{children:u==null?void 0:u.map((h,p)=>{var y;return c.jsxs("tr",{className:"align-middle",children:[c.jsx("td",{children:p+1}),c.jsx("td",{children:(h==null?void 0:h.soal)||""}),c.jsx("td",{children:((y=h.dongeng)==null?void 0:y.title)||""}),c.jsx("td",{children:(h==null?void 0:h.opsi_1)||""}),c.jsx("td",{children:(h==null?void 0:h.opsi_2)||""}),c.jsx("td",{children:(h==null?void 0:h.opsi_3)||""}),c.jsx("td",{children:(h==null?void 0:h.opsi_4)||""}),c.jsx("td",{children:(h==null?void 0:h.jawaban)||""}),c.jsxs("td",{className:"",style:{maxWidth:"120px"},children:[c.jsx("button",{type:"button",className:"btn btn-primary me-1",onClick:()=>{document.getElementById("showModalAddSoalPilgan").click(),a(h.id),i("edit")},children:c.jsx(Vx,{size:18})}),c.jsx("button",{type:"button",className:"btn btn-danger ",onClick:()=>{f(h.id)},children:c.jsx(Ny,{size:18})})]})]},p)})})]})})})]}),c.jsx(yW,{action:r,id:s})]})},Ny=({size:n=16})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",class:"bi bi-trash3",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"})}),Vx=({size:n=16})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16",children:[c.jsx("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),c.jsx("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"})]}),jW=()=>{const n=sn();async function e(t){console.log("tets");var r=t.pdf,i=t.title;const s=await n(Xw({title:i,file:r}));if(s.error&&s.error.message==="401")return console.log("getting new access token"),await n(Tt()),e(t);document.getElementById("showModalDongeng").click(),await n(ia()),fn.fire({title:"Berhasil Meneambahkan dongeng"})}return c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Menambahkan Dongeng"})}),c.jsx("div",{className:"modal-body",children:c.jsx(Qr,{initialValues:{pdf:null},validationSchema:PW,validateOnChange:!1,validateOnBlur:!1,onSubmit:(t,{setSubmitting:r})=>{e(t)},children:({setFieldValue:t,errors:r,touched:i,isSubmitting:s})=>c.jsxs($r,{children:[c.jsxs("section",{className:"form-group",children:[c.jsx("label",{className:"form-label fw-bold me-2",children:"Title"}),c.jsx("input",{type:"text",name:"title",className:"form-control",onChange:a=>{t("title",a.target.value)}}),r.title&&i.title?c.jsx("div",{className:"text-danger",children:r.title}):null]}),c.jsxs("section",{className:"form-group my-4",children:[c.jsx("input",{type:"file",name:"pdf",className:"form-control",onChange:a=>{t("pdf",a.target.files[0]),console.log(a.target.files[0])}}),r.pdf&&i.pdf?c.jsx("div",{className:"text-danger",children:r.pdf}):null]}),c.jsx("section",{className:"form-group d-grid gap-2 mt-3",children:c.jsx("button",{type:"submit",id:"submitAddDongeng",className:"d-none",children:"Submit"})})]})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{document.getElementById("submitAddDongeng").click()},children:"Submit"})]})]})})},PW=ei({title:xt().required("Title is required").min(1,"Title must be at least 1 character").max(100,"Title must be at most 100 characters").matches(/^[a-zA-Z0-9 ]*$/,"Title must be alphanumeric"),pdf:JC().required("PDF file is required").test("fileType","File must be a PDF",n=>n&&n.type==="application/pdf").test("fileExtension","File must have a .pdf extension",n=>n&&n.name.toString().toLowerCase().endsWith(".pdf"))});function LW({children:n}){return c.jsxs("div",{children:[c.jsx("button",{type:"button",className:"btn btn-primary d-none","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",id:"showModalDongeng",children:"Launch static backdrop modal"}),c.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:n})]})}const TW=()=>c.jsx(LW,{children:c.jsx(jW,{})}),RW=()=>{const[n,e]=ie.useState(1),[t]=ie.useState(4);ie.useState([]);const[r,i]=ie.useState(""),s=["No","Cover","Tittle",""],{dongeng:a,isLoading:o,error:l}=Yt(_=>_.dongeng),u=sn();Zr(),ie.useEffect(()=>{u(ia())},[]),ie.useEffect(()=>{async function _(){const w=await u(ia());if(w.error&&w.error.message==="401")return console.log("getting new access token"),await u(Tt()),_()}_()},[]);const d=a.filter(_=>_.title.toLowerCase().includes(r.toLowerCase())),f=n*t,h=f-t,p=d.slice(h,f),y=_=>e(_);function x(_){fn.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(w=>{if(w.isConfirmed){const A=async()=>{var S=await u(N9(_));if(S.error&&S.error.message==="401")return console.log("getting new access token"),await u(Tt()),A();u(ia()),fn.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success"})};A()}})}return c.jsxs(ua,{children:[o?c.jsx("section",{className:"d-flex justify-content-center align-items-center h-100",children:c.jsx(Fc,{})}):c.jsxs("div",{className:"",children:[c.jsxs("div",{className:"row mb-3",children:[c.jsxs("div",{className:"input-group col",children:[c.jsx("input",{type:"text",className:"form-control",placeholder:"Search....","aria-label":"Search","aria-describedby":"button-addon2",value:r,onChange:_=>i(_.target.value)}),c.jsx("button",{className:"btn btn-outline-secondary",type:"button",id:"Search",children:"Clear"})]}),c.jsx("div",{className:"col d-flex justify-content-end",children:c.jsxs("button",{type:"button",className:"btn btn-secondary d-flex align-items-center gap-1 lh-sm bg-white text-black fs-5",onClick:()=>{document.getElementById("showModalDongeng").click()},children:[c.jsx(Ld,{size:24}),"Add"]})})]}),c.jsx("section",{className:"card-body p-0",children:c.jsxs("section",{className:"table-responsive",children:[c.jsxs("table",{className:"table table-striped m-0 ",children:[c.jsx("thead",{children:c.jsx("tr",{children:s.map((_,w)=>w==s.length-1?c.jsx("th",{style:{width:"120px"},children:_},w):c.jsx("th",{children:_},w))})}),c.jsx("tbody",{children:p.map((_,w)=>c.jsxs("tr",{className:"align-middle",style:{cursor:"pointer"},children:[c.jsx("td",{width:50,children:w+1}),c.jsx("td",{width:125,children:c.jsx("div",{children:c.jsx("img",{src:_==null?void 0:_.cover,className:"w-75"})})}),c.jsx("td",{children:(_==null?void 0:_.title)||""}),c.jsxs("td",{className:"text-center",style:{maxWidth:"100px"},children:[c.jsx("button",{type:"button",className:"btn btn-primary me-1",children:c.jsx(Vx,{size:18})}),c.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>x(_.id),children:c.jsx(Ny,{size:18})})]})]},w))})]}),c.jsx(wx,{itemsPerPage:t,totalItems:d.length,className:"mt-4",paginate:y})]})})]}),c.jsx(TW,{})]})},IW=async({title:n,pdf:e},t)=>{const r=new FormData;r.append("title",n),e&&r.append("file",e)},FW=ei({title:xt().required("Title is required").min(1,"Title must be at least 1 character").max(100,"Title must be at most 100 characters").matches(/^[a-zA-Z0-9 ]*$/,"Title must be alphanumeric"),pdf:JC().nullable().test("fileType","File must be a PDF",n=>n?n.type==="application/pdf":!0).test("fileExtension","File must have a .pdf extension",n=>n?n.name.toString().toLowerCase().endsWith(".pdf"):!0)}),MW=()=>{const{id:n}=Rc(),{dongeng:e,isLoading:t}=Yt(i=>i.dongeng),r=sn();return ie.useEffect(()=>{r(Yw(n))},[n]),e?c.jsx(Qr,{initialValues:{pdf:null,title:e.title},validationSchema:FW,validateOnChange:!1,validateOnBlur:!1,onSubmit:async(i,{setSubmitting:s})=>{console.log(i);try{const a=await IW(i,n);console.log(a)}catch(a){console.log("Failed to update dongeng:",a.message)}s(!1)},children:({setFieldValue:i,errors:s,touched:a,isSubmitting:o})=>c.jsxs($r,{children:[c.jsxs("div",{children:[c.jsx(ot,{type:"text",name:"title"}),s.title&&a.title?c.jsx("div",{children:s.title}):null]}),c.jsxs("div",{children:[c.jsx("input",{type:"file",name:"pdf",onChange:l=>{i("pdf",l.target.files[0])}}),s.pdf&&a.pdf?c.jsx("div",{children:s.pdf}):null]}),c.jsx("button",{type:"submit",disabled:o,children:"Submit"})]})}):c.jsx("div",{children:"Loading..."})},yl=()=>c.jsx(c.Fragment,{children:c.jsx("footer",{id:"footer",style:{backgroundColor:"#343131"},className:"p-0",children:c.jsxs("section",{className:"container py-5",children:[c.jsxs("section",{className:"row justify-content-between",children:[c.jsxs("section",{className:"col-md-4 pe-md-5 d-flex flex-column gap-3",children:[c.jsx("img",{src:"https://logobagus.com/wp-content/uploads/2024/01/logo_unp_kediri-768x769.png",width:60,alt:""}),c.jsx("p",{className:"text-white m-0",children:c.jsx("strong",{className:"p-0",children:"Panji Kediri"})}),c.jsx("p",{children:c.jsx("small",{className:"text-white",children:"Direktotat Riset, Teknologi, dan Pengabdian Masyarakat"})})]}),c.jsxs("section",{className:"col-md-4 mt-4 mt-md-0",children:[c.jsx("h5",{className:"footer-title",children:"Peta Situs"}),c.jsx("ul",{className:"nav flex-column",children:c.jsx("section",{className:"row",children:c.jsxs("section",{className:"col-md-6",children:[c.jsx(ct,{to:"/",className:"nav-link text-white px-0","aria-current":"page",children:"Beranda"}),c.jsx(ct,{to:"/katalog",className:"nav-link text-white px-0",children:"Daftar Dongeng"}),c.jsx(ct,{to:"/petunjuk",className:"nav-link text-white px-0",rel:"noreferrer",children:"Petunjuk"})]})})})]}),c.jsxs("section",{className:"col-md-4 mt-4 mt-md-0 d-flex flex-column gap-3",children:[c.jsx("h5",{className:"footer-title",children:"Kontak Kami"}),c.jsxs("p",{className:"text-white d-flex gap-1 align-items-center m-0",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"currentColor",className:"bi bi-geo-alt-fill",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"})}),c.jsx("p",{className:"m-0",style:{minWidth:"210px"},children:"Jalan K. H. Achmad Dahlan 76 Mojoroto Kota Kediri"})]}),c.jsxs(ct,{to:"",className:"text-white text-decoration-none d-flex gap-1 align-items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"currentColor",className:"bi bi-telephone-fill",viewBox:"0 0 16 16",children:c.jsx("path",{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"})}),c.jsx("p",{className:"m-0",children:"0856-3402-402"})]}),c.jsxs(ct,{to:"",className:"text-white text-decoration-none d-flex gap-1 align-items-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"currentColor",className:"bi bi-envelope-fill",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z"})}),c.jsx("p",{className:"m-0",children:"encil@unpkediri.ac.id"})]})]})]}),c.jsxs("section",{className:"d-flex justify-content-between align-items-center my-3",children:[c.jsx("section",{className:"",children:c.jsx("p",{className:"text-white m-0",children:" Copyrights 2024 Universitas Nusantara PGRI Kediri. All rights reserved."})}),c.jsx("section",{className:"",children:c.jsx(ct,{to:"#",className:"btn btn-warning rounded",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-arrow-up-circle-fill",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0m-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707z"})})})})]})]})})}),V6=ei().shape({nama:xt().required().min(4),username:xt().required().min(4).test("Unique","Username sudah terdaftar",async n=>(await en.get(`http://localhost:5000/api/auth/alreadyexist/username?search=${n}`)).data.isAvailable),email:xt().email("Email tidak valid").required("Email wajib diisi").test("Unique","Email sudah terdaftar",async n=>{const e=await en.get(`http://localhost:5000/api/auth/alreadyexist/email?search=${n}`);return console.log(e),e.data.isAvailable}),password:xt().required("Password is required").min(8,"Password must be at least 8 characters").matches(/[A-Z]/,"Password must contain at least one uppercase letter").matches(/[a-z]/,"Password must contain at least one lowercase letter").matches(/\d/,"Password must contain at least one number").matches(/(?=.*[!@#$%^&*(),.?":{}|<>])/,"Password must contain at least one special character"),confirmPassword:xt().oneOf([XC("password"),null],"Password dan Konfirmasi Password harus sama").required("Konfirmasi Password wajib diisi")}),Cj=()=>ei().shape({nama:xt().required("Nama wajib diisi").min(4,"Nama minimal 4 karakter"),email:xt().email("Email tidak valid").required("Email wajib diisi")}),OW=()=>ei().shape({nama:xt().required().min(4),password:xt().required("Password is required").min(8,"Password must be at least 8 characters").matches(/[A-Z]/,"Password must contain at least one uppercase letter").matches(/[a-z]/,"Password must contain at least one lowercase letter").matches(/\d/,"Password must contain at least one number").matches(/(?=.*[!@#$%^&*(),.?":{}|<>])/,"Password must contain at least one special character"),confirmPassword:xt().oneOf([XC("password"),null],"Password dan Konfirmasi Password harus sama").required("Konfirmasi Password wajib diisi")}),Zt=n=>c.jsx("p",{className:"validation-error-message text-danger",children:n}),J0=Ut("users/getAllUsers",async()=>{try{const n=await jt.get("/users");if(n.data)return n.data;throw new Error}catch(n){throw n instanceof Dt?n.response?n.response.status:n.message:n}}),o2=Ut("users/updateUser",async n=>{try{const e=await jt.patch(`users/${n.id}`,n);if(e.data)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),l2=Ut("users/getUsersById",async n=>{try{const e=await jt.get(`users/${n}`);if(e.data)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),c2=Ut("users/deleteUsers",async n=>{try{const e=await jt.delete(`users/${n}`);if(e.data)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),u2=Ut("users/addUsers",async n=>{try{const e=await jt.post("/users",n);if(e.data)return e.data;throw new Error}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),DW=Ic({name:"userAdmin",initialState:{users:[],isLoading:!1,error:null},reducers:{},extraReducers:n=>{n.addCase(J0.fulfilled,(e,t)=>{e.users=t.payload,e.isLoading=!1,e.error=null}).addCase(J0.pending,e=>{e.isLoading=!0}).addCase(J0.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(o2.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null}).addCase(o2.pending,e=>{e.isLoading=!0}).addCase(o2.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(l2.fulfilled,(e,t)=>{e.users=[t.payload],e.isLoading=!1,e.error=null}).addCase(l2.pending,e=>{e.isLoading=!0}).addCase(l2.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(c2.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null}).addCase(c2.pending,e=>{e.isLoading=!0}).addCase(c2.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(u2.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null}).addCase(u2.pending,e=>{e.isLoading=!0}).addCase(u2.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message})}}),BW=DW.reducer,zW=()=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"SEKOLAH"}),c.jsx(ot,{type:"text",name:"sekolah",className:"form-control",placeholder:"Masukan nama lengkap"}),c.jsx(Qt,{name:"sekolah",render:Zt})]}),c.jsxs("div",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"KELAS"}),c.jsx(ot,{type:"text",name:"kelas",className:"form-control",placeholder:"Masukan nama lengkap"}),c.jsx(Qt,{name:"kelas",render:Zt})]})]}),UW=()=>c.jsx(c.Fragment,{children:c.jsxs("div",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"SEKOLAH"}),c.jsx(ot,{type:"text",name:"sekolah",className:"form-control",placeholder:"Masukan nama lengkap"}),c.jsx(Qt,{name:"sekolah",render:Zt})]})}),HW=()=>{const[n,e]=ie.useState(!1),[t,r]=ie.useState(!1),i=Zr(),s=sn(),a=async o=>{const l=await s(u2(o));if(l.error&&l.error.message==="401")return console.log("getting new access token"),await s(Tt()),a(o);l.error?fn.fire({icon:"error",title:"User gagal di buat!",showConfirmButton:!1,timer:1500}):fn.fire({icon:"success",title:"User Berhasil di buat!",showConfirmButton:!1,timer:1500}),i("../")};return c.jsx(ua,{children:c.jsx("section",{className:"row justify-content-center pt-2 pt-md-5 p-3 p-md-0",children:c.jsxs("section",{className:"col-lg-5",children:[c.jsx("h2",{className:"text-blue mt-4 mt-md-0",children:"Add Users"}),c.jsx("section",{className:"card mt-2 shadow",children:c.jsx("section",{className:"card-body p-4",children:c.jsx(Qr,{initialValues:{nama:"",username:"",email:"",role:"",kelas:"",sekolah:"",password:"",confirmPassword:""},validationSchema:V6,validateOnChange:!1,validateOnBlur:!1,onSubmit:(o,{setSubmitting:l,errors:u})=>{a(o),console.log(o),l(!1)},children:({setFieldValue:o,values:l})=>c.jsxs($r,{children:[c.jsxs("section",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"NAMA LENGKAP"}),c.jsx(ot,{type:"text",name:"nama",className:"form-control",placeholder:"Masukan nama lengkap"}),c.jsx(Qt,{name:"nama",render:Zt}),c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"USERNAME"}),c.jsx(ot,{type:"text",name:"username",className:"form-control",placeholder:"Masukan username"}),c.jsx(Qt,{name:"username",render:Zt})]}),c.jsxs("section",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"ALAMAT EMAIL"}),c.jsx(ot,{type:"email",name:"email",className:"form-control",placeholder:"Masukan alamat email"}),c.jsx(Qt,{name:"email",render:Zt})]}),c.jsxs("div",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"ROLE"}),c.jsxs(ot,{as:"select",name:"role",className:"form-select",onChange:u=>{o("role",u.target.value),u.target.value=="SISWA"?(e(!0),r(!1),console.log(u.target.value)):u.target.value=="GURU"?(r(!0),e(!1)):(r(!1),e(!1)),console.log(n)},children:[c.jsx("option",{value:"",children:"Select Role"},"null"),c.jsx("option",{value:"SISWA",children:"SISWA"},"SISWA"),c.jsx("option",{value:"GURU",children:"GURU"},"GURU"),c.jsx("option",{value:"UMUM",children:"UMUM"},"UMUM")]}),c.jsx(Qt,{name:"role",render:Zt})]}),n&&c.jsx(zW,{}),t&&c.jsx(UW,{}),c.jsxs("section",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"KATA SANDI"}),c.jsx(ot,{type:"text",name:"password",className:"form-control",placeholder:"Masukan kata sandi"}),c.jsx(Qt,{name:"password",render:Zt})]}),c.jsxs("section",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"ULANGI KATA SANDI"}),c.jsx(ot,{type:"text",name:"confirmPassword",className:"form-control",placeholder:"Masukan ulang kata sandi"}),c.jsx(Qt,{name:"confirmPassword",render:Zt})]}),c.jsxs("section",{className:"form-group ",children:[c.jsx("button",{type:"submit",className:"btn btn-orange py-2 text-white float-left",children:"Submit"}),c.jsx(ct,{to:"../",className:"btn btn-secondary py-2 text-white float-right",children:"Back"})]})]})})})})]})})})},$W=()=>c.jsxs(c.Fragment,{children:[c.jsxs("section",{className:"form-group my-4",children:[c.jsx("label",{className:"form-label fw-bold",htmlFor:"kelas",children:"KELAS"}),c.jsx("section",{className:"input-group",children:c.jsx(ot,{name:"kelas",type:"text",className:"form-control",placeholder:"Masukan Kelas"})}),c.jsx(Qt,{name:"kelas",render:Zt})]}),c.jsxs("section",{className:"form-group my-4",children:[c.jsx("label",{className:"form-label fw-bold",htmlFor:"sekolah",children:"SEKOLAH"}),c.jsx("section",{className:"input-group",children:c.jsx(ot,{name:"sekolah",type:"text",className:"form-control",placeholder:"Masukan Sekolah"})}),c.jsx(Qt,{name:"sekolah",render:Zt})]})]}),qW=()=>c.jsx(c.Fragment,{children:c.jsxs("section",{className:"form-group my-4",children:[c.jsx("label",{className:"form-label fw-bold",htmlFor:"sekolah",children:"SEKOLAH"}),c.jsx("section",{className:"input-group",children:c.jsx(ot,{name:"sekolah",type:"text",className:"form-control",placeholder:"Masukan Sekolah"})}),c.jsx(Qt,{name:"sekolah",render:Zt})]})}),WW=()=>c.jsxs(c.Fragment,{children:[c.jsxs("section",{className:"form-group my-4",children:[c.jsx("label",{className:"form-label fw-bold",children:"PASSWORD"}),c.jsx("section",{className:"input-group",children:c.jsx(ot,{name:"password",type:"password",className:"form-control",placeholder:"Masukan Kata Sandi"})}),c.jsx(Qt,{name:"password",render:Zt})]}),c.jsxs("section",{className:"form-group my-4",children:[c.jsx("label",{className:"form-label fw-bold",children:"KELAS"}),c.jsx("section",{className:"input-group",children:c.jsx(ot,{name:"confirmPassword",type:"password",className:"form-control",placeholder:"Masukan Ulang Kata Sandi"})}),c.jsx(Qt,{name:"confirmPassword",render:Zt})]})]}),VW=()=>{const n=Zr(),{id:e}=Rc(),t=Yt(p=>p.usersAdmin.users[0]),[r,i]=ie.useState(!1),[s,a]=ie.useState(Cj),[o,l]=ie.useState(!1),[u,d]=ie.useState(!1),f=sn(),h=async p=>{async function y(){const x=await f(o2(p));if(x.error&&x.error.message==="401")return console.log("getting new access token"),await f(Tt()),y()}y(),n("/admin/users")};return ie.useEffect(()=>{const p=async()=>{const y=await f(l2(e));if(y.error&&y.error.message==="401")return console.log("getting new access token"),await f(Tt()),p()};p()},[e]),ie.useEffect(()=>{a(r?OW:Cj)},[r]),ie.useEffect(()=>{t&&(t.role==="SISWA"?(l(!0),d(!1)):t.role==="GURU"?(d(!0),l(!1)):(d(!1),l(!1)))},[t]),t===null?c.jsx("div",{children:"Loading..."}):c.jsx(ua,{children:c.jsxs("section",{children:[c.jsx("div",{className:"d-flex justify-content-between align-items-center p-0",children:c.jsxs(ct,{to:"/admin/users",className:"d-flex align-items-center  gap-2 text-decoration-none fs-5 text-black ",children:[c.jsx(Td,{size:24})," Back To Users"]})}),c.jsx("div",{className:"container",children:c.jsx("section",{className:"row justify-content-center pt-2 pt-md-5 p-3 p-md-0",children:c.jsxs("section",{className:"col-lg-5",children:[c.jsx("h2",{className:"text-blue mt-4 mt-md-0",children:"Update"}),c.jsx("section",{className:"card mt-2 shadow",children:c.jsx("section",{className:"card-body p-4",children:c.jsx(Qr,{enableReinitialize:!0,initialValues:{id:t.id,nama:t.nama,email:t.email,username:t.username||"",kelas:t.kelas||"",sekolah:t.sekolah||"",role:t.role,password:"",confirmPassword:""},validationSchema:s,validateOnChange:!1,validateOnBlur:!1,onSubmit:(p,{setSubmitting:y})=>{h(p),y(!1)},children:c.jsxs($r,{children:[c.jsxs("section",{className:"form-group",children:[c.jsx("label",{className:"form-label fw-bold",children:"NAMA"}),c.jsx(ot,{type:"text",name:"nama",className:"form-control",placeholder:"Masukan Nama"}),c.jsx(Qt,{name:"nama",render:Zt})]}),c.jsxs("section",{className:"form-group my-4",children:[c.jsx("label",{className:"form-label fw-bold",children:"USERNAME"}),c.jsx("section",{className:"input-group",children:c.jsx(ot,{name:"username",type:"text",className:"form-control",placeholder:"Masukan Username"})}),c.jsx(Qt,{name:"username",render:Zt})]}),c.jsxs("section",{className:"form-group my-4",children:[c.jsx("label",{className:"form-label fw-bold",children:"EMAIL"}),c.jsx("section",{className:"input-group",children:c.jsx(ot,{name:"email",type:"email",className:"form-control",placeholder:"Masukan Email"})}),c.jsx(Qt,{name:"email",render:Zt})]}),c.jsxs("section",{className:"form-group my-4",children:[c.jsx("label",{className:"form-label fw-bold",children:"ROLE"}),c.jsxs(ot,{as:"select",name:"role",className:"form-select",onChange:p=>{setFieldValue("role",p.target.value),p.target.value==="SISWA"?(l(!0),d(!1)):p.target.value==="GURU"?(d(!0),l(!1)):(d(!1),l(!1))},children:[c.jsx("option",{value:"SISWA",children:"SISWA"}),c.jsx("option",{value:"GURU",children:"GURU"}),c.jsx("option",{value:"UMUM",children:"UMUM"})]}),c.jsx(Qt,{name:"role",render:Zt})]}),o&&c.jsx($W,{}),u&&c.jsx(qW,{}),c.jsx("label",{className:"form-label fw-bold me-2",children:"GANTI KATA SANDI"}),c.jsx("input",{type:"checkbox",onChange:()=>{i(!r),r?(setFieldValue("password",void 0),setFieldValue("confirmPassword",void 0)):(setFieldValue("password",""),setFieldValue("confirmPassword",""))},checked:r}),r&&c.jsx(WW,{}),c.jsx("section",{className:"form-group d-grid gap-2 mt-3",children:c.jsx("button",{type:"submit",className:"btn btn-orange py-2 text-white",children:"Update"})})]})})})})]})})})]})})},GW=({items:n,getUser:e})=>{const t=Zr(),r=sn(),i=(o,l)=>fn.fire({title:o,text:l,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, hapus!",cancelButtonText:"Batal"}),s=async o=>{i("Peringatan","Anda yakin ingin menghapus user ini?").then(async l=>{if(l.isConfirmed){async function u(){const d=await r(c2(o));if(d.error&&d.error.message==="401")return console.log("getting new access token"),await r(Tt()),u();d.payload?fn.fire("Berhasil","User berhasil dihapus","success"):fn.fire("Gagal","User gagal dihapus","error"),await r(J0())}u()}})},a=o=>{t(`./update/${o}`)};return n.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"5",className:"text-center",children:c.jsx("section",{className:"container my-4 py-4",children:c.jsx("section",{className:"row",children:c.jsxs("section",{className:"col text-center",children:[c.jsx("img",{className:"img-fluid w-50",src:"https://buku.kemdikbud.go.id/assets/image/oops.png",alt:"halaman tidak ditemukan"}),c.jsx("p",{className:"lead text-muted mb-5",children:"Sepertinya user yang kamu cari tidak ditemukan."})]})})})})}):c.jsx(c.Fragment,{children:n.map(o=>c.jsxs("tr",{children:[c.jsx("td",{children:o.nama}),c.jsx("td",{children:o.username}),c.jsx("td",{children:o.email}),c.jsx("td",{children:o.role}),c.jsx("td",{children:new Date(o.createdAt).toLocaleString()}),c.jsx("td",{children:new Date(o.updatedAt).toLocaleString()}),c.jsxs("td",{children:[c.jsx("button",{className:"btn btn-sm btn-success border me-2",onClick:()=>a(o.id),children:"Update"}),c.jsx("button",{className:"btn btn-sm btn-danger border",onClick:()=>s(o.id),children:"Hapus"})]})]},o.id))})},KW=()=>{const n=Zr(),[e,t]=ie.useState(1),[r]=ie.useState(10);ie.useState([]);const[i,s]=ie.useState(""),a=sn();var{users:o,isLoading:l}=Yt(v=>v.usersAdmin);o=o.filter(v=>v.role!=="admin");const u=async()=>{const v=await a(J0());if(v.error&&v.error.message==="401")return console.log("getting new access token"),await a(Tt()),u()};ie.useEffect(()=>{u()},[]);const d=v=>{s(v.target.value),t(1)},f=o.filter(v=>v.nama.toLowerCase().includes(i.toLowerCase())||v.email.toLowerCase().includes(i.toLowerCase())),h=e*r,p=h-r,y=f.slice(p,h),x=v=>t(v),_=Eo(),{message:w,status:A}=_.state||{};ie.useEffect(()=>{w&&cT(w,A),u()},[]);const S=()=>{n("./add")};return c.jsx(ua,{children:l?c.jsx("section",{className:"d-flex justify-content-center align-items-center h-100",children:c.jsx(Fc,{})}):c.jsx("section",{className:"container mt-4 mb-4",children:c.jsxs("section",{className:"card",children:[c.jsx("section",{className:"card-header",children:c.jsxs("section",{className:" input-group",children:[c.jsx("h3",{className:"card-title me-3",children:"Admin"}),c.jsx("input",{type:"text",className:"form-control",onChange:d}),c.jsx("button",{className:"btn btn-sm btn-orange text-white",onClick:d,children:"cari"})]})}),c.jsx("section",{className:"card-body p-0",children:c.jsx("section",{className:"table-responsive",children:c.jsxs("table",{className:"table m-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"",children:[c.jsx("th",{children:"Nama"}),c.jsx("th",{children:"Username"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Role"}),c.jsx("th",{children:"Created At"}),c.jsx("th",{children:"Updated At"}),c.jsx("th",{children:"Aksi"})]})}),c.jsx("tbody",{children:c.jsx(GW,{items:y,getUser:u})})]})})}),c.jsxs("section",{className:"card-footer",children:[c.jsx(wx,{itemsPerPage:r,totalItems:f.length,paginate:x}),c.jsx("button",{className:"btn btn-sm btn-orange text-white float-left",onClick:S,children:"Add User"})]})]})})})},Eb=({children:n})=>{const e=zn.getCookie("refreshToken");return zn.getCookie("userID"),e?c.jsx(FC,{to:"/"}):c.jsxs("div",{children:[c.jsx(vl,{}),n,c.jsx(yl,{})]})},YW=ei({credential:xt().required("Field ini wajib diisi"),password:xt().required("Password is required")}),XW=()=>c.jsx("p",{className:"text-danger",children:"email or password is incorrect. Please try again"}),JW=()=>{const n=Eo(),{message:e,status:t}=n.state||{};ie.useEffect(()=>{e&&cT(e,t)},[]);const r=sn(),{error:i}=Yt(a=>a.auth),s=async({credential:a,password:o})=>{console.log(a,o);try{r(Gw({credential:a,password:o}))}catch(l){console.log(l.message)}};return c.jsx(Eb,{children:c.jsx("section",{className:"d-flex align-items-center justify-content-center login",style:{minHeight:"calc(100vh - 76px)"},children:c.jsx("section",{className:"login-item mx-1",children:c.jsx("section",{className:"card mt-2 shadow",children:c.jsxs("section",{className:"card-body p-4",children:[i?c.jsx("center",{children:c.jsx(XW,{})}):"",c.jsx(Qr,{initialValues:{credential:"",password:""},validationSchema:YW,validateOnChange:!1,validateOnBlur:!1,onSubmit:(a,{setSubmitting:o})=>{s(a),o(!1)},children:c.jsxs($r,{children:[c.jsxs("section",{className:"form-group",children:[c.jsx("label",{className:"form-label fw-bold",children:"EMAIL OR USERNAME"}),c.jsx(ot,{type:"text",name:"credential",className:"form-control",placeholder:"Masukan alamat email atau Username"}),c.jsx(Qt,{name:"credential",render:Zt})]}),c.jsxs("section",{className:"form-group my-4",children:[c.jsxs("section",{children:[c.jsx("label",{className:"form-label fw-bold float-start",children:"KATA SANDI"}),c.jsx("label",{className:"form-label float-end",children:c.jsx(ct,{to:"/forgot-password",className:"text-blue text-decoration-none",children:"LUPA KATA SANDI?"})})]}),c.jsx("section",{className:"input-group",children:c.jsx(ot,{name:"password",type:"password",className:"form-control",placeholder:"Masukan kata sandi"})}),c.jsx(Qt,{name:"password",render:Zt})]}),c.jsx("section",{className:"form-group d-grid gap-2 mt-3",children:c.jsx("button",{type:"submit",className:"btn btn-orange py-2 text-white",children:"Masuk"})}),c.jsxs("section",{className:"form-group text-center mt-4",children:[c.jsx("section",{className:"my-2",children:"Atau"}),c.jsxs("p",{className:"mb-0",children:["Belum punya akun?",c.jsx(ct,{to:"/register",className:"text-decoration-none text-blue",children:"Daftar disini"})]}),c.jsxs("p",{className:"mb-0",children:["Lupa kata sandi?",c.jsx(ct,{to:"/forgot-password",className:"text-decoration-none text-blue",children:"Klik disini"})]})]})]})})]})})})})})},QW=async()=>{sn()(jx())},ZW=()=>{const n=Zr(),[e,t]=ie.useState(!1),r=async({nama:i,username:s,email:a,password:o,confirmPassword:l})=>{t(!0);try{await jt.post("/register",{nama:i,username:s,email:a,password:o,confirmPassword:l}),t(!1)}catch(u){console.log(u.message),t(!1)}};return e?c.jsx("p",{children:"Loading...."}):c.jsx(Eb,{children:c.jsx(Qr,{initialValues:{nama:"",username:"",email:"",password:"",confirmPassword:""},validationSchema:V6,validateOnChange:!1,validateOnBlur:!1,onSubmit:(i,{setSubmitting:s})=>{r(i),s(!1),n("/login",{state:{message:"Berhasil Register!",status:"success"}})},children:c.jsx("section",{className:"d-flex justify-content-center align-items-center register",style:{minHeight:"calc(100vh - 76px)"},children:c.jsxs("section",{className:"login-item mx-1",children:[c.jsx("h2",{className:"text-blue mt-4 mt-md-0",children:"Registrasi"}),c.jsx("section",{className:"card mt-2 shadow",children:c.jsxs("section",{className:"card-body p-4",children:[c.jsxs($r,{children:[c.jsxs("section",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"NAMA LENGKAP"}),c.jsx(ot,{type:"text",name:"nama",className:"form-control",placeholder:"Masukan nama lengkap"}),c.jsx(Qt,{name:"nama",render:Zt})]}),c.jsxs("section",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"USERNAME"}),c.jsx(ot,{type:"text",name:"username",className:"form-control",placeholder:"Masukan Username"}),c.jsx(Qt,{name:"username",render:Zt})]}),c.jsxs("section",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"ALAMAT EMAIL"}),c.jsx(ot,{name:"email",type:"text",className:"form-control",placeholder:"Masukan alamat email"}),c.jsx(Qt,{name:"email",render:Zt})]}),c.jsxs("section",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"KATA SANDI"}),c.jsx(ot,{type:"password",name:"password",className:"form-control",placeholder:"Masukan kata sandi"})]}),c.jsx(Qt,{name:"password",render:Zt}),c.jsxs("section",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"ULANGI KATA SANDI"}),c.jsx(ot,{type:"password",name:"confirmPassword",className:"form-control",placeholder:"Masukan ulang kata sandi"}),c.jsx(Qt,{name:"confirmPassword",render:Zt})]}),c.jsx("section",{className:"form-group d-grid gap-2",children:c.jsx("button",{type:"submit",className:"btn btn-orange py-2 text-white",children:"Daftar"})})]}),c.jsx("section",{className:"form-group text-center mt-4",children:c.jsxs("p",{children:["Sudah punya akun?",c.jsx(ct,{to:"/login",className:"text-decoration-none text-blue",children:"Masuk disini"})]})})]})})]})})})})},Ej=async n=>await en.get(`http://localhost:5000/api/isvalidtoken/${n}`),eV=ei({email:xt().email("Email is invalid").required("Email is required").test("checkUniqueEmail","The Email Address could not be found.",async n=>(await en.get(`https://test-backend-pink.vercel.app/api/auth/email?search=${n}`)).data.checkEmailExists)}),tV=ei({code:xt().required("code required")}),nV=ei({newPassword:xt().required("Password is required").min(8,"Password must be at least 8 characters").matches(/[A-Z]/,"Password must contain at least one uppercase letter").matches(/[a-z]/,"Password must contain at least one lowercase letter").matches(/\d/,"Password must contain at least one number").matches(/(?=.*[!@#$%^&*(),.?":{}|<>])/,"Password must contain at least one special character"),confirmPassword:xt().oneOf([XC("newPassword"),null],"Password dan Konfirmasi Password harus sama").required("Konfirmasi Password wajib diisi")}),rV=()=>{const[n,e]=ie.useState(!1),[t,r]=ie.useState(!1),[i,s]=ie.useState(),[a,o]=ie.useState(null),l=Eo(),d=new URLSearchParams(l.search).get("token");ie.useEffect(()=>{d&&Ej(d).then(S=>{o(S.data.status)})},[]);const f=sn(),{validationToken:h,isLoading:p}=Yt(S=>S.auth),y=async({email:S})=>{f(Kw(S)),s(S),e(!0)},x=async({code:S})=>{S===h&&(r(!0),e(!1))};Zr();const _=()=>c.jsx(Qr,{initialValues:{newPassword:"",confirmPassword:""},validationSchema:nV,validateOnChange:!1,validateOnBlur:!1,onSubmit:async(S,{setSubmitting:v})=>{v(!1),(await Ej(d)).data.status===!0&&console.log(await en.post(`http://localhost:5000/api/forgot-password/${d}`,{newPassword:S.newPassword}))},children:c.jsx("section",{className:"row justify-content-center pt-2 pt-md-5 p-3 p-md-0 register",children:c.jsxs("section",{className:"col-lg-5",children:[c.jsx("h2",{className:"text-blue mt-4 mt-md-0",children:"Ganti Kata Sandi"}),c.jsx("section",{className:"card mt-2 shadow",children:c.jsx("section",{className:"card-body p-4",children:c.jsxs($r,{children:[c.jsxs("section",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"KATA SANDI"}),c.jsx(ot,{type:"password",name:"newPassword",className:"form-control",placeholder:"Masukan kata Sandi Baru"})]}),c.jsx(Qt,{name:"newPassword",render:Zt}),c.jsxs("section",{className:"form-group mb-3",children:[c.jsx("label",{htmlFor:"",className:"form-label fw-bold",children:"ULANGI KATA SANDI"}),c.jsx(ot,{type:"password",name:"confirmPassword",className:"form-control",placeholder:"Masukan ulang kata sandi"}),c.jsx(Qt,{name:"confirmPassword",render:Zt})]}),c.jsx("section",{className:"d-flex justify-content-end",children:c.jsx("button",{className:"btn btn-sm btn-orange py-2 mt-2 text-white",type:"submit",children:"Send Reset Code"})})]})})})]})})}),w=()=>c.jsx(Eb,{children:c.jsx("section",{className:"d-flex justify-content-center align-items-center login",style:{minHeight:"calc(100vh - 76px)"},children:c.jsxs("section",{className:"login-item mx-1",children:[c.jsx("h2",{className:"text-blue mt-4 mt-md-0",children:"Reset Password"}),c.jsx("section",{className:"card mt-2 shadow",children:c.jsx("section",{className:"card-body p-4",children:c.jsx(Qr,{initialValues:{email:""},validationSchema:eV,validateOnChange:!1,validateOnBlur:!1,onSubmit:(S,{setSubmitting:v})=>{y(S),v(!1)},children:c.jsx($r,{children:c.jsxs("section",{className:"form-group",children:[c.jsx("label",{className:"form-label fw-bold",children:"ALAMAT EMAIL"}),c.jsx(ot,{type:"email",name:"email",className:"form-control",placeholder:"Masukan alamat email"}),c.jsx(Qt,{name:"email",render:Zt}),c.jsx("section",{className:"d-flex justify-content-end",children:c.jsx("button",{className:"btn btn-sm btn-orange py-2 mt-2 text-white",type:"submit",children:"Send Reset Code"})})]})})})})})]})})}),A=()=>c.jsxs(Eb,{children:[c.jsxs("p",{children:["Code Telah Dikirim Ke ",i]}),c.jsx(Qr,{initialValues:{code:""},validationSchema:tV,validateOnChange:!1,validateOnBlur:!1,onSubmit:(S,{setSubmitting:v})=>{x(S),v(!1)},children:c.jsxs($r,{children:[c.jsx(ot,{type:"text",name:"code"}),c.jsx(Qt,{name:"code",render:Zt}),c.jsx("button",{type:"submit",children:"Check Validation"})]})})]});if(a===null)return c.jsx(w,{});if(a===!0)return c.jsx(_,{});if(!n&&!t)return c.jsx(w,{});if(n&&!t)return c.jsx(A,{});if(!n&&t)return c.jsx(ChangePassword,{})},iV=async n=>await en.get(`http://localhost:5000/api/verify?token=${n}`),sV=()=>{const n=Eo(),t=new URLSearchParams(n.search).get("token");return iV(t).then(r=>{console.log(r)}),c.jsx(c.Fragment,{children:"verif"})},aV=n=>c.jsxs(c.Fragment,{children:[c.jsx(vl,{}),n.content,c.jsx(yl,{})]}),oV=[{title:"Panduan Guru: Belajar dan Bermain Berbasis Buku",cover:"https://static.buku.kemdikbud.go.id/content/image/coverteks/coverkurikulum21/Belajar_dan_Bermain_Berbasis_Buku_BG_Paud_Cover.png"}],lV=async n=>(await en.get(`http://localhost:5000/api/dongeng/${n}`)).data,cV=async n=>{try{return(await en.get(`http://localhost:5000/api/dongengview/${n}`)).data}catch(e){console.log(e.message)}},uV=()=>{const n=Zr(),{id:e}=Rc(),[t,r]=ie.useState([]);return ie.useEffect(()=>{lV(e).then(i=>r(i)),cV(e).then(i=>{})},[]),c.jsx(c.Fragment,{children:c.jsx(aV,{content:c.jsxs("main",{className:"bg-secondary-light",children:[c.jsx("section",{className:"pt-3 ",children:c.jsx("section",{className:"container p-3",children:c.jsx("nav",{children:c.jsxs("ol",{className:"breadcrumb",children:[c.jsx("li",{className:"breadcrumb-item",children:c.jsx(ct,{to:"/",className:"text-decoration-none ",style:{color:"#d8a25e"},children:"Beranda"})}),c.jsx("li",{className:"breadcrumb-item",children:c.jsx(ct,{to:"/katalog",className:"text-decoration-none ",style:{color:"#d8a25e"},children:"Katalog"})}),c.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:c.jsx(ct,{to:"/",className:"text-decoration-none ",style:{color:"#d8a25e"},children:t.title})})]})})})}),c.jsx("section",{className:"",children:c.jsx("section",{className:"container",children:c.jsxs("section",{className:"row p-5 rounded shadow",style:{backgroundImage:"url(https://buku.kemdikbud.go.id/assets/image/catalog/Background.png)",backgroundRepeat:"no-repeat",backgroundPosition:"100%",backgroundSize:"cover",backgroundColor:"rgba(216, 162, 94 , 0.2)"},children:[c.jsxs("section",{className:"col-lg-3 text-center d-flex align-items-center justify-content-center position-relative",children:[c.jsx("img",{src:t.cover,className:"hero-detail img-fluid",alt:"",style:{height:"100%",width:"100%"}}),c.jsx("button",{className:"btn btn-sm btn-danger position-absolute",style:{top:"10px",left:"10px"},children:"Buku PDF"})]}),c.jsxs("section",{className:"col-lg-9 pt-5 pt-md-0",children:[c.jsx("h3",{className:"my-3",children:t.title}),c.jsxs("button",{className:"btn btn-sm btn-outline-primary py-2 mt-2",onClick:()=>n(`/dongeng/read/${e}`),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-filetype-pdf",viewBox:"0 0 16 16",children:c.jsx("path",{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"})}),"Baca Online"]}),c.jsxs("section",{className:"row align-items-center mb-3 mt-4",children:[c.jsx("section",{className:"col-6 col-lg-2",children:c.jsx("span",{children:"DETAIL DONGENG"})}),c.jsx("section",{className:"col-5 col-lg-10 p-0",children:c.jsx("hr",{})})]}),c.jsxs("section",{className:"row",children:[c.jsxs("section",{className:"col-lg-2 mb-2 mb-md-0",children:[c.jsx("section",{children:"Penerbit"}),c.jsx("small",{className:"text-muted",children:"-"})]}),c.jsxs("section",{className:"col-lg-2 mb-2 mb-md-0",children:[c.jsx("section",{children:"Edisi"}),c.jsx("small",{className:"text-muted",children:"2024"})]}),c.jsxs("section",{className:"col-lg-3 mb-2 mb-md-0",children:[c.jsx("section",{children:"Penulis"}),c.jsx("small",{className:"text-muted",children:"Universias Nusantara PGRI Kediri"})]})]})]})]})})}),c.jsx("section",{className:"py-5",children:c.jsxs("section",{className:"container",children:[c.jsx("h4",{children:"Rekomendasi buku lainya"}),c.jsx("section",{className:"row my-3",children:oV.map(i=>c.jsx("section",{className:"col-lg-3 col-6 my-2",children:c.jsxs(ct,{to:"dongeng/detail/"+i.id,className:"text-decoration-none text-dark position-relative",children:[c.jsx("section",{className:"card border-1 mt-3 CardBook_card rounded shadow",style:{minHeight:"200px"},children:c.jsx("section",{className:"card-header text-center text-lg-start bg-white p-0 border-0",children:c.jsx("img",{src:i.cover,alt:i.title,className:"img-fluid rounded-0"})})}),c.jsxs("section",{className:"position-absolute d-flex flex-column gap-2",style:{top:"30px",left:"-2px"},children:[c.jsx("span",{className:"badge rounded bg-danger",style:{width:"50px"},children:"PDF"}),c.jsx("span",{className:"badge rounded bg-secondary",children:"SMA/MA/SMK/MAK"})]}),c.jsx("section",{className:"w-100 text-center px-5 px-lg-0 position-absolute bottom-0",style:{backgroundColor:"rgba(216, 162, 94, 0.7)"},children:c.jsx("section",{className:"fs-6 my-1 text-white",children:i.title})})]})},i.id))})]})})]})})})};var s_={exports:{}};(function(n,e){(function(t,r){r(e)})(Ri,function(t){class r{constructor(v,C){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=C,this.nowDrawingDensity=this.createdDensity,this.render=v}setDensity(v){this.createdDensity=v,this.nowDrawingDensity=v}setDrawingDensity(v){this.nowDrawingDensity=v}setPosition(v){this.state.position=v}setAngle(v){this.state.angle=v}setArea(v){this.state.area=v}setHardDrawingAngle(v){this.state.hardDrawingAngle=v}setHardAngle(v){this.state.hardAngle=v,this.state.hardDrawingAngle=v}setOrientation(v){this.orientation=v}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(v,C,j){super(v,j),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=C}draw(v){const C=this.render.getContext(),j=this.render.convertToGlobal(this.state.position),T=this.render.getRect().pageWidth,P=this.render.getRect().height;C.save(),C.translate(j.x,j.y),C.beginPath();for(let z of this.state.area)z!==null&&(z=this.render.convertToGlobal(z),C.lineTo(z.x-j.x,z.y-j.y));C.rotate(this.state.angle),C.clip(),this.isLoad?C.drawImage(this.image,0,0,T,P):this.drawLoader(C,{x:0,y:0},T,P),C.restore()}simpleDraw(v){const C=this.render.getRect(),j=this.render.getContext(),T=C.pageWidth,P=C.height,z=v===1?C.left+C.pageWidth:C.left,q=C.top;this.isLoad?j.drawImage(this.image,z,q,T,P):this.drawLoader(j,{x:z,y:q},T,P)}drawLoader(v,C,j,T){v.beginPath(),v.strokeStyle="rgb(200, 200, 200)",v.fillStyle="rgb(255, 255, 255)",v.lineWidth=1,v.rect(C.x+1,C.y+1,j-1,T-1),v.stroke(),v.fill();const P={x:C.x+j/2,y:C.y+T/2};v.beginPath(),v.lineWidth=10,v.arc(P.x,P.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),v.stroke(),v.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class s{constructor(v,C){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=C,this.app=v,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let C=0;C<this.pages.length;C++)this.portraitSpread.push([C]);let v=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([v]),v++);for(let C=v;C<this.pages.length;C+=2)C<this.pages.length-1?this.landscapeSpread.push([C,C+1]):(this.landscapeSpread.push([C]),this.pages[C].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(v){const C=this.getSpread();for(let j=0;j<C.length;j++)if(v===C[j][0]||v===C[j][1])return j;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(v){if(v>=0&&v<this.pages.length)return this.pages[v];throw new Error("Invalid page number")}nextBy(v){const C=this.pages.indexOf(v);return C<this.pages.length-1?this.pages[C+1]:null}prevBy(v){const C=this.pages.indexOf(v);return C>0?this.pages[C-1]:null}getFlippingPage(v){const C=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[C].newTemporaryCopy():this.pages[C-1];{const j=v===0?this.getSpread()[C+1]:this.getSpread()[C-1];return j.length===1||v===0?this.pages[j[0]]:this.pages[j[1]]}}getBottomPage(v){const C=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[C+1]:this.pages[C-1];{const j=v===0?this.getSpread()[C+1]:this.getSpread()[C-1];return j.length===1?this.pages[j[0]]:v===0?this.pages[j[1]]:this.pages[j[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(v=null){if(v===null&&(v=this.currentPageIndex),v<0||v>=this.pages.length)return;const C=this.getSpreadIndexByPage(v);C!==null&&(this.currentSpreadIndex=C,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(v){if(!(v>=0&&v<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=v}showSpread(){const v=this.getSpread()[this.currentSpreadIndex];v.length===2?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(this.pages[v[1]])):this.render.getOrientation()==="landscape"&&v[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[v[0]])),this.currentPageIndex=v[0],this.app.updatePageIndex(this.currentPageIndex)}}class a extends s{constructor(v,C,j){super(v,C),this.imagesHref=j}load(){for(const v of this.imagesHref){const C=new i(this.render,v,"soft");C.load(),this.pages.push(C)}this.createSpread()}}class o{static GetDistanceBetweenTwoPoint(v,C){return v===null||C===null?1/0:Math.sqrt(Math.pow(C.x-v.x,2)+Math.pow(C.y-v.y,2))}static GetSegmentLength(v){return o.GetDistanceBetweenTwoPoint(v[0],v[1])}static GetAngleBetweenTwoLine(v,C){const j=v[0].y-v[1].y,T=C[0].y-C[1].y,P=v[1].x-v[0].x,z=C[1].x-C[0].x;return Math.acos((j*T+P*z)/(Math.sqrt(j*j+P*P)*Math.sqrt(T*T+z*z)))}static PointInRect(v,C){return C===null?null:C.x>=v.left&&C.x<=v.width+v.left&&C.y>=v.top&&C.y<=v.top+v.height?C:null}static GetRotatedPoint(v,C,j){return{x:v.x*Math.cos(j)+v.y*Math.sin(j)+C.x,y:v.y*Math.cos(j)-v.x*Math.sin(j)+C.y}}static LimitPointToCircle(v,C,j){if(o.GetDistanceBetweenTwoPoint(v,j)<=C)return j;const T=v.x,P=v.y,z=j.x,q=j.y;let R=Math.sqrt(Math.pow(C,2)*Math.pow(T-z,2)/(Math.pow(T-z,2)+Math.pow(P-q,2)))+T;j.x<0&&(R*=-1);let F=(R-T)*(P-q)/(T-z)+P;return T-z+P===0&&(F=C),{x:R,y:F}}static GetIntersectBetweenTwoSegment(v,C,j){return o.PointInRect(v,o.GetIntersectBeetwenTwoLine(C,j))}static GetIntersectBeetwenTwoLine(v,C){const j=v[0].y-v[1].y,T=C[0].y-C[1].y,P=v[1].x-v[0].x,z=C[1].x-C[0].x,q=v[0].x*v[1].y-v[1].x*v[0].y,R=C[0].x*C[1].y-C[1].x*C[0].y,F=j*R-T*q,$=P*R-z*q,W=-(q*z-R*P)/(j*z-T*P),he=-(j*R-T*q)/(j*z-T*P);if(isFinite(W)&&isFinite(he))return{x:W,y:he};if(Math.abs(F-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(v,C){const j=Math.abs(v.x-C.x),T=Math.abs(v.y-C.y),P=Math.max(j,T),z=[v];function q(R,F,$,W,he){return F>R?R+he*($/W):F<R?R-he*($/W):R}for(let R=1;R<=P;R+=1)z.push({x:q(v.x,C.x,j,P,R),y:q(v.y,C.y,T,P,R)});return z}}class l extends r{constructor(v,C,j){super(v,j),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=C,this.element.classList.add("stf__item"),this.element.classList.add("--"+j)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new l(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(v){const C=v||this.nowDrawingDensity,j=this.render.convertToGlobal(this.state.position),T=this.render.getRect().pageWidth,P=this.render.getRect().height;this.element.classList.remove("--simple");const z=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${T}px;
            height: ${P}px;
        `;C==="hard"?this.drawHard(z):this.drawSoft(j,z)}drawHard(v=""){const C=this.render.getRect().left+this.render.getRect().width/2,j=this.state.hardDrawingAngle,T=v+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${j}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${C}px, 0, 0) rotateY(${j}deg);`);this.element.style.cssText=T}drawSoft(v,C=""){let j="polygon( ";for(const P of this.state.area)if(P!==null){let z=this.render.getDirection()===1?{x:-P.x+this.state.position.x,y:P.y-this.state.position.y}:{x:P.x-this.state.position.x,y:P.y-this.state.position.y};z=o.GetRotatedPoint(z,{x:0,y:0},this.state.angle),j+=z.x+"px "+z.y+"px, "}j=j.slice(0,-2),j+=")";const T=C+`transform-origin: 0 0; clip-path: ${j}; -webkit-clip-path: ${j};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${v.x}px, ${v.y}px);`:`transform: translate3d(${v.x}px, ${v.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=T}simpleDraw(v){const C=this.render.getRect(),j=C.pageWidth,T=C.height,P=v===1?C.left+C.pageWidth:C.left,z=C.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${T}px; 
            left: ${P}px; 
            top: ${z}px; 
            width: ${j}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(v){super.setOrientation(v),this.element.classList.remove("--left","--right"),this.element.classList.add(v===1?"--right":"--left")}setDrawingDensity(v){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+v),super.setDrawingDensity(v)}}class u extends s{constructor(v,C,j,T){super(v,C),this.element=j,this.pagesElement=T}load(){for(const v of this.pagesElement){const C=new l(this.render,v,v.dataset.density==="hard"?"hard":"soft");C.load(),this.pages.push(C)}this.createSpread()}}class d{constructor(v,C,j,T){this.direction=v,this.corner=C,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(j,10),this.pageHeight=parseInt(T,10)}calc(v){try{return this.position=this.calcAngleAndPosition(v),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const v=[];let C=!1;return v.push(this.rect.topLeft),v.push(this.topIntersectPoint),this.sideIntersectPoint===null?C=!0:(v.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(C=!1)),v.push(this.bottomIntersectPoint),(C||this.corner==="bottom")&&v.push(this.rect.bottomLeft),v}getBottomClipArea(){const v=[];return v.push(this.topIntersectPoint),this.corner==="top"?v.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&v.push({x:this.pageWidth,y:0}),v.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?o.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&v.push(this.sideIntersectPoint):this.corner==="top"&&v.push({x:this.pageWidth,y:this.pageHeight}),v.push(this.bottomIntersectPoint),v.push(this.topIntersectPoint),v}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const v=o.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?v:Math.PI-v}calcAngleAndPosition(v){let C=v;if(this.updateAngleAndGeometry(C),C=this.corner==="top"?this.checkPositionAtCenterLine(C,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(C,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(C.x-this.pageWidth)<1&&Math.abs(C.y)<1)throw new Error("Point is too small");return C}updateAngleAndGeometry(v){this.angle=this.calculateAngle(v),this.rect=this.getPageRect(v)}calculateAngle(v){const C=this.pageWidth-v.x+1,j=this.corner==="bottom"?this.pageHeight-v.y:v.y;let T=2*Math.acos(C/Math.sqrt(j*j+C*C));j<0&&(T=-T);const P=Math.PI-T;if(!isFinite(T)||P>=0&&P<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(T=-T),T}getPageRect(v){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],v):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],v)}getRectFromBasePoint(v,C){return{topLeft:this.getRotatedPoint(v[0],C),topRight:this.getRotatedPoint(v[1],C),bottomLeft:this.getRotatedPoint(v[2],C),bottomRight:this.getRotatedPoint(v[3],C)}}getRotatedPoint(v,C){return{x:v.x*Math.cos(this.angle)+v.y*Math.sin(this.angle)+C.x,y:v.y*Math.cos(this.angle)-v.x*Math.sin(this.angle)+C.y}}calculateIntersectPoint(v){const C={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=o.GetIntersectBetweenTwoSegment(C,[v,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=o.GetIntersectBetweenTwoSegment(C,[v,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=o.GetIntersectBetweenTwoSegment(C,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=o.GetIntersectBetweenTwoSegment(C,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=o.GetIntersectBetweenTwoSegment(C,[v,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=o.GetIntersectBetweenTwoSegment(C,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(v,C,j){let T=v;const P=o.LimitPointToCircle(C,this.pageWidth,T);T!==P&&(T=P,this.updateAngleAndGeometry(T));const z=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let q=this.rect.bottomRight,R=this.rect.topLeft;if(this.corner==="bottom"&&(q=this.rect.topRight,R=this.rect.bottomLeft),q.x<=0){const F=o.LimitPointToCircle(j,z,R);F!==T&&(T=F,this.updateAngleAndGeometry(T))}return T}getSegmentToShadowLine(){const v=this.getShadowStartPoint();return[v,v!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class f{constructor(v,C){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=v,this.app=C}fold(v){this.setState("user_fold"),this.calc===null&&this.start(v),this.do(this.render.convertToPage(v))}flip(v){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(v)||(this.calc!==null&&this.render.finishAnimation(),!this.start(v)))return;const C=this.getBoundsRect();this.setState("flipping");const j=C.height/10,T=this.calc.getCorner()==="bottom"?C.height-j:j,P=this.calc.getCorner()==="bottom"?C.height:0;this.calc.calc({x:C.pageWidth-j,y:T}),this.animateFlippingTo({x:C.pageWidth-j,y:T},{x:-C.pageWidth,y:P},!0)}start(v){this.reset();const C=this.render.convertToBook(v),j=this.getBoundsRect(),T=this.getDirectionByPoint(C),P=C.y>=j.height/2?"bottom":"top";if(!this.checkDirection(T))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(T),this.bottomPage=this.app.getPageCollection().getBottomPage(T),this.render.getOrientation()==="landscape")if(T===1){const z=this.app.getPageCollection().nextBy(this.flippingPage);z!==null&&this.flippingPage.getDensity()!==z.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),z.setDrawingDensity("hard"))}else{const z=this.app.getPageCollection().prevBy(this.flippingPage);z!==null&&this.flippingPage.getDensity()!==z.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),z.setDrawingDensity("hard"))}return this.render.setDirection(T),this.calc=new d(T,P,j.pageWidth.toString(10),j.height.toString(10)),!0}catch{return!1}}do(v){if(this.calc!==null&&this.calc.calc(v)){const C=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*C)/100):this.flippingPage.setHardAngle(-90*(200-2*C)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),C,this.calc.getDirection())}}flipToPage(v,C){const j=this.app.getPageCollection().getCurrentSpreadIndex(),T=this.app.getPageCollection().getSpreadIndexByPage(v);try{T>j&&(this.app.getPageCollection().setCurrentSpreadIndex(T-1),this.flipNext(C)),T<j&&(this.app.getPageCollection().setCurrentSpreadIndex(T+1),this.flipPrev(C))}catch{}}flipNext(v){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:v==="top"?1:this.render.getRect().height-2})}flipPrev(v){this.flip({x:10,y:v==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const v=this.calc.getPosition(),C=this.getBoundsRect(),j=this.calc.getCorner()==="bottom"?C.height:0;v.x<=0?this.animateFlippingTo(v,{x:-C.pageWidth,y:j},!0):this.animateFlippingTo(v,{x:C.pageWidth,y:j},!1)}showCorner(v){if(!this.checkState("read","fold_corner"))return;const C=this.getBoundsRect(),j=C.pageWidth;if(this.isPointOnCorners(v))if(this.calc===null){if(!this.start(v))return;this.setState("fold_corner"),this.calc.calc({x:j-1,y:1});const T=50,P=this.calc.getCorner()==="bottom"?C.height-1:1,z=this.calc.getCorner()==="bottom"?C.height-T:T;this.animateFlippingTo({x:j-1,y:P},{x:j-T,y:z},!1,!1)}else this.do(this.render.convertToPage(v));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(v,C,j,T=!0){const P=o.GetCordsFromTwoPoint(v,C),z=[];for(const R of P)z.push(()=>this.do(R));const q=this.getAnimationDuration(P.length);this.render.startAnimation(z,q,()=>{this.calc&&(j&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),T&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(v){this.state!==v&&(this.app.updateState(v),this.state=v)}getDirectionByPoint(v){const C=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(v.x-C.pageWidth<=C.width/5)return 1}else if(v.x<C.width/2)return 1;return 0}getAnimationDuration(v){const C=this.app.getSettings().flippingTime;return v>=1e3?C:v/1e3*C}checkDirection(v){return v===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...v){for(const C of v)if(this.state===C)return!0;return!1}isPointOnCorners(v){const C=this.getBoundsRect(),j=C.pageWidth,T=Math.sqrt(Math.pow(j,2)+Math.pow(C.height,2))/5,P=this.render.convertToBook(v);return P.x>0&&P.y>0&&P.x<C.width&&P.y<C.height&&(P.x<T||P.x>C.width-T)&&(P.y<T||P.y>C.height-T)}}class h{constructor(v,C){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=C,this.app=v;const j=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=j.exec(window.navigator.userAgent)!==null}render(v){if(this.animation!==null){const C=Math.round((v-this.animation.startedAt)/this.animation.durationFrame);C<this.animation.frames.length?this.animation.frames[C]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=v,this.drawFrame()}start(){this.update();const v=C=>{this.render(C),requestAnimationFrame(v)};requestAnimationFrame(v)}startAnimation(v,C,j){this.finishAnimation(),this.animation={frames:v,duration:C,durationFrame:C/v.length,onAnimateEnd:j,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const v=this.calculateBoundsRect();this.orientation!==v&&(this.orientation=v,this.app.updateOrientation(v))}calculateBoundsRect(){let v="landscape";const C=this.getBlockWidth(),j=C/2,T=this.getBlockHeight()/2,P=this.setting.width/this.setting.height;let z=this.setting.width,q=this.setting.height,R=j-z;return this.setting.size==="stretch"?(C<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(v="portrait"),z=v==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,z>this.setting.maxWidth&&(z=this.setting.maxWidth),q=z/P,q>this.getBlockHeight()&&(q=this.getBlockHeight(),z=q*P),R=v==="portrait"?j-z/2-z:j-z):C<2*z&&this.app.getSettings().usePortrait&&(v="portrait",R=j-z/2-z),this.boundsRect={left:R,top:T-q/2,width:2*z,height:q,pageWidth:z},v}setShadowData(v,C,j,T){if(!this.app.getSettings().drawShadow)return;const P=100*this.getSettings().maxShadowOpacity;this.shadow={pos:v,angle:C,width:3*this.getRect().pageWidth/4*j/100,opacity:(100-j)*P/100/100,direction:T,progress:2*j}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(v){this.pageRect=v}setDirection(v){this.direction=v}setRightPage(v){v!==null&&v.setOrientation(1),this.rightPage=v}setLeftPage(v){v!==null&&v.setOrientation(0),this.leftPage=v}setBottomPage(v){v!==null&&v.setOrientation(this.direction===1?0:1),this.bottomPage=v}setFlippingPage(v){v!==null&&v.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=v}convertToBook(v){const C=this.getRect();return{x:v.x-C.left,y:v.y-C.top}}isSafari(){return this.safari}convertToPage(v,C){C||(C=this.direction);const j=this.getRect();return{x:C===0?v.x-j.left-j.width/2:j.width/2-v.x+j.left,y:v.y-j.top}}convertToGlobal(v,C){if(C||(C=this.direction),v==null)return null;const j=this.getRect();return{x:C===0?v.x+j.left+j.width/2:j.width/2-v.x+j.left,y:v.y+j.top}}convertRectToGlobal(v,C){return C||(C=this.direction),{topLeft:this.convertToGlobal(v.topLeft,C),topRight:this.convertToGlobal(v.topRight,C),bottomLeft:this.convertToGlobal(v.bottomLeft,C),bottomRight:this.convertToGlobal(v.bottomRight,C)}}}class p extends h{constructor(v,C,j){super(v,C),this.canvas=j,this.ctx=j.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const v=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(v.left+v.pageWidth,v.top,v.width,v.height),this.ctx.clip())}drawBookShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const C=v.width/20;this.ctx.rect(v.left,v.top,v.width,v.height);const j={x:v.left+v.width/2-C/2,y:0};this.ctx.translate(j.x,j.y);const T=this.ctx.createLinearGradient(0,0,C,0);T.addColorStop(0,"rgba(0, 0, 0, 0)"),T.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),T.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),T.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),T.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),T.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=T,this.ctx.fillRect(0,0,C,2*v.height),this.ctx.restore()}drawOuterShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(v.left,v.top,v.width,v.height);const C=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(C.x,C.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const j=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),j.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),j.addColorStop(0,"rgba(0, 0, 0, 0)"),j.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=j,this.ctx.fillRect(0,0,this.shadow.width,2*v.height),this.ctx.restore()}drawInnerShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const C=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),j=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(j.topLeft.x,j.topLeft.y),this.ctx.lineTo(j.topRight.x,j.topRight.y),this.ctx.lineTo(j.bottomRight.x,j.bottomRight.y),this.ctx.lineTo(j.bottomLeft.x,j.bottomLeft.y),this.ctx.translate(C.x,C.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const T=3*this.shadow.width/4,P=this.ctx.createLinearGradient(0,0,T,0);this.shadow.direction===0?(this.ctx.translate(-T,-100),P.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),P.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),P.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),P.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),P.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),P.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),P.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),P.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=P,this.ctx.fillRect(0,0,T,2*v.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class y{constructor(v,C,j){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=P=>{if(this.checkTarget(P.target)){const z=this.getMousePos(P.clientX,P.clientY);this.app.startUserTouch(z),P.preventDefault()}},this.onTouchStart=P=>{if(this.checkTarget(P.target)&&P.changedTouches.length>0){const z=P.changedTouches[0],q=this.getMousePos(z.clientX,z.clientY);this.touchPoint={point:q,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(q)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||P.preventDefault()}},this.onMouseUp=P=>{const z=this.getMousePos(P.clientX,P.clientY);this.app.userStop(z)},this.onMouseMove=P=>{const z=this.getMousePos(P.clientX,P.clientY);this.app.userMove(z,!1)},this.onTouchMove=P=>{if(P.changedTouches.length>0){const z=P.changedTouches[0],q=this.getMousePos(z.clientX,z.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-q.x)>10||this.app.getState()!=="read")&&P.cancelable&&this.app.userMove(q,!0),this.app.getState()!=="read"&&P.preventDefault()):this.app.userMove(q,!0)}},this.onTouchEnd=P=>{if(P.changedTouches.length>0){const z=P.changedTouches[0],q=this.getMousePos(z.clientX,z.clientY);let R=!1;if(this.touchPoint!==null){const F=q.x-this.touchPoint.point.x,$=Math.abs(q.y-this.touchPoint.point.y);Math.abs(F)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(F>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),R=!0),this.touchPoint=null}this.app.userStop(q,R)}},this.parentElement=v,v.classList.add("stf__parent"),v.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=v.querySelector(".stf__wrapper"),this.app=C;const T=this.app.getSettings().usePortrait?1:2;v.style.minWidth=j.minWidth*T+"px",v.style.minHeight=j.minHeight+"px",j.size==="fixed"&&(v.style.minWidth=j.width*T+"px",v.style.minHeight=j.height+"px"),j.autoSize&&(v.style.width="100%",v.style.maxWidth=2*j.maxWidth+"px"),v.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=j.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(v){this.wrapper.classList.remove("--portrait","--landscape"),v==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(v,C){const j=this.distElement.getBoundingClientRect();return{x:v-j.left,y:C-j.top}}checkTarget(v){return!this.app.getSettings().clickEventForward||!["a","button"].includes(v.tagName.toLowerCase())}}class x extends y{constructor(v,C,j,T){super(v,C,j),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=v.querySelector(".stf__block"),this.items=T;for(const P of T)this.distElement.appendChild(P);this.setHandlers()}clear(){for(const v of this.items)this.parentElement.appendChild(v)}updateItems(v){this.removeHandlers(),this.distElement.innerHTML="";for(const C of v)this.distElement.appendChild(C);this.items=v,this.setHandlers()}update(){this.app.getRender().update()}}class _ extends y{constructor(v,C,j){super(v,C,j),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=v.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const v=getComputedStyle(this.canvas),C=parseInt(v.getPropertyValue("width"),10),j=parseInt(v.getPropertyValue("height"),10);this.canvas.width=C,this.canvas.height=j}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class w extends h{constructor(v,C,j){super(v,C),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=j,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const v=this.getRect(),C=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let j=(100-C)*(2.5*v.pageWidth)/100+20;j>v.pageWidth&&(j=v.pageWidth);let T=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${j}px;
            height: ${v.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*C/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;T+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=T}drawHardOuterShadow(){const v=this.getRect();let C=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*v.pageWidth)/100+20;C>v.pageWidth&&(C=v.pageWidth);let j=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${C}px;
            height: ${v.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;j+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=j}drawInnerShadow(){const v=this.getRect(),C=3*this.shadow.width/4,j=this.getDirection()===0?C:0,T=this.getDirection()===0?"to left":"to right",P=this.convertToGlobal(this.shadow.pos),z=this.shadow.angle+3*Math.PI/2,q=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let R="polygon( ";for(const $ of q){let W=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};W=o.GetRotatedPoint(W,{x:j,y:100},z),R+=W.x+"px "+W.y+"px, "}R=R.slice(0,-2),R+=")";const F=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${C}px;
            height: ${2*v.height}px;
            background: linear-gradient(${T},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${j}px 100px;
            transform: translate3d(${P.x-j}px, ${P.y-100}px, 0) rotate(${z}rad);
            clip-path: ${R};
            -webkit-clip-path: ${R};
        `;this.innerShadow.style.cssText=F}drawOuterShadow(){const v=this.getRect(),C=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),j=this.shadow.angle+3*Math.PI/2,T=this.getDirection()===1?this.shadow.width:0,P=this.getDirection()===0?"to right":"to left",z=[{x:0,y:0},{x:v.pageWidth,y:0},{x:v.pageWidth,y:v.height},{x:0,y:v.height}];let q="polygon( ";for(const F of z)if(F!==null){let $=this.getDirection()===1?{x:-F.x+this.shadow.pos.x,y:F.y-this.shadow.pos.y}:{x:F.x-this.shadow.pos.x,y:F.y-this.shadow.pos.y};$=o.GetRotatedPoint($,{x:T,y:100},j),q+=$.x+"px "+$.y+"px, "}q=q.slice(0,-2),q+=")";const R=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*v.height}px;
            background: linear-gradient(${P}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${T}px 100px;
            transform: translate3d(${C.x-T}px, ${C.y-100}px, 0) rotate(${j}rad);
            clip-path: ${q};
            -webkit-clip-path: ${q};
        `;this.outerShadow.style.cssText=R}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const v=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(v))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const v of this.app.getPageCollection().getPages())v!==this.leftPage&&v!==this.rightPage&&v!==this.flippingPage&&v!==this.bottomPage&&(v.getElement().style.cssText="display: none"),v.getTemporaryCopy()!==this.flippingPage&&v.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class A{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(v){const C=this._default;if(Object.assign(C,v),C.size!=="stretch"&&C.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(C.width<=0||C.height<=0)throw new Error("Invalid width or height");if(C.flippingTime<=0)throw new Error("Invalid flipping time");return C.size==="stretch"?(C.minWidth<=0&&(C.minWidth=100),C.maxWidth<C.minWidth&&(C.maxWidth=2e3),C.minHeight<=0&&(C.minHeight=100),C.maxHeight<C.minHeight&&(C.maxHeight=2e3)):(C.minWidth=C.width,C.maxWidth=C.width,C.minHeight=C.height,C.maxHeight=C.height),C}}(function(S,v){v===void 0&&(v={});var C=v.insertAt;if(typeof document<"u"){var j=document.head||document.getElementsByTagName("head")[0],T=document.createElement("style");T.type="text/css",C==="top"&&j.firstChild?j.insertBefore(T,j.firstChild):j.appendChild(T),T.styleSheet?T.styleSheet.cssText=S:T.appendChild(document.createTextNode(S))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),t.PageFlip=class extends class{constructor(){this.events=new Map}on(S,v){return this.events.has(S)?this.events.get(S).push(v):this.events.set(S,[v]),this}off(S){this.events.delete(S)}trigger(S,v,C=null){if(this.events.has(S))for(const j of this.events.get(S))j({data:C,object:v})}}{constructor(S,v){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new A().getSettings(v),this.block=S}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(S){this.ui=new _(this.block,this,this.setting);const v=this.ui.getCanvas();this.render=new p(this,this.setting,v),this.flipController=new f(this.render,this),this.pages=new a(this,this.render,S),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(S){this.ui=new x(this.block,this,this.setting,S),this.render=new w(this,this.setting,this.ui.getDistElement()),this.flipController=new f(this.render,this),this.pages=new u(this,this.render,this.ui.getDistElement(),S),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(S){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new a(this,this.render,S),this.pages.load(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}updateFromHtml(S){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new u(this,this.render,this.ui.getDistElement(),S),this.pages.load(),this.ui.updateItems(S),this.render.reload(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(S){this.pages.show(S)}flipNext(S="top"){this.flipController.flipNext(S)}flipPrev(S="top"){this.flipController.flipPrev(S)}flip(S,v="top"){this.flipController.flipToPage(S,v)}updateState(S){this.trigger("changeState",this,S)}updatePageIndex(S){this.trigger("flip",this,S)}updateOrientation(S){this.ui.setOrientationStyle(S),this.update(),this.trigger("changeOrientation",this,S)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(S){return this.pages.getPage(S)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(S){this.mousePosition=S,this.isUserTouch=!0,this.isUserMove=!1}userMove(S,v){this.isUserTouch||v||!this.setting.showPageCorners?this.isUserTouch&&o.GetDistanceBetweenTwoPoint(this.mousePosition,S)>5&&(this.isUserMove=!0,this.flipController.fold(S)):this.flipController.showCorner(S)}userStop(S,v=!1){this.isUserTouch&&(this.isUserTouch=!1,v||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(S)))}},Object.defineProperty(t,"__esModule",{value:!0})})})(s_,s_.exports);var dV=s_.exports;const hV=Qu.forwardRef((n,e)=>{const t=ie.useRef(null),r=ie.useRef([]),i=ie.useRef(),[s,a]=ie.useState([]);ie.useImperativeHandle(e,()=>({pageFlip:()=>i.current}));const o=ie.useCallback(()=>{i.current&&i.current.clear()},[]),l=ie.useCallback(()=>{const u=i.current;u&&(u.off("flip"),u.off("changeOrientation"),u.off("changeState"),u.off("init"),u.off("update"))},[]);return ie.useEffect(()=>{if(r.current=[],n.children){const u=Qu.Children.map(n.children,d=>Qu.cloneElement(d,{ref:f=>{f&&r.current.push(f)}}));(!n.renderOnlyPageLengthChange||s.length!==u.length)&&(u.length<s.length&&o(),a(u))}},[n.children]),ie.useEffect(()=>{const u=()=>{const d=i.current;d&&(n.onFlip&&d.on("flip",f=>n.onFlip(f)),n.onChangeOrientation&&d.on("changeOrientation",f=>n.onChangeOrientation(f)),n.onChangeState&&d.on("changeState",f=>n.onChangeState(f)),n.onInit&&d.on("init",f=>n.onInit(f)),n.onUpdate&&d.on("update",f=>n.onUpdate(f)))};s.length>0&&r.current.length>0&&(l(),t.current&&!i.current&&(i.current=new dV.PageFlip(t.current,n)),i.current.getFlipController()?i.current.updateFromHtml(r.current):i.current.loadFromHTML(r.current),u())},[s]),Qu.createElement("div",{ref:t,className:n.className,style:n.style},s)}),fV=Qu.memo(hV),pV="modulepreload",gV=function(n){return"/"+n},Nj={},hh=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(t.map(o=>{if(o=gV(o),o in Nj)return;Nj[o]=!0;const l=o.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":pV,l||(d.as="script",d.crossOrigin=""),d.href=o,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var Q0={};Q0.d=(n,e)=>{for(var t in e)Q0.o(e,t)&&!Q0.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Q0.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var kt=globalThis.pdfjsLib={};Q0.d(kt,{AbortException:()=>Vf,AnnotationEditorLayer:()=>gk,AnnotationEditorParamsType:()=>Nt,AnnotationEditorType:()=>Jt,AnnotationEditorUIManager:()=>Lf,AnnotationLayer:()=>fK,AnnotationMode:()=>ju,CMapCompressionType:()=>o_,ColorPicker:()=>Ib,DOMSVGFactory:()=>pE,DrawLayer:()=>wk,FeatureTest:()=>Ss,GlobalWorkerOptions:()=>bc,ImageKind:()=>d2,InvalidPDFException:()=>K6,MissingPDFException:()=>Wf,OPS:()=>ro,Outliner:()=>X_,PDFDataRangeTransport:()=>$R,PDFDateString:()=>tR,PDFWorker:()=>rg,PasswordResponses:()=>wV,PermissionFlag:()=>yV,PixelsPerInch:()=>bd,RenderingCancelledException:()=>gE,TextLayer:()=>Tb,UnexpectedResponseException:()=>Xx,Util:()=>ht,VerbosityLevel:()=>Gx,XfaLayer:()=>WR,build:()=>GG,createValidAbsoluteUrl:()=>AV,fetchData:()=>t5,getDocument:()=>DG,getFilenameFromUrl:()=>RV,getPdfFilenameFromUrl:()=>IV,getXfaPageViewport:()=>FV,isDataScheme:()=>mE,isPdfFile:()=>vE,noContextMenu:()=>js,normalizeUnicode:()=>jV,renderTextLayer:()=>jG,setLayerDimensions:()=>Pf,shadow:()=>nn,updateTextLayer:()=>PG,version:()=>VG});const Mi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),G6=[1,0,0,1,0,0],a_=[.001,0,0,.001,0,0],mV=1e7,xS=1.35,ka={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},ju={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},vV="pdfjs_internal_editor_",Jt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Nt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},yV={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ji={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},d2={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Rr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},c0={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Gx={ERRORS:0,WARNINGS:1,INFOS:5},o_={NONE:0,BINARY:1},ro={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},wV={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Kx=Gx.WARNINGS;function bV(n){Number.isInteger(n)&&(Kx=n)}function xV(){return Kx}function Yx(n){Kx>=Gx.INFOS&&console.log(`Info: ${n}`)}function zt(n){Kx>=Gx.WARNINGS&&console.log(`Warning: ${n}`)}function En(n){throw new Error(n)}function Ur(n,e){n||En(e)}function SV(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function AV(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=NV(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(SV(r))return r}catch{}return null}function nn(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Rd=function(){function e(t,r){this.constructor===e&&En("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class l_ extends Rd{constructor(e,t){super(e,"PasswordException"),this.code=t}}class c_ extends Rd{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class K6 extends Rd{constructor(e){super(e,"InvalidPDFException")}}class Wf extends Rd{constructor(e){super(e,"MissingPDFException")}}class Xx extends Rd{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class _V extends Rd{constructor(e){super(e,"FormatError")}}class Vf extends Rd{constructor(e){super(e,"AbortException")}}function Y6(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&En("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function Jx(n){typeof n!="string"&&En("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function kV(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function hE(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function CV(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function EV(){try{return new Function(""),!0}catch{return!1}}class Ss{static get isLittleEndian(){return nn(this,"isLittleEndian",CV())}static get isEvalSupported(){return nn(this,"isEvalSupported",EV())}static get isOffscreenCanvasSupported(){return nn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?nn(this,"platform",{isMac:navigator.platform.includes("Mac")}):nn(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return nn(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const SS=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Sc,h2,u_;class ht{static makeHexColor(e,t,r){return`#${SS[e]}${SS[t]}${SS[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],a[0]),Math.min(r[1],i[1],s[1],a[1]),Math.max(r[0],i[0],s[0],a[0]),Math.max(r[1],i[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(r+a)/2,l=Math.sqrt((r+a)**2-4*(r*a-s*i))/2,u=o+l||1,d=o-l||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static bezierBoundingBox(e,t,r,i,s,a,o,l,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,o),Math.min(t,l),Math.max(e,o),Math.max(t,l)],Z(this,Sc,u_).call(this,e,r,s,o,t,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),u),Z(this,Sc,u_).call(this,e,r,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),u),u}}Sc=new WeakSet,h2=function(e,t,r,i,s,a,o,l,u,d){if(u<=0||u>=1)return;const f=1-u,h=u*u,p=h*u,y=f*(f*(f*e+3*u*t)+3*h*r)+p*i,x=f*(f*(f*s+3*u*a)+3*h*o)+p*l;d[0]=Math.min(d[0],y),d[1]=Math.min(d[1],x),d[2]=Math.max(d[2],y),d[3]=Math.max(d[3],x)},u_=function(e,t,r,i,s,a,o,l,u,d,f,h){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&Z(this,Sc,h2).call(this,e,t,r,i,s,a,o,l,-f/d,h);return}const p=d**2-4*f*u;if(p<0)return;const y=Math.sqrt(p),x=2*u;Z(this,Sc,h2).call(this,e,t,r,i,s,a,o,l,(-d+y)/x,h),Z(this,Sc,h2).call(this,e,t,r,i,s,a,o,l,(-d-y)/x,h)},te(ht,Sc);function NV(n){return decodeURIComponent(escape(n))}let AS=null,jj=null;function jV(n){return AS||(AS=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,jj=new Map([["","t"]])),n.replaceAll(AS,(e,t,r)=>t?t.normalize("NFKC"):jj.get(r))}function PV(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return Y6(n)}const X6="pdfjs_internal_id_",Ml={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Qx{constructor(){this.constructor===Qx&&En("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var D1;const CE=class CE{constructor({enableHWA:e=!1}={}){te(this,D1,!1);this.constructor===CE&&En("Cannot initialize BaseCanvasFactory."),Y(this,D1,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!m(this,D1)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){En("Abstract method `_createCanvas` called.")}};D1=new WeakMap;let Nb=CE;class Zx{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Zx&&En("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?o_.BINARY:o_.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){En("Abstract method `_fetchData` called.")}}class e5{constructor({baseUrl:e=null}){this.constructor===e5&&En("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){En("Abstract method `_fetchData` called.")}}class fE{constructor(){this.constructor===fE&&En("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){En("Abstract method `_createSVG` called.")}}const Bl="http://www.w3.org/2000/svg",ah=class ah{};Et(ah,"CSS",96),Et(ah,"PDF",72),Et(ah,"PDF_TO_CSS_UNITS",ah.CSS/ah.PDF);let bd=ah;var ph,Go,Gl,gs,Ob,gh,dt,Pi,Np,jp,f2,J6,d_,Pp,b0,x0,h_,S0;class LV extends Qx{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();te(this,dt);te(this,ph);te(this,Go);te(this,Gl);te(this,gs);te(this,Ob);te(this,gh,0);Y(this,Gl,t),Y(this,gs,r)}addFilter(t){if(!t)return"none";let r=m(this,dt,Pi).get(t);if(r)return r;const[i,s,a]=Z(this,dt,f2).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(r=m(this,dt,Pi).get(o),r)return m(this,dt,Pi).set(t,r),r;const l=`g_${m(this,Gl)}_transfer_map_${Hs(this,gh)._++}`,u=`url(#${l})`;m(this,dt,Pi).set(t,u),m(this,dt,Pi).set(o,u);const d=Z(this,dt,Pp).call(this,l);return Z(this,dt,x0).call(this,i,s,a,d),u}addHCMFilter(t,r){var y;const i=`${t}-${r}`,s="base";let a=m(this,dt,Np).get(s);if((a==null?void 0:a.key)===i||(a?((y=a.filter)==null||y.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},m(this,dt,Np).set(s,a)),!t||!r))return a.url;const o=Z(this,dt,S0).call(this,t);t=ht.makeHexColor(...o);const l=Z(this,dt,S0).call(this,r);if(r=ht.makeHexColor(...l),m(this,dt,jp).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const u=new Array(256);for(let x=0;x<=255;x++){const _=x/255;u[x]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const d=u.join(","),f=`g_${m(this,Gl)}_hcm_filter`,h=a.filter=Z(this,dt,Pp).call(this,f);Z(this,dt,x0).call(this,d,d,d,h),Z(this,dt,d_).call(this,h);const p=(x,_)=>{const w=o[x]/255,A=l[x]/255,S=new Array(_+1);for(let v=0;v<=_;v++)S[v]=w+v/_*(A-w);return S.join(",")};return Z(this,dt,x0).call(this,p(0,5),p(1,5),p(2,5),h),a.url=`url(#${f})`,a.url}addAlphaFilter(t){let r=m(this,dt,Pi).get(t);if(r)return r;const[i]=Z(this,dt,f2).call(this,[t]),s=`alpha_${i}`;if(r=m(this,dt,Pi).get(s),r)return m(this,dt,Pi).set(t,r),r;const a=`g_${m(this,Gl)}_alpha_map_${Hs(this,gh)._++}`,o=`url(#${a})`;m(this,dt,Pi).set(t,o),m(this,dt,Pi).set(s,o);const l=Z(this,dt,Pp).call(this,a);return Z(this,dt,h_).call(this,i,l),o}addLuminosityFilter(t){let r=m(this,dt,Pi).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=Z(this,dt,f2).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=m(this,dt,Pi).get(s),r)return m(this,dt,Pi).set(t,r),r;const a=`g_${m(this,Gl)}_luminosity_map_${Hs(this,gh)._++}`,o=`url(#${a})`;m(this,dt,Pi).set(t,o),m(this,dt,Pi).set(s,o);const l=Z(this,dt,Pp).call(this,a);return Z(this,dt,J6).call(this,l),t&&Z(this,dt,h_).call(this,i,l),o}addHighlightHCMFilter(t,r,i,s,a){var A;const o=`${r}-${i}-${s}-${a}`;let l=m(this,dt,Np).get(t);if((l==null?void 0:l.key)===o||(l?((A=l.filter)==null||A.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},m(this,dt,Np).set(t,l)),!r||!i))return l.url;const[u,d]=[r,i].map(Z(this,dt,S0).bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),h=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,y]=[s,a].map(Z(this,dt,S0).bind(this));h<f&&([f,h,p,y]=[h,f,y,p]),m(this,dt,jp).style.color="";const x=(S,v,C)=>{const j=new Array(256),T=(h-f)/C,P=S/255,z=(v-S)/(255*C);let q=0;for(let R=0;R<=C;R++){const F=Math.round(f+R*T),$=P+R*z;for(let W=q;W<=F;W++)j[W]=$;q=F+1}for(let R=q;R<256;R++)j[R]=j[q-1];return j.join(",")},_=`g_${m(this,Gl)}_hcm_${t}_filter`,w=l.filter=Z(this,dt,Pp).call(this,_);return Z(this,dt,d_).call(this,w),Z(this,dt,x0).call(this,x(p[0],y[0],5),x(p[1],y[1],5),x(p[2],y[2],5),w),l.url=`url(#${_})`,l.url}destroy(t=!1){t&&m(this,dt,Np).size!==0||(m(this,Go)&&(m(this,Go).parentNode.parentNode.remove(),Y(this,Go,null)),m(this,ph)&&(m(this,ph).clear(),Y(this,ph,null)),Y(this,gh,0))}}ph=new WeakMap,Go=new WeakMap,Gl=new WeakMap,gs=new WeakMap,Ob=new WeakMap,gh=new WeakMap,dt=new WeakSet,Pi=function(){return m(this,ph)||Y(this,ph,new Map)},Np=function(){return m(this,Ob)||Y(this,Ob,new Map)},jp=function(){if(!m(this,Go)){const t=m(this,gs).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=m(this,gs).createElementNS(Bl,"svg");i.setAttribute("width",0),i.setAttribute("height",0),Y(this,Go,m(this,gs).createElementNS(Bl,"defs")),t.append(i),i.append(m(this,Go)),m(this,gs).body.append(t)}return m(this,Go)},f2=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let h=0;h<256;h++)d[h]=u[h]/255;const f=d.join(",");return[f,f,f]}const[r,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=r[u]/255,o[u]=i[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},J6=function(t){const r=m(this,gs).createElementNS(Bl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},d_=function(t){const r=m(this,gs).createElementNS(Bl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Pp=function(t){const r=m(this,gs).createElementNS(Bl,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),m(this,dt,jp).append(r),r},b0=function(t,r,i){const s=m(this,gs).createElementNS(Bl,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},x0=function(t,r,i,s){const a=m(this,gs).createElementNS(Bl,"feComponentTransfer");s.append(a),Z(this,dt,b0).call(this,a,"feFuncR",t),Z(this,dt,b0).call(this,a,"feFuncG",r),Z(this,dt,b0).call(this,a,"feFuncB",i)},h_=function(t,r){const i=m(this,gs).createElementNS(Bl,"feComponentTransfer");r.append(i),Z(this,dt,b0).call(this,i,"feFuncA",t)},S0=function(t){return m(this,dt,jp).style.color=t,yE(getComputedStyle(m(this,dt,jp)).getPropertyValue("color"))};class TV extends Nb{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function t5(n,e="text"){if(A0(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Q6 extends Zx{_fetchData(e,t){return t5(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):Jx(r),compressionType:t}))}}class Z6 extends e5{_fetchData(e){return t5(e,"arraybuffer").then(t=>new Uint8Array(t))}}class pE extends fE{_createSVG(e){return document.createElementNS(Bl,e)}}class jy{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,d,f,h;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,d=0,f=0,h=1;break;case 90:u=0,d=1,f=1,h=0;break;case 270:u=0,d=-1,f=-1,h=0;break;case 0:u=1,d=0,f=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,h=-h);let p,y,x,_;u===0?(p=Math.abs(l-e[1])*t+i,y=Math.abs(o-e[0])*t+s,x=(e[3]-e[1])*t,_=(e[2]-e[0])*t):(p=Math.abs(o-e[0])*t+i,y=Math.abs(l-e[1])*t+s,x=(e[2]-e[0])*t,_=(e[3]-e[1])*t),this.transform=[u*t,d*t,f*t,h*t,p-u*t*o-f*t*l,y-d*t*o-h*t*l],this.width=x,this.height=_}get rawDims(){const{viewBox:e}=this;return nn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new jy({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return ht.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=ht.applyTransform([e[0],e[1]],this.transform),r=ht.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return ht.applyInverseTransform([e,t],this.transform)}}class gE extends Rd{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function mE(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function vE(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function RV(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function IV(n,e="document.pdf"){if(typeof n!="string")return e;if(mE(n))return zt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class Pj{constructor(){Et(this,"started",Object.create(null));Et(this,"times",[])}time(e){e in this.started&&zt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||zt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function A0(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function js(n){n.preventDefault()}function eR(n){console.log("Deprecated API usage: "+n)}let Lj;class tR{static toDateObject(e){if(!e||typeof e!="string")return null;Lj||(Lj=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=Lj.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,u==="-"?(a+=d,o+=f):u==="+"&&(a-=d,o-=f),new Date(Date.UTC(r,i,s,a,o,l))}}function FV(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new jy({viewBox:s,scale:e,rotation:t})}function yE(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(zt(`Not a valid color format: "${n}"`),[0,0,0])}function MV(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,yE(r))}e.remove()}function tr(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function Ol(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function Pf(n,e,t=!1,r=!0){if(e instanceof jy){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,o=Ss.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${s}px`,d=o?`round(${l}, 1px)`:`calc(${l})`,f=o?`round(${u}, 1px)`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=f):(a.width=f,a.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}var mh,vh,Ws,yh,Db,nR,Ji,rR,iR,p2,sR,p_;const Bb=class Bb{constructor(e){te(this,Ji);te(this,mh,null);te(this,vh,null);te(this,Ws);te(this,yh,null);Y(this,Ws,e)}render(){const e=Y(this,mh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=m(this,Ws)._uiManager._signal;e.addEventListener("contextmenu",js,{signal:t}),e.addEventListener("pointerdown",Z(Bb,Db,nR),{signal:t});const r=Y(this,yh,document.createElement("div"));r.className="buttons",e.append(r);const i=m(this,Ws).toolbarPosition;if(i){const{style:s}=e,a=m(this,Ws)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return Z(this,Ji,sR).call(this),e}hide(){var e;m(this,mh).classList.add("hidden"),(e=m(this,vh))==null||e.hideDropdown()}show(){m(this,mh).classList.remove("hidden")}addAltTextButton(e){Z(this,Ji,p2).call(this,e),m(this,yh).prepend(e,m(this,Ji,p_))}addColorPicker(e){Y(this,vh,e);const t=e.renderButton();Z(this,Ji,p2).call(this,t),m(this,yh).prepend(t,m(this,Ji,p_))}remove(){var e;m(this,mh).remove(),(e=m(this,vh))==null||e.destroy(),Y(this,vh,null)}};mh=new WeakMap,vh=new WeakMap,Ws=new WeakMap,yh=new WeakMap,Db=new WeakSet,nR=function(e){e.stopPropagation()},Ji=new WeakSet,rR=function(e){m(this,Ws)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},iR=function(e){m(this,Ws)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},p2=function(e){const t=m(this,Ws)._uiManager._signal;e.addEventListener("focusin",Z(this,Ji,rR).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",Z(this,Ji,iR).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",js,{signal:t})},sR=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${m(this,Ws).editorType}-button`),Z(this,Ji,p2).call(this,e),e.addEventListener("click",t=>{m(this,Ws)._uiManager.delete()},{signal:m(this,Ws)._uiManager._signal}),m(this,yh).append(e)},p_=function(){const e=document.createElement("div");return e.className="divider",e},te(Bb,Db);let f_=Bb;var B1,wh,bh,Ad,aR,oR,lR;class OV{constructor(e){te(this,Ad);te(this,B1,null);te(this,wh,null);te(this,bh);Y(this,bh,e)}show(e,t,r){const[i,s]=Z(this,Ad,oR).call(this,t,r),{style:a}=m(this,wh)||Y(this,wh,Z(this,Ad,aR).call(this));e.append(m(this,wh)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,wh).remove()}}B1=new WeakMap,wh=new WeakMap,bh=new WeakMap,Ad=new WeakSet,aR=function(){const e=Y(this,wh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",js,{signal:m(this,bh)._signal});const t=Y(this,B1,document.createElement("div"));return t.className="buttons",e.append(t),Z(this,Ad,lR).call(this),e},oR=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(t?s.width:0);if(a>r){i=o,r=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,r]},lR=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=m(this,bh)._signal;e.addEventListener("contextmenu",js,{signal:r}),e.addEventListener("click",()=>{m(this,bh).highlightSelection("floating_button")},{signal:r}),m(this,B1).append(e)};function jb(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function DV(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var zb;class BV{constructor(){te(this,zb,0)}get id(){return`${vV}${Hs(this,zb)._++}`}}zb=new WeakMap;var z1,Ub,xa,U1,m_;const EE=class EE{constructor(){te(this,U1);te(this,z1,PV());te(this,Ub,0);te(this,xa,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return nn(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return Z(this,U1,m_).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return Z(this,U1,m_).call(this,e,e)}async getFromId(e){m(this,xa)||Y(this,xa,new Map);const t=m(this,xa).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=m(this,xa).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){m(this,xa)||Y(this,xa,new Map);const t=m(this,xa).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${m(this,z1)}_`)}};z1=new WeakMap,Ub=new WeakMap,xa=new WeakMap,U1=new WeakSet,m_=async function(e,t){m(this,xa)||Y(this,xa,new Map);let r=m(this,xa).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${m(this,z1)}_${Hs(this,Ub)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await t5(t,"blob")):i=r.file=t,i.type==="image/svg+xml"){const s=EE._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},a.onload=async()=>{const f=r.svgUrl=a.result;o.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return m(this,xa).set(e,r),r&&m(this,xa).set(r.id,r),r};let g_=EE;var Kr,Lu,H1,Yr;class zV{constructor(e=128){te(this,Kr,[]);te(this,Lu,!1);te(this,H1);te(this,Yr,-1);Y(this,H1,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),m(this,Lu))return;const l={cmd:e,undo:t,post:r,type:s};if(m(this,Yr)===-1){m(this,Kr).length>0&&(m(this,Kr).length=0),Y(this,Yr,0),m(this,Kr).push(l);return}if(a&&m(this,Kr)[m(this,Yr)].type===s){o&&(l.undo=m(this,Kr)[m(this,Yr)].undo),m(this,Kr)[m(this,Yr)]=l;return}const u=m(this,Yr)+1;u===m(this,H1)?m(this,Kr).splice(0,1):(Y(this,Yr,u),u<m(this,Kr).length&&m(this,Kr).splice(u)),m(this,Kr).push(l)}undo(){if(m(this,Yr)===-1)return;Y(this,Lu,!0);const{undo:e,post:t}=m(this,Kr)[m(this,Yr)];e(),t==null||t(),Y(this,Lu,!1),Y(this,Yr,m(this,Yr)-1)}redo(){if(m(this,Yr)<m(this,Kr).length-1){Y(this,Yr,m(this,Yr)+1),Y(this,Lu,!0);const{cmd:e,post:t}=m(this,Kr)[m(this,Yr)];e(),t==null||t(),Y(this,Lu,!1)}}hasSomethingToUndo(){return m(this,Yr)!==-1}hasSomethingToRedo(){return m(this,Yr)<m(this,Kr).length-1}destroy(){Y(this,Kr,null)}}Kr=new WeakMap,Lu=new WeakMap,H1=new WeakMap,Yr=new WeakMap;var Hb,cR;class Py{constructor(e){te(this,Hb);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ss.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(Z(this,Hb,cR).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(i.bind(e,...a,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Hb=new WeakSet,cR=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const $b=class $b{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return MV(e),nn(this,"_colors",e)}convert(e){const t=yE(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return $b._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?ht.makeHexColor(...t):e}};Et($b,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let v_=$b;var lg,Vs,Ir,oi,cg,Kl,ug,io,dg,xh,Ko,so,Sh,$1,q1,Yo,hg,Tu,Xo,qb,Ru,W1,Ah,V1,fg,li,vn,Yl,_h,G1,K1,Y1,X1,J1,Q1,Z1,ev,tv,nv,rv,iv,sv,Iu,Jo,Xl,av,it,g2,uR,dR,m2,hR,fR,pR,y_,gR,w_,b_,mR,qi,bu,vR,yR,x_,wR,_0,S_;const Yp=class Yp{constructor(e,t,r,i,s,a,o,l,u){te(this,it);te(this,lg,new AbortController);te(this,Vs,null);te(this,Ir,new Map);te(this,oi,new Map);te(this,cg,null);te(this,Kl,null);te(this,ug,null);te(this,io,new zV);te(this,dg,0);te(this,xh,new Set);te(this,Ko,null);te(this,so,null);te(this,Sh,new Set);te(this,$1,!1);te(this,q1,null);te(this,Yo,null);te(this,hg,null);te(this,Tu,!1);te(this,Xo,null);te(this,qb,new BV);te(this,Ru,!1);te(this,W1,!1);te(this,Ah,null);te(this,V1,null);te(this,fg,null);te(this,li,Jt.NONE);te(this,vn,new Set);te(this,Yl,null);te(this,_h,null);te(this,G1,null);te(this,K1,this.blur.bind(this));te(this,Y1,this.focus.bind(this));te(this,X1,this.copy.bind(this));te(this,J1,this.cut.bind(this));te(this,Q1,this.paste.bind(this));te(this,Z1,this.keydown.bind(this));te(this,ev,this.keyup.bind(this));te(this,tv,this.onEditingAction.bind(this));te(this,nv,this.onPageChanging.bind(this));te(this,rv,this.onScaleChanging.bind(this));te(this,iv,this.onRotationChanging.bind(this));te(this,sv,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});te(this,Iu,[0,0]);te(this,Jo,null);te(this,Xl,null);te(this,av,null);this._signal=m(this,lg).signal,Y(this,Xl,e),Y(this,av,t),Y(this,cg,r),this._eventBus=i,this._eventBus._on("editingaction",m(this,tv)),this._eventBus._on("pagechanging",m(this,nv)),this._eventBus._on("scalechanging",m(this,rv)),this._eventBus._on("rotationchanging",m(this,iv)),Z(this,it,hR).call(this),Z(this,it,mR).call(this),Z(this,it,y_).call(this),Y(this,Kl,s.annotationStorage),Y(this,q1,s.filterFactory),Y(this,_h,a),Y(this,hg,o||null),Y(this,$1,l),Y(this,fg,u||null),this.viewParameters={realScale:bd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Yp.prototype,t=a=>m(a,Xl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return nn(this,"_keyboardManager",new Py([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&m(a,Xl).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&m(a,Xl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r;(e=m(this,lg))==null||e.abort(),Y(this,lg,null),this._signal=null,this._eventBus._off("editingaction",m(this,tv)),this._eventBus._off("pagechanging",m(this,nv)),this._eventBus._off("scalechanging",m(this,rv)),this._eventBus._off("rotationchanging",m(this,iv));for(const i of m(this,oi).values())i.destroy();m(this,oi).clear(),m(this,Ir).clear(),m(this,Sh).clear(),Y(this,Vs,null),m(this,vn).clear(),m(this,io).destroy(),(t=m(this,cg))==null||t.destroy(),(r=m(this,Xo))==null||r.hide(),Y(this,Xo,null),m(this,Yo)&&(clearTimeout(m(this,Yo)),Y(this,Yo,null)),m(this,Jo)&&(clearTimeout(m(this,Jo)),Y(this,Jo,null))}async mlGuess(e){var t;return((t=m(this,fg))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!m(this,fg)}get hcmFilter(){return nn(this,"hcmFilter",m(this,_h)?m(this,q1).addHCMFilter(m(this,_h).foreground,m(this,_h).background):"none")}get direction(){return nn(this,"direction",getComputedStyle(m(this,Xl)).direction)}get highlightColors(){return nn(this,"highlightColors",m(this,hg)?new Map(m(this,hg).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return nn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){Y(this,V1,e)}editAltText(e){var t;(t=m(this,cg))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){Y(this,dg,e-1)}focusMainContainer(){m(this,Xl).focus()}findParent(e,t){for(const r of m(this,oi).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return r}return null}disableUserSelect(e=!1){m(this,av).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,Sh).add(e)}removeShouldRescale(e){m(this,Sh).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*bd.PDF_TO_CSS_UNITS;for(const t of m(this,Sh))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a}=t,o=t.toString(),u=Z(this,it,g2).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(d){t.empty(),m(this,li)===Jt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Jt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const f of m(this,oi).values())if(f.hasTextLayer(u)){f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a,text:o});break}}}addToAnnotationStorage(e){!e.isEmpty()&&m(this,Kl)&&!m(this,Kl).has(e.id)&&m(this,Kl).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,m(this,Tu)&&(Y(this,Tu,!1),Z(this,it,m2).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,vn))if(t.div.contains(e)){Y(this,Ah,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,Ah))return;const[e,t]=m(this,Ah);Y(this,Ah,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){Z(this,it,y_).call(this),Z(this,it,w_).call(this)}removeEditListeners(){Z(this,it,gR).call(this),Z(this,it,b_).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of m(this,so))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of m(this,so))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=m(this,Vs))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of m(this,vn)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of m(this,so))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){zt(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=i.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)Z(this,it,x_).call(this,l);Z(this,it,S_).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){zt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,li)!==Jt.NONE&&!this.isEditorHandlingKeyboard&&Yp._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,Tu)&&(Y(this,Tu,!1),Z(this,it,m2).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(Z(this,it,fR).call(this),Z(this,it,w_).call(this),Z(this,it,qi).call(this,{isEditing:m(this,li)!==Jt.NONE,isEmpty:Z(this,it,_0).call(this),hasSomethingToUndo:m(this,io).hasSomethingToUndo(),hasSomethingToRedo:m(this,io).hasSomethingToRedo(),hasSelectedEditor:!1})):(Z(this,it,pR).call(this),Z(this,it,b_).call(this),Z(this,it,qi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,so)){Y(this,so,e);for(const t of m(this,so))Z(this,it,bu).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,qb).id}get currentLayer(){return m(this,oi).get(m(this,dg))}getLayer(e){return m(this,oi).get(e)}get currentPageIndex(){return m(this,dg)}addLayer(e){m(this,oi).set(e.pageIndex,e),m(this,Ru)?e.enable():e.disable()}removeLayer(e){m(this,oi).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(m(this,li)!==e){if(Y(this,li,e),e===Jt.NONE){this.setEditingState(!1),Z(this,it,yR).call(this);return}this.setEditingState(!0),Z(this,it,vR).call(this),this.unselectAll();for(const i of m(this,oi).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of m(this,Ir).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==m(this,li)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(m(this,so)){switch(e){case Nt.CREATE:this.currentLayer.addNewEditor();return;case Nt.HIGHLIGHT_DEFAULT_COLOR:(r=m(this,V1))==null||r.updateColor(t);break;case Nt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,G1)||Y(this,G1,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of m(this,vn))i.updateParams(e,t);for(const i of m(this,so))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of m(this,Ir).values())a.editorType===e&&a.show(t);(((s=m(this,G1))==null?void 0:s.get(Nt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&Z(this,it,bu).call(this,[[Nt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,W1)!==e){Y(this,W1,e);for(const t of m(this,oi).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of m(this,Ir).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return m(this,Ir).get(e)}addEditor(e){m(this,Ir).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(m(this,Yo)&&clearTimeout(m(this,Yo)),Y(this,Yo,setTimeout(()=>{this.focusMainContainer(),Y(this,Yo,null)},0))),m(this,Ir).delete(e.id),this.unselect(e),(!e.annotationElementId||!m(this,xh).has(e.annotationElementId))&&((t=m(this,Kl))==null||t.remove(e.id))}addDeletedAnnotationElement(e){m(this,xh).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,xh).has(e)}removeDeletedAnnotationElement(e){m(this,xh).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,Vs)!==e&&(Y(this,Vs,e),e&&Z(this,it,bu).call(this,e.propertiesToUpdate))}updateUI(e){m(this,it,wR)===e&&Z(this,it,bu).call(this,e.propertiesToUpdate)}toggleSelected(e){if(m(this,vn).has(e)){m(this,vn).delete(e),e.unselect(),Z(this,it,qi).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,vn).add(e),e.select(),Z(this,it,bu).call(this,e.propertiesToUpdate),Z(this,it,qi).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of m(this,vn))t!==e&&t.unselect();m(this,vn).clear(),m(this,vn).add(e),e.select(),Z(this,it,bu).call(this,e.propertiesToUpdate),Z(this,it,qi).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,vn).has(e)}get firstSelectedEditor(){return m(this,vn).values().next().value}unselect(e){e.unselect(),m(this,vn).delete(e),Z(this,it,qi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,vn).size!==0}get isEnterHandled(){return m(this,vn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){m(this,io).undo(),Z(this,it,qi).call(this,{hasSomethingToUndo:m(this,io).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Z(this,it,_0).call(this)})}redo(){m(this,io).redo(),Z(this,it,qi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,io).hasSomethingToRedo(),isEmpty:Z(this,it,_0).call(this)})}addCommands(e){m(this,io).add(e),Z(this,it,qi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Z(this,it,_0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...m(this,vn)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)Z(this,it,x_).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=m(this,Vs))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,Vs)||this.hasSelection}selectAll(){for(const e of m(this,vn))e.commit();Z(this,it,S_).call(this,m(this,Ir).values())}unselectAll(){if(!(m(this,Vs)&&(m(this,Vs).commitOrRemove(),m(this,li)!==Jt.NONE))&&this.hasSelection){for(const e of m(this,vn))e.unselect();m(this,vn).clear(),Z(this,it,qi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;m(this,Iu)[0]+=e,m(this,Iu)[1]+=t;const[i,s]=m(this,Iu),a=[...m(this,vn)],o=1e3;m(this,Jo)&&clearTimeout(m(this,Jo)),Y(this,Jo,setTimeout(()=>{Y(this,Jo,null),m(this,Iu)[0]=m(this,Iu)[1]=0,this.addCommands({cmd:()=>{for(const l of a)m(this,Ir).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of a)m(this,Ir).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Y(this,Ko,new Map);for(const e of m(this,vn))m(this,Ko).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,Ko))return!1;this.disableUserSelect(!1);const e=m(this,Ko);Y(this,Ko,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const r=(i,s,a,o)=>{if(m(this,Ir).has(i.id)){const l=m(this,oi).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,Ko))for(const r of m(this,Ko).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,vn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,Vs)===e}getActive(){return m(this,Vs)}getMode(){return m(this,li)}get imageManager(){return nn(this,"imageManager",new g_)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,f,h)=>({x:(d-i)/a,y:1-(u+f-r)/s,width:h/a,height:f/s});break;case"180":o=(u,d,f,h)=>({x:1-(u+f-r)/s,y:1-(d+h-i)/a,width:f/s,height:h/a});break;case"270":o=(u,d,f,h)=>({x:1-(d+h-i)/a,y:(u-r)/s,width:h/a,height:f/s});break;default:o=(u,d,f,h)=>({x:(u-r)/s,y:(d-i)/a,width:f/s,height:h/a});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const f=t.getRangeAt(u);if(!f.collapsed)for(const{x:h,y:p,width:y,height:x}of f.getClientRects())y===0||x===0||l.push(o(h,p,y,x))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,ug)||Y(this,ug,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,ug))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=m(this,ug))==null?void 0:i.get(e.data.id);if(!t)return;const r=m(this,Kl).getRawValue(t);r&&(m(this,li)===Jt.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};lg=new WeakMap,Vs=new WeakMap,Ir=new WeakMap,oi=new WeakMap,cg=new WeakMap,Kl=new WeakMap,ug=new WeakMap,io=new WeakMap,dg=new WeakMap,xh=new WeakMap,Ko=new WeakMap,so=new WeakMap,Sh=new WeakMap,$1=new WeakMap,q1=new WeakMap,Yo=new WeakMap,hg=new WeakMap,Tu=new WeakMap,Xo=new WeakMap,qb=new WeakMap,Ru=new WeakMap,W1=new WeakMap,Ah=new WeakMap,V1=new WeakMap,fg=new WeakMap,li=new WeakMap,vn=new WeakMap,Yl=new WeakMap,_h=new WeakMap,G1=new WeakMap,K1=new WeakMap,Y1=new WeakMap,X1=new WeakMap,J1=new WeakMap,Q1=new WeakMap,Z1=new WeakMap,ev=new WeakMap,tv=new WeakMap,nv=new WeakMap,rv=new WeakMap,iv=new WeakMap,sv=new WeakMap,Iu=new WeakMap,Jo=new WeakMap,Xl=new WeakMap,av=new WeakMap,it=new WeakSet,g2=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},uR=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=Z(this,it,g2).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(m(this,Xo)||Y(this,Xo,new OV(this)),m(this,Xo).show(r,i,this.direction==="ltr"))},dR=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Yl)&&((s=m(this,Xo))==null||s.hide(),Y(this,Yl,null),Z(this,it,qi).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,Yl))return;if(!Z(this,it,g2).call(this,e).closest(".textLayer")){m(this,Yl)&&((a=m(this,Xo))==null||a.hide(),Y(this,Yl,null),Z(this,it,qi).call(this,{hasSelectedText:!1}));return}if((o=m(this,Xo))==null||o.hide(),Y(this,Yl,t),Z(this,it,qi).call(this,{hasSelectedText:!0}),!(m(this,li)!==Jt.HIGHLIGHT&&m(this,li)!==Jt.NONE)&&(m(this,li)===Jt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Y(this,Tu,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,u=d=>{d.type==="pointerup"&&d.button!==0||(window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),d.type==="pointerup"&&Z(this,it,m2).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}},m2=function(e=""){m(this,li)===Jt.HIGHLIGHT?this.highlightSelection(e):m(this,$1)&&Z(this,it,uR).call(this)},hR=function(){document.addEventListener("selectionchange",Z(this,it,dR).bind(this),{signal:this._signal})},fR=function(){const e=this._signal;window.addEventListener("focus",m(this,Y1),{signal:e}),window.addEventListener("blur",m(this,K1),{signal:e})},pR=function(){window.removeEventListener("focus",m(this,Y1)),window.removeEventListener("blur",m(this,K1))},y_=function(){const e=this._signal;window.addEventListener("keydown",m(this,Z1),{signal:e}),window.addEventListener("keyup",m(this,ev),{signal:e})},gR=function(){window.removeEventListener("keydown",m(this,Z1)),window.removeEventListener("keyup",m(this,ev))},w_=function(){const e=this._signal;document.addEventListener("copy",m(this,X1),{signal:e}),document.addEventListener("cut",m(this,J1),{signal:e}),document.addEventListener("paste",m(this,Q1),{signal:e})},b_=function(){document.removeEventListener("copy",m(this,X1)),document.removeEventListener("cut",m(this,J1)),document.removeEventListener("paste",m(this,Q1))},mR=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},qi=function(e){Object.entries(e).some(([r,i])=>m(this,sv)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,sv),e)}),m(this,li)===Jt.HIGHLIGHT&&e.hasSelectedEditor===!1&&Z(this,it,bu).call(this,[[Nt.HIGHLIGHT_FREE,!0]]))},bu=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},vR=function(){if(!m(this,Ru)){Y(this,Ru,!0);for(const e of m(this,oi).values())e.enable();for(const e of m(this,Ir).values())e.enable()}},yR=function(){if(this.unselectAll(),m(this,Ru)){Y(this,Ru,!1);for(const e of m(this,oi).values())e.disable();for(const e of m(this,Ir).values())e.disable()}},x_=function(e){const t=m(this,oi).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},wR=function(){let e=null;for(e of m(this,vn));return e},_0=function(){if(m(this,Ir).size===0)return!0;if(m(this,Ir).size===1)for(const e of m(this,Ir).values())return e.isEmpty();return!1},S_=function(e){for(const t of m(this,vn))t.unselect();m(this,vn).clear();for(const t of e)t.isEmpty()||(m(this,vn).add(t),t.select());Z(this,it,qi).call(this,{hasSelectedEditor:this.hasSelection})},Et(Yp,"TRANSLATE_SMALL",1),Et(Yp,"TRANSLATE_BIG",10);let Lf=Yp;var Jl,Ql,ao,Zl,Gs,pg,oo,ov,A_;const Ul=class Ul{constructor(e){te(this,ov);te(this,Jl,"");te(this,Ql,!1);te(this,ao,null);te(this,Zl,null);te(this,Gs,null);te(this,pg,!1);te(this,oo,null);Y(this,oo,e)}static initialize(e){Ul._l10nPromise||(Ul._l10nPromise=e)}async render(){const e=Y(this,ao,document.createElement("button"));e.className="altText";const t=await Ul._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const r=m(this,oo)._uiManager._signal;e.addEventListener("contextmenu",js,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),m(this,oo)._uiManager.editAltText(m(this,oo))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(Y(this,pg,!0),i(s))},{signal:r}),await Z(this,ov,A_).call(this),e}finish(){m(this,ao)&&(m(this,ao).focus({focusVisible:m(this,pg)}),Y(this,pg,!1))}isEmpty(){return!m(this,Jl)&&!m(this,Ql)}get data(){return{altText:m(this,Jl),decorative:m(this,Ql)}}set data({altText:e,decorative:t}){m(this,Jl)===e&&m(this,Ql)===t||(Y(this,Jl,e),Y(this,Ql,t),Z(this,ov,A_).call(this))}toggle(e=!1){m(this,ao)&&(!e&&m(this,Gs)&&(clearTimeout(m(this,Gs)),Y(this,Gs,null)),m(this,ao).disabled=!e)}destroy(){var e;(e=m(this,ao))==null||e.remove(),Y(this,ao,null),Y(this,Zl,null)}};Jl=new WeakMap,Ql=new WeakMap,ao=new WeakMap,Zl=new WeakMap,Gs=new WeakMap,pg=new WeakMap,oo=new WeakMap,ov=new WeakSet,A_=async function(){var i;const e=m(this,ao);if(!e)return;if(!m(this,Jl)&&!m(this,Ql)){e.classList.remove("done"),(i=m(this,Zl))==null||i.remove();return}e.classList.add("done"),Ul._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=m(this,Zl);if(!t){Y(this,Zl,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${m(this,oo).id}`;e.setAttribute("aria-describedby",s);const a=100,o=m(this,oo)._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(m(this,Gs)),Y(this,Gs,null)},{once:!0}),e.addEventListener("mouseenter",()=>{Y(this,Gs,setTimeout(()=>{Y(this,Gs,null),m(this,Zl).classList.add("show"),m(this,oo)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:o}),e.addEventListener("mouseleave",()=>{var l;m(this,Gs)&&(clearTimeout(m(this,Gs)),Y(this,Gs,null)),(l=m(this,Zl))==null||l.classList.remove("show")},{signal:o})}t.innerText=m(this,Ql)?await Ul._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):m(this,Jl),t.parentNode||e.append(t);const r=m(this,oo).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},Et(Ul,"_l10nPromise",null);let Pb=Ul;var kh,lo,Li,gg,Ch,ci,Eh,mg,vg,Ti,lv,Nh,Fu,cv,jh,ec,Qo,yg,wg,Sa,uv,Wb,$t,__,dv,k_,C_,bR,xR,E_,N_,j_,SR,AR,_R,kR,P_,k0;const Tn=class Tn{constructor(e){te(this,$t);te(this,kh,null);te(this,lo,null);te(this,Li,null);te(this,gg,!1);te(this,Ch,!1);te(this,ci,null);te(this,Eh,null);te(this,mg,this.focusin.bind(this));te(this,vg,this.focusout.bind(this));te(this,Ti,null);te(this,lv,"");te(this,Nh,!1);te(this,Fu,null);te(this,cv,!1);te(this,jh,!1);te(this,ec,!1);te(this,Qo,null);te(this,yg,0);te(this,wg,0);te(this,Sa,null);Et(this,"_initialOptions",Object.create(null));Et(this,"_isVisible",!0);Et(this,"_uiManager",null);Et(this,"_focusEventsAllowed",!0);Et(this,"_l10nPromise",null);te(this,uv,!1);te(this,Wb,Tn._zIndex++);this.constructor===Tn&&En("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Tn.prototype._resizeWithKeyboard,t=Lf.TRANSLATE_SMALL,r=Lf.TRANSLATE_BIG;return nn(this,"_resizerKeyboardManager",new Py([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Tn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return nn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new UV({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(Tn._l10nPromise||(Tn._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)Tn._l10nPromise.set(s,e.get(s));if(Tn._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Tn._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){En("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,uv)}set _isDraggable(e){var t;Y(this,uv,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,Wb)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):Z(this,$t,k0).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,Nh)?Y(this,Nh,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){Z(this,$t,__).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,Fu)||Y(this,Fu,[this.x,this.y]),Z(this,$t,__).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){m(this,Fu)||Y(this,Fu,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[o,l]=this.getBaseTranslation();s+=o,a+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!m(this,Fu)&&(m(this,Fu)[0]!==this.x||m(this,Fu)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=Tn,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:a,height:o}=this;if(a*=t,o*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-a,i)),s=Math.max(0,Math.min(r-o,s));break;case 90:i=Math.max(0,Math.min(t-o,i)),s=Math.min(r,Math.max(a,s));break;case 180:i=Math.min(t,Math.max(a,i)),s=Math.min(r,Math.max(o,s));break;case 270:i=Math.min(t,Math.max(o,i)),s=Math.max(0,Math.min(r-a,s));break}this.x=i/=t,this.y=s/=r;const[l,u]=this.getBaseTranslation();i+=l,s+=u;const{style:d}=this.div;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return Z(r=Tn,dv,k_).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return Z(r=Tn,dv,k_).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return Ss.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,m(this,Ch)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!m(this,Ch)&&t.endsWith("%");if(i&&s)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/a).toFixed(2)}%`),!m(this,Ch)&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=m(this,Li))==null||e.finish()}async addEditToolbar(){return m(this,Ti)||m(this,jh)?m(this,Ti):(Y(this,Ti,new f_(this)),this.div.append(m(this,Ti).render()),m(this,Li)&&m(this,Ti).addAltTextButton(await m(this,Li).render()),m(this,Ti))}removeEditToolbar(){var e;m(this,Ti)&&(m(this,Ti).remove(),Y(this,Ti,null),(e=m(this,Li))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){m(this,Li)||(Pb.initialize(Tn._l10nPromise),Y(this,Li,new Pb(this)),m(this,kh)&&(m(this,Li).data=m(this,kh),Y(this,kh,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=m(this,Li))==null?void 0:e.data}set altTextData(e){m(this,Li)&&(m(this,Li).data=e)}hasAltText(){var e;return!((e=m(this,Li))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=m(this,gg)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",m(this,mg),{signal:e}),this.div.addEventListener("focusout",m(this,vg),{signal:e});const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),jb(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Ss.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(Y(this,Nh,!0),this._isDraggable){Z(this,$t,SR).call(this,e);return}Z(this,$t,j_).call(this,e)}moveInDOM(){m(this,Qo)&&clearTimeout(m(this,Qo)),Y(this,Qo,setTimeout(()=>{var e;Y(this,Qo,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,d=t/i,f=this.x*s,h=this.y*a,p=this.width*s,y=this.height*a;switch(r){case 0:return[f+u+o,a-h-d-y+l,f+u+p+o,a-h-d+l];case 90:return[f+d+o,a-h+u+l,f+d+y+o,a-h+u+p+l];case 180:return[f-u-p+o,a-h+d+l,f-u+o,a-h+d+y+l];case 270:return[f-d-y+o,a-h-u-p+l,f-d+o,a-h-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,t-a,o,l];case 90:return[r,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Y(this,jh,!0)}disableEditMode(){Y(this,jh,!1)}isInEditMode(){return m(this,jh)}shouldGetKeyboardEvents(){return m(this,ec)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,r;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",m(this,mg),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",m(this,vg),{signal:e})}rotate(e){}serialize(e=!1,t=null){En("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,Y(i,kh,e.accessibilityData);const[s,a]=i.pageDimensions,[o,l,u,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=u/s,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",m(this,mg)),this.div.removeEventListener("focusout",m(this,vg)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,Qo)&&(clearTimeout(m(this,Qo)),Y(this,Qo,null)),Z(this,$t,k0).call(this),this.removeEditToolbar(),m(this,Sa)){for(const e of m(this,Sa).values())clearTimeout(e);Y(this,Sa,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Z(this,$t,bR).call(this),m(this,ci).classList.remove("hidden"),jb(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),Y(this,Eh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,ci).children;if(!m(this,lo)){Y(this,lo,Array.from(t));const a=Z(this,$t,AR).bind(this),o=Z(this,$t,_R).bind(this),l=this._uiManager._signal;for(const u of m(this,lo)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",Z(this,$t,kR).bind(this,d),{signal:l}),Tn._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(f=>u.setAttribute("aria-label",f))}}const r=m(this,lo)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(m(this,lo).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)m(this,ci).append(m(this,ci).firstChild);else if(s>i)for(let o=0;o<s-i;o++)m(this,ci).firstChild.before(m(this,ci).lastChild);let a=0;for(const o of t){const u=m(this,lo)[a++].getAttribute("data-resizer-name");Tn._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>o.setAttribute("aria-label",d))}}Z(this,$t,P_).call(this,0),Y(this,ec,!0),m(this,ci).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,ec)&&Z(this,$t,N_).call(this,m(this,lv),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){Z(this,$t,k0).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!m(this,Ti)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=m(this,Ti))==null||i.show())});return}(t=m(this,Ti))==null||t.show()}unselect(){var e,t,r,i;(e=m(this,ci))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=m(this,Ti))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return m(this,cv)}set isEditing(e){Y(this,cv,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){Y(this,Ch,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,Sa)||Y(this,Sa,new Map);const{action:r}=e;let i=m(this,Sa).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,Sa).delete(r),m(this,Sa).size===0&&Y(this,Sa,null)},Tn._telemetryTimeout),m(this,Sa).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),Y(this,gg,!1)}disable(){this.div&&(this.div.tabIndex=-1),Y(this,gg,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};kh=new WeakMap,lo=new WeakMap,Li=new WeakMap,gg=new WeakMap,Ch=new WeakMap,ci=new WeakMap,Eh=new WeakMap,mg=new WeakMap,vg=new WeakMap,Ti=new WeakMap,lv=new WeakMap,Nh=new WeakMap,Fu=new WeakMap,cv=new WeakMap,jh=new WeakMap,ec=new WeakMap,Qo=new WeakMap,yg=new WeakMap,wg=new WeakMap,Sa=new WeakMap,uv=new WeakMap,Wb=new WeakMap,$t=new WeakSet,__=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},dv=new WeakSet,k_=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},C_=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},bR=function(){if(m(this,ci))return;Y(this,ci,document.createElement("div")),m(this,ci).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");m(this,ci).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",Z(this,$t,xR).bind(this,r),{signal:t}),i.addEventListener("contextmenu",js,{signal:t}),i.tabIndex=-1}this.div.prepend(m(this,ci))},xR=function(e,t){var x;t.preventDefault();const{isMac:r}=Ss.platform;if(t.button!==0||t.ctrlKey&&r)return;(x=m(this,Li))==null||x.toggle(!1);const i=Z(this,$t,N_).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,o={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,o),window.addEventListener("contextmenu",js,{signal:a});const l=this.x,u=this.y,d=this.width,f=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const y=()=>{var _;this.parent.togglePointerEvents(!0),(_=m(this,Li))==null||_.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",y),window.removeEventListener("blur",y),window.removeEventListener("pointermove",i,o),window.removeEventListener("contextmenu",js),this.parent.div.style.cursor=h,this.div.style.cursor=p,Z(this,$t,E_).call(this,l,u,d,f)};window.addEventListener("pointerup",y,{signal:a}),window.addEventListener("blur",y,{signal:a})},E_=function(e,t,r,i){const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===r&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=s,this.y=a;const[u,d]=this.parentDimensions;this.setDims(u*o,d*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[u,d]=this.parentDimensions;this.setDims(u*r,d*i),this.fixAndSetPosition()},mustExec:!0})},N_=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=Tn.MIN_SIZE/r,d=Tn.MIN_SIZE/i,f=X=>Math.round(X*1e4)/1e4,h=Z(this,$t,C_).call(this,this.rotation),p=(X,K)=>[h[0]*X+h[2]*K,h[1]*X+h[3]*K],y=Z(this,$t,C_).call(this,360-this.rotation),x=(X,K)=>[y[0]*X+y[2]*K,y[1]*X+y[3]*K];let _,w,A=!1,S=!1;switch(e){case"topLeft":A=!0,_=(X,K)=>[0,0],w=(X,K)=>[X,K];break;case"topMiddle":_=(X,K)=>[X/2,0],w=(X,K)=>[X/2,K];break;case"topRight":A=!0,_=(X,K)=>[X,0],w=(X,K)=>[0,K];break;case"middleRight":S=!0,_=(X,K)=>[X,K/2],w=(X,K)=>[0,K/2];break;case"bottomRight":A=!0,_=(X,K)=>[X,K],w=(X,K)=>[0,0];break;case"bottomMiddle":_=(X,K)=>[X/2,K],w=(X,K)=>[X/2,0];break;case"bottomLeft":A=!0,_=(X,K)=>[0,K],w=(X,K)=>[X,0];break;case"middleLeft":S=!0,_=(X,K)=>[0,K/2],w=(X,K)=>[X,K/2];break}const v=_(o,l),C=w(o,l);let j=p(...C);const T=f(s+j[0]),P=f(a+j[1]);let z=1,q=1,[R,F]=this.screenToPageTranslation(t.movementX,t.movementY);if([R,F]=x(R/r,F/i),A){const X=Math.hypot(o,l);z=q=Math.max(Math.min(Math.hypot(C[0]-v[0]-R,C[1]-v[1]-F)/X,1/o,1/l),u/o,d/l)}else S?z=Math.max(u,Math.min(1,Math.abs(C[0]-v[0]-R)))/o:q=Math.max(d,Math.min(1,Math.abs(C[1]-v[1]-F)))/l;const $=f(o*z),W=f(l*q);j=p(...w($,W));const he=T-j[0],ne=P-j[1];this.width=$,this.height=W,this.x=he,this.y=ne,this.setDims(r*$,i*W),this.fixAndSetPosition()},j_=function(e){const{isMac:t}=Ss.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},SR=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:s},Y(this,yg,e.clientX),Y(this,wg,e.clientY),i=o=>{const{clientX:l,clientY:u}=o,[d,f]=this.screenToPageTranslation(l-m(this,yg),u-m(this,wg));Y(this,yg,l),Y(this,wg,u),this._uiManager.dragSelectedEditors(d,f)},window.addEventListener("pointermove",i,r));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),Y(this,Nh,!1),this._uiManager.endDragSession()||Z(this,$t,j_).call(this,e)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},AR=function(e){Tn._resizerKeyboardManager.exec(this,e)},_R=function(e){var t;m(this,ec)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,ci)&&Z(this,$t,k0).call(this)},kR=function(e){Y(this,lv,m(this,ec)?e:"")},P_=function(e){if(m(this,lo))for(const t of m(this,lo))t.tabIndex=e},k0=function(){if(Y(this,ec,!1),Z(this,$t,P_).call(this,-1),m(this,Eh)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=m(this,Eh);Z(this,$t,E_).call(this,e,t,r,i),Y(this,Eh,null)}},te(Tn,dv),Et(Tn,"_borderLineWidth",-1),Et(Tn,"_colorManager",new v_),Et(Tn,"_zIndex",1),Et(Tn,"_telemetryTimeout",1e3);let wn=Tn;class UV extends wn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Tj=3285377520,ba=4294901760,$o=65535;class CR{constructor(e){this.h1=e?e&4294967295:Tj,this.h2=e?e&4294967295:Tj}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let x=0,_=e.length;x<_;x++){const w=e.charCodeAt(x);w<=255?t[r++]=w:(t[r++]=w>>>8,t[r++]=w&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,u=this.h1,d=this.h2;const f=3432918353,h=461845907,p=f&$o,y=h&$o;for(let x=0;x<i;x++)x&1?(o=a[x],o=o*f&ba|o*p&$o,o=o<<15|o>>>17,o=o*h&ba|o*y&$o,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[x],l=l*f&ba|l*p&$o,l=l<<15|l>>>17,l=l*h&ba|l*y&$o,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*f&ba|o*p&$o,o=o<<15|o>>>17,o=o*h&ba|o*y&$o,i&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ba|e*36045&$o,t=t*4283543511&ba|((t<<16|e>>>16)*2950163797&ba)>>>16,e^=t>>>1,e=e*444984403&ba|e*60499&$o,t=t*3301882366&ba|((t<<16|e>>>16)*3120437893&ba)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const L_=Object.freeze({map:null,hash:"",transfer:void 0});var Ph,ui,Vb,ER;class wE{constructor(){te(this,Vb);te(this,Ph,!1);te(this,ui,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=m(this,ui).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return m(this,ui).get(e)}remove(e){if(m(this,ui).delete(e),m(this,ui).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,ui).values())if(t instanceof wn)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=m(this,ui).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,m(this,ui).set(e,t);i&&Z(this,Vb,ER).call(this),t instanceof wn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,ui).has(e)}getAll(){return m(this,ui).size>0?hE(m(this,ui)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return m(this,ui).size}resetModified(){m(this,Ph)&&(Y(this,Ph,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new NR(this)}get serializable(){if(m(this,ui).size===0)return L_;const e=new Map,t=new CR,r=[],i=Object.create(null);let s=!1;for(const[a,o]of m(this,ui)){const l=o instanceof wn?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:L_}get editorStats(){let e=null;const t=new Map;for(const r of m(this,ui).values()){if(!(r instanceof wn))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const d=u.get(l)??0;u.set(l,d+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}Ph=new WeakMap,ui=new WeakMap,Vb=new WeakSet,ER=function(){m(this,Ph)||(Y(this,Ph,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var hv;class NR extends wE{constructor(t){super();te(this,hv);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);Y(this,hv,{map:a,hash:i,transfer:s})}get print(){En("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,hv)}}hv=new WeakMap;var bg;class HV{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){te(this,bg,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,bg).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||m(this,bg).has(e.loadedName))){if(Ur(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,a=new FontFace(r,i,s);this.addNativeFontFace(a);try{await a.load(),m(this,bg).add(r),t==null||t(e)}catch{zt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}En("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw zt(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return nn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Mi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),nn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ur(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return nn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(v,C){return v.charCodeAt(C)<<24|v.charCodeAt(C+1)<<16|v.charCodeAt(C+2)<<8|v.charCodeAt(C+3)&255}function i(v,C,j,T){const P=v.substring(0,C),z=v.substring(C+j);return P+T+z}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(v,C){if(++u>30){zt("Load test font never loaded."),C();return}if(l.font="30px "+v,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(d.bind(null,v,C))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,f.length,f);const y=16,x=1482184792;let _=r(h,y);for(s=0,a=f.length-3;s<a;s+=4)_=_-x+r(f,s)|0;s<f.length&&(_=_-x+r(f+"XXX",s)|0),h=i(h,y,4,kV(_));const w=`url(data:font/opentype;base64,${btoa(h)});`,A=`@font-face {font-family:"${f}";src:${w}}`;this.insertRule(A);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const v of[e.loadedName,f]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=v,S.append(C)}this._document.body.append(S),d(f,()=>{S.remove(),t.complete()})}}bg=new WeakMap;class $V{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=Y6(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){zt(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,a){};const i=[];for(let s=0,a=r.length;s<a;)switch(r[s++]){case Ml.BEZIER_CURVE_TO:{const[o,l,u,d,f,h]=r.slice(s,s+6);i.push(p=>p.bezierCurveTo(o,l,u,d,f,h)),s+=6}break;case Ml.MOVE_TO:{const[o,l]=r.slice(s,s+2);i.push(u=>u.moveTo(o,l)),s+=2}break;case Ml.LINE_TO:{const[o,l]=r.slice(s,s+2);i.push(u=>u.lineTo(o,l)),s+=2}break;case Ml.QUADRATIC_CURVE_TO:{const[o,l,u,d]=r.slice(s,s+4);i.push(f=>f.quadraticCurveTo(o,l,u,d)),s+=4}break;case Ml.RESTORE:i.push(o=>o.restore());break;case Ml.SAVE:i.push(o=>o.save());break;case Ml.SCALE:Ur(i.length===2,"Scale command is only valid at the third position.");break;case Ml.TRANSFORM:{const[o,l,u,d,f,h]=r.slice(s,s+6);i.push(p=>p.transform(o,l,u,d,f,h)),s+=6}break;case Ml.TRANSLATE:{const[o,l]=r.slice(s,s+2);i.push(u=>u.translate(o,l)),s+=2}break}return this.compiledGlyphs[t]=function(a,o){i[0](a),i[1](a),a.scale(o,-o);for(let l=2,u=i.length;l<u;l++)i[l](a)}}}if(Mi){var T_=Promise.withResolvers(),Z0=null;(async()=>{const e=await hh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await hh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await hh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await hh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,a;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:a}))})().then(e=>{Z0=e,T_.resolve()},e=>{zt(`loadPackages: ${e}`),Z0=new Map,T_.resolve()})}class wl{static get promise(){return T_.promise}static get(e){return Z0==null?void 0:Z0.get(e)}}const jR=function(n){return wl.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class qV extends Qx{}class WV extends Nb{_createCanvas(e,t){return wl.get("canvas").createCanvas(e,t)}}class VV extends Zx{_fetchData(e,t){return jR(e).then(r=>({cMapData:r,compressionType:t}))}}class GV extends e5{_fetchData(e){return jR(e)}}const Ki={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function R_(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class Ly{constructor(){this.constructor===Ly&&En("Cannot initialize BaseShadingPattern.")}getPattern(){En("Abstract method `getPattern` called.")}}class KV extends Ly{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Ki.STROKE||i===Ki.FILL){const a=t.current.getClippedPathBoundingBox(i,tr(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l,!0),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),r=ht.transform(r,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),R_(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const f=new DOMMatrix(r);s.setTransform(f)}else R_(e,this._bbox),s=this._createGradient(e);return s}}function _S(n,e,t,r,i,s,a,o){const l=e.coords,u=e.colors,d=n.data,f=n.width*4;let h;l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=s,s=a,a=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=a,a=o,o=h),l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=s,s=a,a=h);const p=(l[t]+e.offsetX)*e.scaleX,y=(l[t+1]+e.offsetY)*e.scaleY,x=(l[r]+e.offsetX)*e.scaleX,_=(l[r+1]+e.offsetY)*e.scaleY,w=(l[i]+e.offsetX)*e.scaleX,A=(l[i+1]+e.offsetY)*e.scaleY;if(y>=A)return;const S=u[s],v=u[s+1],C=u[s+2],j=u[a],T=u[a+1],P=u[a+2],z=u[o],q=u[o+1],R=u[o+2],F=Math.round(y),$=Math.round(A);let W,he,ne,X,K,ee,de,xe;for(let M=F;M<=$;M++){if(M<_){const ge=M<y?0:(y-M)/(y-_);W=p-(p-x)*ge,he=S-(S-j)*ge,ne=v-(v-T)*ge,X=C-(C-P)*ge}else{let ge;M>A?ge=1:_===A?ge=0:ge=(_-M)/(_-A),W=x-(x-w)*ge,he=j-(j-z)*ge,ne=T-(T-q)*ge,X=P-(P-R)*ge}let J;M<y?J=0:M>A?J=1:J=(y-M)/(y-A),K=p-(p-w)*J,ee=S-(S-z)*J,de=v-(v-q)*J,xe=C-(C-R)*J;const B=Math.round(Math.min(W,K)),ae=Math.round(Math.max(W,K));let le=f*M+B*4;for(let ge=B;ge<=ae;ge++)J=(W-ge)/(W-K),J<0?J=0:J>1&&(J=1),d[le++]=he-(he-ee)*J|0,d[le++]=ne-(ne-de)*J|0,d[le++]=X-(X-xe)*J|0,d[le++]=255}}function YV(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let f=0;f<u;f++,d++)_S(n,t,r[d],r[d+1],r[d+o],i[d],i[d+1],i[d+o]),_S(n,t,r[d+o+1],r[d+1],r[d+o],i[d+o+1],i[d+1],i[d+o])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)_S(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class XV extends Ly{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/f,y=d/h,x={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/y},_=f+2*2,w=h+2*2,A=r.getCanvas("mesh",_,w,!1),S=A.context,v=S.createImageData(f,h);if(t){const j=v.data;for(let T=0,P=j.length;T<P;T+=4)j[T]=t[0],j[T+1]=t[1],j[T+2]=t[2],j[T+3]=255}for(const j of this._figures)YV(v,j,x);return S.putImageData(v,2,2),{canvas:A.canvas,offsetX:o-2*p,offsetY:l-2*y,scaleX:p,scaleY:y}}getPattern(e,t,r,i){R_(e,this._bbox);let s;if(i===Ki.SHADING)s=ht.singularValueDecompose2dScale(tr(e));else if(s=ht.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=ht.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,i===Ki.SHADING?null:this._background,t.cachedCanvases);return i!==Ki.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class JV extends Ly{getPattern(){return"hotpink"}}function QV(n){switch(n[0]){case"RadialAxial":return new KV(n);case"Mesh":return new XV(n);case"Dummy":return new JV}throw new Error(`Unknown IR type: ${n[0]}`)}const Rj={COLORED:1,UNCOLORED:2},Gb=class Gb{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;Yx("TilingType: "+o);const d=r[0],f=r[1],h=r[2],p=r[3],y=ht.singularValueDecompose2dScale(this.matrix),x=ht.singularValueDecompose2dScale(this.baseTransform),_=[y[0]*x[0],y[1]*x[1]],w=this.getSizeAndScale(i,this.ctx.canvas.width,_[0]),A=this.getSizeAndScale(s,this.ctx.canvas.height,_[1]),S=e.cachedCanvases.getCanvas("pattern",w.size,A.size,!0),v=S.context,C=u.createCanvasGraphics(v);C.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(C,a,l);let j=d,T=f,P=h,z=p;return d<0&&(j=0,P+=Math.abs(d)),f<0&&(T=0,z+=Math.abs(f)),v.translate(-(w.scale*j),-(A.scale*T)),C.transform(w.scale,0,0,A.scale,0,0),v.save(),this.clipBbox(C,j,T,P,z),C.baseTransform=tr(C.ctx),C.executeOperatorList(t),C.endDrawing(),{canvas:S.canvas,scaleX:w.scale,scaleY:A.scale,offsetX:j,offsetY:T}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max(Gb.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,o=s-r;e.ctx.rect(t,r,a,o),e.current.updateRectMinMax(tr(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case Rj.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case Rj.UNCOLORED:const o=ht.makeHexColor(r[0],r[1],r[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new _V(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==Ki.SHADING&&(s=ht.transform(s,t.baseTransform),this.matrix&&(s=ht.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};Et(Gb,"MAX_PATTERN_SIZE",3e3);let I_=Gb;function ZV({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Ss.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=r>>3,f=r&7,h=n.length;t=new Uint32Array(t.buffer);let p=0;for(let y=0;y<i;y++){for(const _=e+d;e<_;e++){const w=e<h?n[e]:255;t[p++]=w&128?u:l,t[p++]=w&64?u:l,t[p++]=w&32?u:l,t[p++]=w&16?u:l,t[p++]=w&8?u:l,t[p++]=w&4?u:l,t[p++]=w&2?u:l,t[p++]=w&1?u:l}if(f===0)continue;const x=e<h?n[e++]:255;for(let _=0;_<f;_++)t[p++]=x&1<<7-_?u:l}return{srcPos:e,destPos:p}}const Ij=16,Fj=100,eG=15,Mj=10,Oj=1e3,vs=16;function tG(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,a,o,l){e.transform(r,i,s,a,o,l),this.__originalTransform(r,i,s,a,o,l)},n.setTransform=function(r,i,s,a,o,l){e.setTransform(r,i,s,a,o,l),this.__originalSetTransform(r,i,s,a,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,o){e.bezierCurveTo(t,r,i,s,a,o),this.__originalBezierCurveTo(t,r,i,s,a,o)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class nG{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Aw(n,e,t,r,i,s,a,o,l,u){const[d,f,h,p,y,x]=tr(n);if(f===0&&h===0){const A=a*d+y,S=Math.round(A),v=o*p+x,C=Math.round(v),j=(a+l)*d+y,T=Math.abs(Math.round(j)-S)||1,P=(o+u)*p+x,z=Math.abs(Math.round(P)-C)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),S,C),n.drawImage(e,t,r,i,s,0,0,T,z),n.setTransform(d,f,h,p,y,x),[T,z]}if(d===0&&p===0){const A=o*h+y,S=Math.round(A),v=a*f+x,C=Math.round(v),j=(o+u)*h+y,T=Math.abs(Math.round(j)-S)||1,P=(a+l)*f+x,z=Math.abs(Math.round(P)-C)||1;return n.setTransform(0,Math.sign(f),Math.sign(h),0,S,C),n.drawImage(e,t,r,i,s,0,0,z,T),n.setTransform(d,f,h,p,y,x),[z,T]}n.drawImage(e,t,r,i,s,a,o,l,u);const _=Math.hypot(d,f),w=Math.hypot(h,p);return[_*l,w*u]}function rG(n){const{width:e,height:t}=n;if(e>Oj||t>Oj)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),o,l,u;const d=e+7&-8;let f=new Uint8Array(d*t),h=0;for(const w of n.data){let A=128;for(;A>0;)f[h++]=w&A?0:255,A>>=1}let p=0;for(h=0,f[h]!==0&&(a[0]=1,++p),l=1;l<e;l++)f[h]!==f[h+1]&&(a[l]=f[h]?2:1,++p),h++;for(f[h]!==0&&(a[l]=2,++p),o=1;o<t;o++){h=o*d,u=o*s,f[h-d]!==f[h]&&(a[u]=f[h]?1:8,++p);let w=(f[h]?4:0)+(f[h-d]?8:0);for(l=1;l<e;l++)w=(w>>2)+(f[h+1]?4:0)+(f[h-d+1]?8:0),i[w]&&(a[u+l]=i[w],++p),h++;if(f[h-d]!==f[h]&&(a[u+l]=f[h]?2:4,++p),p>r)return null}for(h=d*(t-1),u=o*s,f[h]!==0&&(a[u]=8,++p),l=1;l<e;l++)f[h]!==f[h+1]&&(a[u+l]=f[h]?4:8,++p),h++;if(f[h]!==0&&(a[u+l]=4,++p),p>r)return null;const y=new Int32Array([0,s,-1,0,-s,0,0,0,1]),x=new Path2D;for(o=0;p&&o<=t;o++){let w=o*s;const A=w+e;for(;w<A&&!a[w];)w++;if(w===A)continue;x.moveTo(w%s,o);const S=w;let v=a[w];do{const C=y[v];do w+=C;while(!a[w]);const j=a[w];j!==5&&j!==10?(v=j,a[w]=0):(v=j&51*v>>4,a[w]&=v>>2|v<<2),x.lineTo(w%s,w/s|0),a[w]||--p}while(S!==w);--o}return f=null,a=null,function(w){w.save(),w.scale(1/e,-1/t),w.translate(0,-t),w.fill(x),w.beginPath(),w.restore()}}class Dj{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=G6,this.textMatrixScale=1,this.fontMatrix=a_,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ji.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=ht.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=ht.applyTransform(t,e),i=ht.applyTransform(t.slice(2),e),s=ht.applyTransform([t[0],t[3]],e),a=ht.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,t){ht.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,a,o,l,u,d){const f=ht.bezierBoundingBox(t,r,i,s,a,o,l,u,d);d||this.updateRectMinMax(e,f)}getPathBoundingBox(e=Ki.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ki.STROKE){t||En("Stroke bounding box must include transform.");const i=ht.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=a,r[2]+=s,r[3]+=a}return r}updateClipFromPath(){const e=ht.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Ki.FILL,t=null){return ht.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Bj(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%vs,s=(t-i)/vs,a=i===0?s:s+1,o=n.createImageData(r,vs);let l=0,u;const d=e.data,f=o.data;let h,p,y,x;if(e.kind===d2.GRAYSCALE_1BPP){const _=d.byteLength,w=new Uint32Array(f.buffer,0,f.byteLength>>2),A=w.length,S=r+7>>3,v=4294967295,C=Ss.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(y=h<s?vs:i,u=0,p=0;p<y;p++){const j=_-l;let T=0;const P=j>S?r:j*8-7,z=P&-8;let q=0,R=0;for(;T<z;T+=8)R=d[l++],w[u++]=R&128?v:C,w[u++]=R&64?v:C,w[u++]=R&32?v:C,w[u++]=R&16?v:C,w[u++]=R&8?v:C,w[u++]=R&4?v:C,w[u++]=R&2?v:C,w[u++]=R&1?v:C;for(;T<P;T++)q===0&&(R=d[l++],q=128),w[u++]=R&q?v:C,q>>=1}for(;u<A;)w[u++]=0;n.putImageData(o,0,h*vs)}}else if(e.kind===d2.RGBA_32BPP){for(p=0,x=r*vs*4,h=0;h<s;h++)f.set(d.subarray(l,l+x)),l+=x,n.putImageData(o,0,p),p+=vs;h<a&&(x=r*i*4,f.set(d.subarray(l,l+x)),n.putImageData(o,0,p))}else if(e.kind===d2.RGB_24BPP)for(y=vs,x=r*y,h=0;h<a;h++){for(h>=s&&(y=i,x=r*y),u=0,p=x;p--;)f[u++]=d[l++],f[u++]=d[l++],f[u++]=d[l++],f[u++]=255;n.putImageData(o,0,h*vs)}else throw new Error(`bad image kind: ${e.kind}`)}function zj(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%vs,s=(t-i)/vs,a=i===0?s:s+1,o=n.createImageData(r,vs);let l=0;const u=e.data,d=o.data;for(let f=0;f<a;f++){const h=f<s?vs:i;({srcPos:l}=ZV({src:u,srcPos:l,dest:d,width:r,height:h,nonBlackColor:0})),n.putImageData(o,0,f*vs)}}function u0(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function _w(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Mi){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function Uj(n,e){if(e)return!0;const t=ht.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*bd.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const iG=["butt","round","square"],sG=["miter","round","bevel"],aG={},Hj={};var _d,F_,M_;const NE=class NE{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,u){te(this,_d);this.ctx=e,this.current=new Dj(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new nG(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...tr(this.compositeCtx))}this.ctx.save(),_w(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=tr(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,a=e.fnArray;let o=t||0;const l=s.length;if(l===o)return o;const u=l-o>Mj&&typeof r=="function",d=u?Date.now()+eG:0;let f=0;const h=this.commonObjs,p=this.objs;let y;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,r),o;if(y=a[o],y!==ro.dependency)this[y].apply(this,s[o]);else for(const x of s[o]){const _=x.startsWith("g_")?h:p;if(!_.has(x))return _.get(x,r),o}if(o++,o===l)return o;if(u&&++f>Mj){if(Date.now()>d)return r(),o;f=0}}}endDrawing(){Z(this,_d,F_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),Z(this,_d,M_).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,l=i,u="prescale1",d,f;for(;s>2&&o>1||a>2&&l>1;){let h=o,p=l;s>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/h),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),d=this.cachedCanvases.getCanvas(u,h,p),f=d.context,f.clearRect(0,0,h,p),f.drawImage(e,0,0,o,l,0,0,h,p),e=d.canvas,o=h,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,o=tr(t);let l,u,d,f;if((e.bitmap||e.data)&&e.count>1){const P=e.bitmap||e.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),s]),l=this._cachedBitmapsMap.get(P),l||(l=new Map,this._cachedBitmapsMap.set(P,l));const z=l.get(u);if(z&&!a){const q=Math.round(Math.min(o[0],o[2])+o[4]),R=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:z,offsetX:q,offsetY:R}}d=z}d||(f=this.cachedCanvases.getCanvas("maskCanvas",r,i),zj(f.context,e));let h=ht.transform(o,[1/r,0,0,-1/i,0,0]);h=ht.transform(h,[1,0,0,1,0,-i]);const[p,y,x,_]=ht.getAxialAlignedBoundingBox([0,0,r,i],h),w=Math.round(x-p)||1,A=Math.round(_-y)||1,S=this.cachedCanvases.getCanvas("fillCanvas",w,A),v=S.context,C=p,j=y;v.translate(-C,-j),v.transform(...h),d||(d=this._scaleImage(f.canvas,Ol(v)),d=d.img,l&&a&&l.set(u,d)),v.imageSmoothingEnabled=Uj(tr(v),e.interpolate),Aw(v,d,0,0,d.width,d.height,0,0,r,i),v.globalCompositeOperation="source-in";const T=ht.transform(Ol(v),[1,0,0,1,-C,-j]);return v.fillStyle=a?s.getPattern(t,this,T,Ki.FILL):s,v.fillRect(0,0,r,i),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,S.canvas)),{canvas:S.canvas,offsetX:Math.round(C),offsetY:Math.round(j)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=iG[e]}setLineJoin(e){this.ctx.lineJoin=sG[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...tr(this.suspendedCtx)),u0(this.suspendedCtx,s),tG(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),u0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,r,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,o,l,u,d,f){let h=e.canvas,p=l-d,y=u-f;if(a){if(p<0||y<0||p+r>h.width||y+i>h.height){const _=this.cachedCanvases.getCanvas("maskExtension",r,i),w=_.context;w.drawImage(h,-p,-y),a.some(A=>A!==0)&&(w.globalCompositeOperation="destination-atop",w.fillStyle=ht.makeHexColor(...a),w.fillRect(0,0,r,i),w.globalCompositeOperation="source-over"),h=_.canvas,p=y=0}else if(a.some(_=>_!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(p,y,r,i),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=ht.makeHexColor(...a),e.fillRect(p,y,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const x=new Path2D;x.rect(l,u,r,i),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(h,p,y,r,i,l,u,r,i),t.restore()}save(){this.inSMaskMode?(u0(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),u0(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,a){this.ctx.transform(e,t,r,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let a=s.x,o=s.y,l,u;const d=tr(i),f=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,h=f?r.slice(0):null;for(let p=0,y=0,x=e.length;p<x;p++)switch(e[p]|0){case ro.rectangle:a=t[y++],o=t[y++];const _=t[y++],w=t[y++],A=a+_,S=o+w;i.moveTo(a,o),_===0||w===0?i.lineTo(A,S):(i.lineTo(A,o),i.lineTo(A,S),i.lineTo(a,S)),f||s.updateRectMinMax(d,[a,o,A,S]),i.closePath();break;case ro.moveTo:a=t[y++],o=t[y++],i.moveTo(a,o),f||s.updatePathMinMax(d,a,o);break;case ro.lineTo:a=t[y++],o=t[y++],i.lineTo(a,o),f||s.updatePathMinMax(d,a,o);break;case ro.curveTo:l=a,u=o,a=t[y+4],o=t[y+5],i.bezierCurveTo(t[y],t[y+1],t[y+2],t[y+3],a,o),s.updateCurvePathMinMax(d,l,u,t[y],t[y+1],t[y+2],t[y+3],a,o,h),y+=6;break;case ro.curveTo2:l=a,u=o,i.bezierCurveTo(a,o,t[y],t[y+1],t[y+2],t[y+3]),s.updateCurvePathMinMax(d,l,u,a,o,t[y],t[y+1],t[y+2],t[y+3],h),a=t[y+2],o=t[y+3],y+=4;break;case ro.curveTo3:l=a,u=o,a=t[y+2],o=t[y+3],i.bezierCurveTo(t[y],t[y+1],a,o,a,o),s.updateCurvePathMinMax(d,l,u,t[y],t[y+1],a,o,a,o,h),y+=4;break;case ro.closePath:i.closePath();break}f&&s.updateScalingPathMinMax(d,h),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Ol(t),Ki.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Ol(t),Ki.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=aG}eoClip(){this.pendingClip=Hj}beginText(){this.current.textMatrix=G6,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||a_,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&zt("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",a=((d=r.systemFontInfo)==null?void 0:d.css)||`"${s}", ${r.fallbackName}`;let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let u=t;t<Ij?u=Ij:t>Fj&&(u=Fj),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${o} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,a){this.current.textMatrix=[e,t,r,i,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,d=l&ji.FILL_STROKE_MASK,f=!!(l&ji.ADD_TO_PATH_FLAG),h=a.patternFill&&!o.missingFile;let p;(o.disableFontFace||f||h)&&(p=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||h?(s.save(),s.translate(t,r),s.beginPath(),p(s,u),i&&s.setTransform(...i),(d===ji.FILL||d===ji.FILL_STROKE)&&s.fill(),(d===ji.STROKE||d===ji.FILL_STROKE)&&s.stroke(),s.restore()):((d===ji.FILL||d===ji.FILL_STROKE)&&s.fillText(e,t,r),(d===ji.STROKE||d===ji.FILL_STROKE)&&s.strokeText(e,t,r)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:tr(s),x:t,y:r,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return nn(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,f=e.length,h=r.vertical,p=h?1:-1,y=r.defaultVMetrics,x=i*t.fontMatrix[0],_=t.textRenderingMode===ji.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(d,-1):s.scale(d,1);let w;if(t.patternFill){s.save();const j=t.fillColor.getPattern(s,this,Ol(s),Ki.FILL);w=tr(s),s.restore(),s.fillStyle=j}let A=t.lineWidth;const S=t.textMatrixScale;if(S===0||A===0){const j=t.textRenderingMode&ji.FILL_STROKE_MASK;(j===ji.STROKE||j===ji.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=S;if(a!==1&&(s.scale(a,a),A/=a),s.lineWidth=A,r.isInvalidPDFjsFont){const j=[];let T=0;for(const P of e)j.push(P.unicode),T+=P.width;s.fillText(j.join(""),0,0),t.x+=T*x*d,s.restore(),this.compose();return}let v=0,C;for(C=0;C<f;++C){const j=e[C];if(typeof j=="number"){v+=p*j*i/1e3;continue}let T=!1;const P=(j.isSpace?l:0)+o,z=j.fontChar,q=j.accent;let R,F,$=j.width;if(h){const he=j.vmetric||y,ne=-(j.vmetric?he[1]:$*.5)*x,X=he[2]*x;$=he?-he[0]:$,R=ne/a,F=(v+X)/a}else R=v/a,F=0;if(r.remeasure&&$>0){const he=s.measureText(z).width*1e3/i*a;if($<he&&this.isFontSubpixelAAEnabled){const ne=$/he;T=!0,s.save(),s.scale(ne,1),R/=ne}else $!==he&&(R+=($-he)/2e3*i/a)}if(this.contentVisible&&(j.isInFont||r.missingFile)){if(_&&!q)s.fillText(z,R,F);else if(this.paintChar(z,R,F,w),q){const he=R+i*q.offset.x/a,ne=F-i*q.offset.y/a;this.paintChar(q.fontChar,he,ne,w)}}const W=h?$*x-P*u:$*x+P*u;v+=W,T&&s.restore()}h?t.y-=v:t.x+=v*d,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,a=r.fontDirection,o=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,d=r.textHScale*a,f=r.fontMatrix||a_,h=e.length,p=r.textRenderingMode===ji.INVISIBLE;let y,x,_,w;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(d,a),y=0;y<h;++y){if(x=e[y],typeof x=="number"){w=o*x*s/1e3,this.ctx.translate(w,0),r.x+=w*d;continue}const A=(x.isSpace?u:0)+l,S=i.charProcOperatorList[x.operatorListId];if(!S){zt(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),t.scale(s,s),t.transform(...f),this.executeOperatorList(S),this.restore()),_=ht.applyTransform([x.width,0],f)[0]*s+A,t.translate(_,0),r.x+=_*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,a){this.ctx.rect(r,i,s-r,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||tr(this.ctx),s={createCanvasGraphics:a=>new NE(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new I_(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=ht.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=ht.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=QV(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Ol(t),Ki.SHADING);const i=Ol(t);if(i){const{width:s,height:a}=t.canvas,[o,l,u,d]=ht.getAxialAlignedBoundingBox([0,0,s,a],i);this.ctx.fillRect(o,l,u-o,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){En("Should not call beginInlineImage")}beginImageData(){En("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=tr(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(tr(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Yx("TODO: Support non-isolated groups."),e.knockout&&zt("Knockout groups not supported.");const r=tr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=ht.getAxialAlignedBoundingBox(e.bbox,tr(t));const s=[0,0,t.canvas.width,t.canvas.height];i=ht.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(d,l,u),h=f.context;h.translate(-a,-o),h.transform(...r),e.smask?this.smaskStack.push({canvas:f.canvas,context:h,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),u0(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=tr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=ht.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(Z(this,_d,F_).call(this),_w(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[l,u]=ht.singularValueDecompose2dScale(tr(this.ctx)),{viewportScale:d}=this,f=Math.ceil(a*this.outputScaleX*d),h=Math.ceil(o*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,h);const{canvas:p,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,o*u),_w(this.ctx)}else _w(this.ctx),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.endPath()}this.current=new Dj(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Z(this,_d,M_).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=rG(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=tr(o);o.transform(t,r,i,s,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let d=0,f=a.length;d<f;d+=2){const h=ht.transform(l,[t,r,i,s,a[d],a[d+1]]),[p,y]=ht.applyTransform([0,0],h);o.drawImage(u.canvas,p,y)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:o,height:l,transform:u}=s,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),f=d.context;f.save();const h=this.getObject(a,s);zj(f,h),f.globalCompositeOperation="source-in",f.fillStyle=i?r.getPattern(f,this,Ol(t),Ki.FILL):r,f.fillRect(0,0,o,l),f.restore(),t.save(),t.transform(...u),t.scale(1,-1),Aw(t,d.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){zt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){zt("Dependent image isn't ready yet");return}const a=s.width,o=s.height,l=[];for(let u=0,d=i.length;u<d;u+=2)l.push({transform:[t,0,0,r,i[u],i[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Mi){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;Bj(l,e),s=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(s,Ol(i));i.imageSmoothingEnabled=Uj(tr(i),e.interpolate),Aw(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,a).context;Bj(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),Aw(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===Hj?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=tr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,f=u*e;a=d<1?1/d:1,o=f<1?1/f:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),d=Math.hypot(i,s);if(e===0)a=d/l,o=u/l;else{const f=e*l;a=d>f?d/f:1,o=u>f?u/f:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,s),a.length>0){const o=Math.max(i,s);t.setLineDash(a.map(l=>l/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};_d=new WeakSet,F_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},M_=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let ng=NE;for(const n in ro)ng.prototype[n]!==void 0&&(ng.prototype[ro[n]]=ng.prototype[n]);var fv,pv;class bc{static get workerPort(){return m(this,fv)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");Y(this,fv,e)}static get workerSrc(){return m(this,pv)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");Y(this,pv,e)}}fv=new WeakMap,pv=new WeakMap,te(bc,fv,null),te(bc,pv,"");const kw={UNKNOWN:0,DATA:1,ERROR:2},Nr={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $s(n){switch(n instanceof Error||typeof n=="object"&&n!==null||En('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Vf(n.message);case"MissingPDFException":return new Wf(n.message);case"PasswordException":return new l_(n.message,n.code);case"UnexpectedResponseException":return new Xx(n.message,n.status);case"UnknownErrorException":return new c_(n.message,n.details);default:return new c_(n.message,n.toString())}}var gl,PR,LR,v2;class C0{constructor(e,t,r){te(this,gl);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){Z(this,gl,LR).call(this,s);return}if(s.callback){const o=s.callbackId,l=this.callbackCapabilities[o];if(!l)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],s.callback===kw.DATA)l.resolve(s.data);else if(s.callback===kw.ERROR)l.reject($s(s.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[s.action];if(!a)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const o=this.sourceName,l=s.sourceName;new Promise(function(u){u(a(s.data))}).then(function(u){r.postMessage({sourceName:o,targetName:l,callback:kw.DATA,callbackId:s.callbackId,data:u})},function(u){r.postMessage({sourceName:o,targetName:l,callback:kw.ERROR,callbackId:s.callbackId,reason:$s(u)})});return}if(s.streamId){Z(this,gl,PR).call(this,s);return}a(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:Nr.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Ur(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Nr.CANCEL,streamId:s,reason:$s(u)}),d.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}gl=new WeakSet,PR=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,f){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=d,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Nr.ENQUEUE,streamId:t,chunk:u},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Nr.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Ur(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Nr.ERROR,streamId:t,reason:$s(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(o(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Nr.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:Nr.START_COMPLETE,streamId:t,reason:$s(u)})})},LR=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Nr.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject($s(e.reason));break;case Nr.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject($s(e.reason));break;case Nr.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:Nr.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=o.onPull)==null?void 0:u.call(o))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Nr.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:Nr.PULL_COMPLETE,streamId:t,reason:$s(l)})});break;case Nr.ENQUEUE:if(Ur(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Nr.CLOSE:if(Ur(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),Z(this,gl,v2).call(this,a,t);break;case Nr.ERROR:Ur(a,"error should have stream controller"),a.controller.error($s(e.reason)),Z(this,gl,v2).call(this,a,t);break;case Nr.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject($s(e.reason)),Z(this,gl,v2).call(this,a,t);break;case Nr.CANCEL:if(!o)break;new Promise(function(l){var u;l((u=o.onCancel)==null?void 0:u.call(o,$s(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Nr.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:Nr.CANCEL_COMPLETE,streamId:t,reason:$s(l)})}),o.sinkCapability.reject($s(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},v2=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Lh,gv;class oG{constructor({parsedData:e,rawData:t}){te(this,Lh);te(this,gv);Y(this,Lh,e),Y(this,gv,t)}getRaw(){return m(this,gv)}get(e){return m(this,Lh).get(e)??null}getAll(){return hE(m(this,Lh))}has(e){return m(this,Lh).has(e)}}Lh=new WeakMap,gv=new WeakMap;const xu=Symbol("INTERNAL");var mv,vv,yv,xg;class lG{constructor(e,{name:t,intent:r,usage:i}){te(this,mv,!1);te(this,vv,!1);te(this,yv,!1);te(this,xg,!0);Y(this,mv,!!(e&ka.DISPLAY)),Y(this,vv,!!(e&ka.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(m(this,yv))return m(this,xg);if(!m(this,xg))return!1;const{print:e,view:t}=this.usage;return m(this,mv)?(t==null?void 0:t.viewState)!=="OFF":m(this,vv)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==xu&&En("Internal method `_setVisible` called."),Y(this,yv,r),Y(this,xg,t)}}mv=new WeakMap,vv=new WeakMap,yv=new WeakMap,xg=new WeakMap;var Mu,Cn,Sg,Ag,wv,O_;class cG{constructor(e,t=ka.DISPLAY){te(this,wv);te(this,Mu,null);te(this,Cn,new Map);te(this,Sg,null);te(this,Ag,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,Y(this,Ag,e.order);for(const r of e.groups)m(this,Cn).set(r.id,new lG(t,r));if(e.baseState==="OFF")for(const r of m(this,Cn).values())r._setVisible(xu,!1);for(const r of e.on)m(this,Cn).get(r)._setVisible(xu,!0);for(const r of e.off)m(this,Cn).get(r)._setVisible(xu,!1);Y(this,Sg,this.getHash())}}isVisible(e){if(m(this,Cn).size===0)return!0;if(!e)return Yx("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,Cn).has(e.id)?m(this,Cn).get(e.id).visible:(zt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return Z(this,wv,O_).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,Cn).has(t))return zt(`Optional content group not found: ${t}`),!0;if(m(this,Cn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,Cn).has(t))return zt(`Optional content group not found: ${t}`),!0;if(!m(this,Cn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,Cn).has(t))return zt(`Optional content group not found: ${t}`),!0;if(!m(this,Cn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,Cn).has(t))return zt(`Optional content group not found: ${t}`),!0;if(m(this,Cn).get(t).visible)return!1}return!0}return zt(`Unknown optional content policy ${e.policy}.`),!0}return zt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=m(this,Cn).get(e);if(!r){zt(`Optional content group not found: ${e}`);return}r._setVisible(xu,!!t,!0),Y(this,Mu,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=m(this,Cn).get(i);if(s)switch(r){case"ON":s._setVisible(xu,!0);break;case"OFF":s._setVisible(xu,!1);break;case"Toggle":s._setVisible(xu,!s.visible);break}}Y(this,Mu,null)}get hasInitialVisibility(){return m(this,Sg)===null||this.getHash()===m(this,Sg)}getOrder(){return m(this,Cn).size?m(this,Ag)?m(this,Ag).slice():[...m(this,Cn).keys()]:null}getGroups(){return m(this,Cn).size>0?hE(m(this,Cn)):null}getGroup(e){return m(this,Cn).get(e)||null}getHash(){if(m(this,Mu)!==null)return m(this,Mu);const e=new CR;for(const[t,r]of m(this,Cn))e.update(`${t}:${r.visible}`);return Y(this,Mu,e.hexdigest())}}Mu=new WeakMap,Cn=new WeakMap,Sg=new WeakMap,Ag=new WeakMap,wv=new WeakSet,O_=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=Z(this,wv,O_).call(this,s);else if(m(this,Cn).has(s))a=m(this,Cn).get(s).visible;else return zt(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class uG{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Ur(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Ur(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ur(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new dG(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new hG(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class dG{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=vE(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class hG{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function fG(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=a(n),t){const d=u(t);return s(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function r(d,f){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(d,f){if(d){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const h=new TextDecoder(d,{fatal:!0}),p=Jx(f);f=h.decode(p),e=!1}catch{}}return f}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const f=[];let h;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=p.exec(d))!==null;){let[,x,_,w]=h;if(x=parseInt(x,10),x in f){if(x===0)break;continue}f[x]=[_,w]}const y=[];for(let x=0;x<f.length&&x in f;++x){let[_,w]=f[x];w=o(w),_&&(w=unescape(w),x===0&&(w=l(w))),y.push(w)}return y.join("")}function o(d){if(d.startsWith('"')){const f=d.slice(1).split('\\"');for(let h=0;h<f.length;++h){const p=f[h].indexOf('"');p!==-1&&(f[h]=f[h].slice(0,p),f.length=h+1),f[h]=f[h].replaceAll(/\\(.)/g,"$1")}d=f.join('"')}return d}function l(d){const f=d.indexOf("'");if(f===-1)return d;const h=d.slice(0,f),y=d.slice(f+1).replace(/^[^']*'/,"");return i(h,y)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,h,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,_){return String.fromCharCode(parseInt(_,16))}),i(h,y);try{y=atob(y)}catch{}return i(h,y)})}return""}function bE({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function xE(n){const e=n("Content-Disposition");if(e){let t=fG(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(vE(t))return t}return null}function n5(n,e){return n===404||n===0&&e.startsWith("file:")?new Wf('Missing PDF "'+e+'".'):new Xx(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function TR(n){return n===200||n===206}function RR(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function IR(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function FR(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(zt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class $j{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ur(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new pG(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new gG(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class pG{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=IR(this._stream.httpHeaders);const r=t.url;fetch(r,RR(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!TR(i.status))throw n5(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:a,suggestedLength:o}=bE({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=xE(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Vf("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:FR(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class gG{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=IR(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,RR(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!TR(a.status))throw n5(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:FR(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const kS=200,CS=206;function mG(n){const e=n.response;return typeof e!="string"?e:Jx(e).buffer}class vG{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const a=this.httpHeaders[s];a!==void 0&&t.setRequestHeader(s,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=CS):i.expectedStatus=kS,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,u,d;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||kS;if(!(s===kS&&r.expectedStatus===CS)&&s!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const o=mG(i);if(s===CS){const f=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);r.onDone({begin:parseInt(h[1],10),chunk:o})}else o?r.onDone({begin:0,chunk:o}):(d=r.onError)==null||d.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class yG{constructor(e){this._source=e,this._manager=new vG(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ur(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new wG(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new bG(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class wG{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=a=>t.getResponseHeader(a),{allowRangeRequests:i,suggestedLength:s}=bE({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=xE(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=n5(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class bG{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=n5(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const MR=/^file:\/\/\/[a-zA-Z]:\//;function xG(n){const e=wl.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class SG{constructor(e){this.source=e,this.url=xG(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ur(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new kG(this):new AG(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new CG(this,e,t):new _G(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class OR{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Vf("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class DR{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Lb(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class AG extends OR{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const o=new Wf(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=bE({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=xE(i)};if(this._request=null,this._url.protocol==="http:"){const r=wl.get("http");this._request=r.request(Lb(this._url,e.httpHeaders),t)}else{const r=wl.get("https");this._request=r.request(Lb(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class _G extends DR{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const a=e.httpHeaders[s];a!==void 0&&(this._httpHeaders[s]=a)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const a=new Wf(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=wl.get("http");this._request=s.request(Lb(this._url,this._httpHeaders),i)}else{const s=wl.get("https");this._request=s.request(Lb(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class kG extends OR{constructor(e){super(e);let t=decodeURIComponent(this._url.path);MR.test(this._url.href)&&(t=t.replace(/^\//,""));const r=wl.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Wf(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class CG extends DR{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);MR.test(this._url.href)&&(i=i.replace(/^\//,""));const s=wl.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const EG=1e5,fs=30,NG=.8;var z4,Ou,ms,bv,xv,Th,tc,Sv,Av,Rh,_g,kg,Du,Cg,_v,Eg,Ih,kv,Cv,Dr,Fh,Mh,Bu,Ng,jc,BR,zR,D_,ml,y2,UR,HR;let Tb=(Dr=class{constructor({textContentSource:e,container:t,viewport:r}){te(this,jc);te(this,Ou,Promise.withResolvers());te(this,ms,null);te(this,bv,!1);te(this,xv,!!((z4=globalThis.FontInspector)!=null&&z4.enabled));te(this,Th,null);te(this,tc,null);te(this,Sv,0);te(this,Av,0);te(this,Rh,null);te(this,_g,null);te(this,kg,0);te(this,Du,0);te(this,Cg,Object.create(null));te(this,_v,[]);te(this,Eg,null);te(this,Ih,[]);te(this,kv,new WeakMap);te(this,Cv,null);var l;if(e instanceof ReadableStream)Y(this,Eg,e);else if(typeof e=="object")Y(this,Eg,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');Y(this,ms,Y(this,_g,t)),Y(this,Du,r.scale*(globalThis.devicePixelRatio||1)),Y(this,kg,r.rotation),Y(this,tc,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;Y(this,Cv,[1,0,0,-1,-a,o+s]),Y(this,Av,i),Y(this,Sv,s),Z(l=Dr,ml,UR).call(l),Pf(t,r),m(this,Ou).promise.catch(()=>{}).then(()=>{m(Dr,Ng).delete(this),Y(this,tc,null),Y(this,Cg,null)})}render(){const e=()=>{m(this,Rh).read().then(({value:t,done:r})=>{if(r){m(this,Ou).resolve();return}m(this,Th)??Y(this,Th,t.lang),Object.assign(m(this,Cg),t.styles),Z(this,jc,BR).call(this,t.items),e()},m(this,Ou).reject)};return Y(this,Rh,m(this,Eg).getReader()),m(Dr,Ng).add(this),e(),m(this,Ou).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==m(this,kg)&&(t==null||t(),Y(this,kg,i),Pf(m(this,_g),{rotation:i})),r!==m(this,Du)){t==null||t(),Y(this,Du,r);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Z(s=Dr,ml,y2).call(s,m(this,Th))};for(const o of m(this,Ih))a.properties=m(this,kv).get(o),a.div=o,Z(this,jc,D_).call(this,a)}}cancel(){var t;const e=new Vf("TextLayer task cancelled.");(t=m(this,Rh))==null||t.cancel(e).catch(()=>{}),Y(this,Rh,null),m(this,Ou).reject(e)}get textDivs(){return m(this,Ih)}get textContentItemsStr(){return m(this,_v)}static cleanup(){if(!(m(this,Ng).size>0)){m(this,Fh).clear();for(const{canvas:e}of m(this,Mh).values())e.remove();m(this,Mh).clear()}}},Ou=new WeakMap,ms=new WeakMap,bv=new WeakMap,xv=new WeakMap,Th=new WeakMap,tc=new WeakMap,Sv=new WeakMap,Av=new WeakMap,Rh=new WeakMap,_g=new WeakMap,kg=new WeakMap,Du=new WeakMap,Cg=new WeakMap,_v=new WeakMap,Eg=new WeakMap,Ih=new WeakMap,kv=new WeakMap,Cv=new WeakMap,Fh=new WeakMap,Mh=new WeakMap,Bu=new WeakMap,Ng=new WeakMap,jc=new WeakSet,BR=function(e){var i,s;if(m(this,bv))return;(s=m(this,tc)).ctx??(s.ctx=Z(i=Dr,ml,y2).call(i,m(this,Th)));const t=m(this,Ih),r=m(this,_v);for(const a of e){if(t.length>EG){zt("Ignoring additional textDivs for performance reasons."),Y(this,bv,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=m(this,ms);Y(this,ms,document.createElement("span")),m(this,ms).classList.add("markedContent"),a.id!==null&&m(this,ms).setAttribute("id",`${a.id}`),o.append(m(this,ms))}else a.type==="endMarkedContent"&&Y(this,ms,m(this,ms).parentNode);continue}r.push(a.str),Z(this,jc,zR).call(this,a)}},zR=function(e){var x;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,Ih).push(t);const i=ht.transform(m(this,Cv),e.transform);let s=Math.atan2(i[1],i[0]);const a=m(this,Cg)[e.fontName];a.vertical&&(s+=Math.PI/2);const o=m(this,xv)&&a.fontSubstitution||a.fontFamily,l=Math.hypot(i[2],i[3]),u=l*Z(x=Dr,ml,HR).call(x,o,m(this,Th));let d,f;s===0?(d=i[4],f=i[5]-u):(d=i[4]+u*Math.sin(s),f=i[5]-u*Math.cos(s));const h="calc(var(--scale-factor)*",p=t.style;m(this,ms)===m(this,_g)?(p.left=`${(100*d/m(this,Av)).toFixed(2)}%`,p.top=`${(100*f/m(this,Sv)).toFixed(2)}%`):(p.left=`${h}${d.toFixed(2)}px)`,p.top=`${h}${f.toFixed(2)}px)`),p.fontSize=`${h}${(m(Dr,Bu)*l).toFixed(2)}px)`,p.fontFamily=o,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,xv)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),w=Math.abs(e.transform[3]);_!==w&&Math.max(_,w)/Math.min(_,w)>1.5&&(y=!0)}if(y&&(r.canvasWidth=a.vertical?e.height:e.width),m(this,kv).set(t,r),m(this,tc).div=t,m(this,tc).properties=r,Z(this,jc,D_).call(this,m(this,tc)),r.hasText&&m(this,ms).append(t),r.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),m(this,ms).append(_)}},D_=function(e){const{div:t,properties:r,ctx:i,prevFontSize:s,prevFontFamily:a}=e,{style:o}=t;let l="";if(m(Dr,Bu)>1&&(l=`scale(${1/m(Dr,Bu)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=o,{canvasWidth:d,fontSize:f}=r;(s!==f||a!==u)&&(i.font=`${f*m(this,Du)}px ${u}`,e.prevFontSize=f,e.prevFontFamily=u);const{width:h}=i.measureText(t.textContent);h>0&&(l=`scaleX(${d*m(this,Du)/h}) ${l}`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(o.transform=l)},ml=new WeakSet,y2=function(e=null){let t=m(this,Mh).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,Mh).set(e,t)}return t},UR=function(){if(m(this,Bu)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),Y(this,Bu,e.getBoundingClientRect().height),e.remove()},HR=function(e,t){const r=m(this,Fh).get(e);if(r)return r;const i=Z(this,ml,y2).call(this,t),s=i.font;i.canvas.width=i.canvas.height=fs,i.font=`${fs}px ${e}`;const a=i.measureText("");let o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);if(o){const f=o/(o+l);return m(this,Fh).set(e,f),i.canvas.width=i.canvas.height=0,i.font=s,f}i.strokeStyle="red",i.clearRect(0,0,fs,fs),i.strokeText("g",0,0);let u=i.getImageData(0,0,fs,fs).data;l=0;for(let f=u.length-1-3;f>=0;f-=4)if(u[f]>0){l=Math.ceil(f/4/fs);break}i.clearRect(0,0,fs,fs),i.strokeText("A",0,fs),u=i.getImageData(0,0,fs,fs).data,o=0;for(let f=0,h=u.length;f<h;f+=4)if(u[f]>0){o=fs-Math.floor(f/4/fs);break}i.canvas.width=i.canvas.height=0,i.font=s;const d=o?o/(o+l):NG;return m(this,Fh).set(e,d),d},te(Dr,ml),te(Dr,Fh,new Map),te(Dr,Mh,new Map),te(Dr,Bu,null),te(Dr,Ng,new Set),Dr);function jG(){eR("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&zt("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Tb({textContentSource:n,container:e,viewport:t}),{textDivs:a,textContentItemsStr:o}=s;return{promise:s.render(),textDivs:a,textContentItemsStr:o}}function PG(){eR("`updateTextLayer`, please use `TextLayer` instead.")}class T1{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(T1.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const LG=65536,TG=100,RG=5e3,IG=Mi?WV:TV,FG=Mi?VV:Q6,MG=Mi?qV:LV,OG=Mi?GV:Z6;function DG(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new B_,{docId:t}=e,r=n.url?BG(n.url):null,i=n.data?zG(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof $R?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:LG;let d=n.worker instanceof rg?n.worker:null;const f=n.verbosity,h=typeof n.docBaseUrl=="string"&&!mE(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,y=n.cMapPacked!==!1,x=n.CMapReaderFactory||FG,_=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,w=n.StandardFontDataFactory||OG,A=n.stopAtErrors!==!0,S=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,v=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Mi,j=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,T=typeof n.disableFontFace=="boolean"?n.disableFontFace:Mi,P=n.fontExtraProperties===!0,z=n.enableXfa===!0,q=n.ownerDocument||globalThis.document,R=n.disableRange===!0,F=n.disableStream===!0,$=n.disableAutoFetch===!0,W=n.pdfBug===!0,he=n.enableHWA===!0,ne=l?l.length:n.length??NaN,X=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Mi&&!T,K=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:x===Q6&&w===Z6&&p&&_&&A0(p,document.baseURI)&&A0(_,document.baseURI),ee=n.canvasFactory||new IG({ownerDocument:q,enableHWA:he}),de=n.filterFactory||new MG({docId:t,ownerDocument:q}),xe=null;bV(f);const M={canvasFactory:ee,filterFactory:de};if(K||(M.cMapReaderFactory=new x({baseUrl:p,isCompressed:y}),M.standardFontDataFactory=new w({baseUrl:_})),!d){const ae={verbosity:f,port:bc.workerPort};d=ae.port?rg.fromPort(ae):new rg(ae),e._worker=d}const J={docId:t,apiVersion:"4.4.168",data:i,password:o,disableAutoFetch:$,rangeChunkSize:u,length:ne,docBaseUrl:h,enableXfa:z,evaluatorOptions:{maxImageSize:S,disableFontFace:T,ignoreErrors:A,isEvalSupported:v,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:j,fontExtraProperties:P,useSystemFonts:X,cMapUrl:K?p:null,standardFontDataUrl:K?_:null}},B={disableFontFace:T,fontExtraProperties:P,ownerDocument:q,pdfBug:W,styleElement:xe,loadingParams:{disableAutoFetch:$,enableXfa:z}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ae=d.messageHandler.sendWithPromise("GetDocRequest",J,i?[i.buffer]:null);let le;if(l)le=new uG(l,{disableRange:R,disableStream:F});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");le=(we=>Mi?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&A0(we.url)?new $j(we):new SG(we):A0(we.url)?new $j(we):new yG(we))({url:r,length:ne,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:R,disableStream:F})}return ae.then(ge=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const we=new C0(t,ge,d.port),Se=new qG(we,e,le,B,M);e._transport=Se,we.send("Ready",null)})}).catch(e._capability.reject),e}function BG(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Mi&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function zG(n){if(Mi&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Jx(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function qj(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Kb;const Yb=class Yb{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Hs(Yb,Kb)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Kb=new WeakMap,te(Yb,Kb,0);let B_=Yb,$R=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){En("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class UG{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return nn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var zu,nc,Na,Lp,w2;class HG{constructor(e,t,r,i=!1){te(this,Na);te(this,zu,null);te(this,nc,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new Pj:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new qR,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new jy({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return nn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=ju.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null}){var S,v;(S=this._stats)==null||S.time("Overall");const f=this._transport.getRenderingIntent(r,i,d),{renderingIntent:h,cacheKey:p}=f;Y(this,nc,!1),Z(this,Na,w2).call(this),o||(o=this._transport.getOptionalContentConfig(h));let y=this._intentStates.get(p);y||(y=Object.create(null),this._intentStates.set(p,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const x=!!(h&ka.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(v=this._stats)==null||v.time("Page Request"),this._pumpOperatorList(f));const _=C=>{var j;y.renderTasks.delete(w),(this._maybeCleanupAfterRender||x)&&Y(this,nc,!0),Z(this,Na,Lp).call(this,!x),C?(w.capability.reject(C),this._abortOperatorList({intentState:y,reason:C instanceof Error?C:new Error(C)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(j=globalThis.Stats)!=null&&j.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new U_({callback:_,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:u});(y.renderTasks||(y.renderTasks=new Set)).add(w);const A=w.task;return Promise.all([y.displayReadyCapability.promise,o]).then(([C,j])=>{var T;if(this.destroyed){_();return}if((T=this._stats)==null||T.time("Rendering"),!(j.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:C,optionalContentConfig:j}),w.operatorListChanged()}).catch(_),A}getOperatorList({intent:e="display",annotationMode:t=ju.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(o))}const s=this._transport.getRenderingIntent(e,t,r,!0);let a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let o;return a.opListReadCapability||(o=Object.create(null),o.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(o),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>T1.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:u}){if(u){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),Y(this,nc,!1),Z(this,Na,w2).call(this),Promise.all(e)}cleanup(e=!1){Y(this,nc,!0);const t=Z(this,Na,Lp).call(this,!1);return e&&t&&this._stats&&(this._stats=new Pj),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&Z(this,Na,Lp).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),l=this._intentStates.get(t);l.streamReader=o;const u=()=>{o.read().then(({value:d,done:f})=>{if(f){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,l),u())},d=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const f of l.renderTasks)f.operatorListChanged();Z(this,Na,Lp).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(d);else if(l.opListReadCapability)l.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof gE){let i=TG;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Vf(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}zu=new WeakMap,nc=new WeakMap,Na=new WeakSet,Lp=function(e=!1){if(Z(this,Na,w2).call(this),!m(this,nc)||this.destroyed)return!1;if(e)return Y(this,zu,setTimeout(()=>{Y(this,zu,null),Z(this,Na,Lp).call(this,!1)},RG)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Y(this,nc,!1),!0},w2=function(){m(this,zu)&&(clearTimeout(m(this,zu)),Y(this,zu,null))};var Oh,Xb;class $G{constructor(){te(this,Oh,new Set);te(this,Xb,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};m(this,Xb).then(()=>{for(const i of m(this,Oh))i.call(this,r)})}addEventListener(e,t){m(this,Oh).add(t)}removeEventListener(e,t){m(this,Oh).delete(t)}terminate(){m(this,Oh).clear()}}Oh=new WeakMap,Xb=new WeakMap;const Vl={isWorkerDisabled:!1,fakeWorkerId:0};Mi&&(Vl.isWorkerDisabled=!0,bc.workerSrc||(bc.workerSrc="./pdf.worker.mjs")),Vl.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},Vl.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Dh,jg,b2,Pg,x2;const qs=class qs{constructor({name:e=null,port:t=null,verbosity:r=xV()}={}){te(this,jg);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=m(qs,Dh))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(m(qs,Dh)||Y(qs,Dh,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Mi?Promise.all([wl.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new C0("main","worker",e),this._messageHandler.on("ready",function(){}),Z(this,jg,b2).call(this)}_initialize(){if(Vl.isWorkerDisabled||m(qs,Pg,x2)){this._setupFakeWorker();return}let{workerSrc:e}=qs;try{Vl.isSameOrigin(window.location.href,e)||(e=Vl.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new C0("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,Z(this,jg,b2).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{Yx("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Vl.isWorkerDisabled||(zt("Setting up fake worker."),Vl.isWorkerDisabled=!0),qs._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new $G;this._port=t;const r=`fake${Vl.fakeWorkerId++}`,i=new C0(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new C0(r,r+"_worker",t),Z(this,jg,b2).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=m(qs,Dh))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=m(this,Dh))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new qs(e)}static get workerSrc(){if(bc.workerSrc)return bc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return nn(this,"_setupFakeWorkerGlobal",(async()=>m(this,Pg,x2)?m(this,Pg,x2):(await import(this.workerSrc)).WorkerMessageHandler)())}};Dh=new WeakMap,jg=new WeakSet,b2=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Pg=new WeakSet,x2=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},te(qs,Pg),te(qs,Dh);let rg=qs;var rc,Zo,Lg,Tg,el,Bh,E0;class qG{constructor(e,t,r,i,s){te(this,Bh);te(this,rc,new Map);te(this,Zo,new Map);te(this,Lg,new Map);te(this,Tg,new Map);te(this,el,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new qR,this.fontLoader=new HV({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return nn(this,"annotationStorage",new wE)}getRenderingIntent(e,t=ju.ENABLE,r=null,i=!1){let s=ka.DISPLAY,a=L_;switch(e){case"any":s=ka.ANY;break;case"display":break;case"print":s=ka.PRINT;break;default:zt(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case ju.DISABLE:s+=ka.ANNOTATIONS_DISABLE;break;case ju.ENABLE:break;case ju.ENABLE_FORMS:s+=ka.ANNOTATIONS_FORMS;break;case ju.ENABLE_STORAGE:s+=ka.ANNOTATIONS_STORAGE,a=(s&ka.PRINT&&r instanceof NR?r:this.annotationStorage).serializable;break;default:zt(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=ka.OPLIST),{renderingIntent:s,cacheKey:`${s}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=m(this,el))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,Zo).values())e.push(i._destroy());m(this,Zo).clear(),m(this,Lg).clear(),m(this,Tg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),m(this,rc).clear(),this.filterFactory.destroy(),Tb.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Vf("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Ur(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Ur(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var a;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),s.onProgress=o=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:o.loaded,total:o.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{Ur(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Ur(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new UG(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new l_(r.message,r.code);break;case"InvalidPDFException":i=new K6(r.message);break;case"MissingPDFException":i=new Wf(r.message);break;case"UnexpectedResponseException":i=new Xx(r.message,r.status);break;case"UnknownErrorException":i=new c_(r.message,r.details);break;default:En("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(Y(this,el,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?m(this,el).reject(s):m(this,el).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){m(this,el).reject(s)}}else m(this,el).reject(new l_(r.message,r.code));return m(this,el).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;m(this,Zo).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const p=s.error;zt(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const d=u&&((a=globalThis.FontInspector)!=null&&a.enabled)?(p,y)=>globalThis.FontInspector.fontAdded(p,y):null,f=new $V(s,{disableFontFace:o,inspectFont:d});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&f.data&&(f.data=null),this.commonObjs.resolve(r,f)});break;case"CopyLocalImage":const{imageRef:h}=s;Ur(h,"The imageRef must be defined.");for(const p of m(this,Zo).values())for(const[,y]of p.objs)if((y==null?void 0:y.ref)===h)return y.dataLen?(this.commonObjs.resolve(r,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=m(this,Zo).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":o.objs.resolve(r,a),(a==null?void 0:a.dataLen)>mV&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&zt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=m(this,Lg).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&m(this,Tg).set(s.refStr,e);const a=new HG(t,s,this,this._params.pdfBug);return m(this,Zo).set(t,a),a});return m(this,Lg).set(t,i),i}getPageIndex(e){return qj(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return Z(this,Bh,E0).call(this,"GetFieldObjects")}hasJSActions(){return Z(this,Bh,E0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Z(this,Bh,E0).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return Z(this,Bh,E0).call(this,"GetOptionalContentConfig").then(t=>new cG(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,rc).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new oG(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return m(this,rc).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,Zo).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,rc).clear(),this.filterFactory.destroy(!0),Tb.cleanup()}}cachedPageNumber(e){if(!qj(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,Tg).get(t)??null}}rc=new WeakMap,Zo=new WeakMap,Lg=new WeakMap,Tg=new WeakMap,el=new WeakMap,Bh=new WeakSet,E0=function(e,t=null){const r=m(this,rc).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return m(this,rc).set(e,i),i};const Cw=Symbol("INITIAL_DATA");var co,Ev,z_;class qR{constructor(){te(this,Ev);te(this,co,Object.create(null))}get(e,t=null){if(t){const i=Z(this,Ev,z_).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=m(this,co)[e];if(!r||r.data===Cw)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=m(this,co)[e];return!!t&&t.data!==Cw}resolve(e,t=null){const r=Z(this,Ev,z_).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in m(this,co)){const{data:r}=m(this,co)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}Y(this,co,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,co)){const{data:t}=m(this,co)[e];t!==Cw&&(yield[e,t])}}}co=new WeakMap,Ev=new WeakSet,z_=function(e){var t;return(t=m(this,co))[e]||(t[e]={...Promise.withResolvers(),data:Cw})};var Uu;class WG{constructor(e){te(this,Uu,null);Y(this,Uu,e),this.onContinue=null}get promise(){return m(this,Uu).capability.promise}cancel(e=0){m(this,Uu).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,Uu).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,Uu);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Uu=new WeakMap;var Hu,zh;const oh=class oh{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:f=!1,pageColors:h=null}){te(this,Hu,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=f,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new WG(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(m(oh,zh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(oh,zh).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:a}=this.params;this.gfx=new ng(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),m(this,Hu)&&(window.cancelAnimationFrame(m(this,Hu)),Y(this,Hu,null)),m(oh,zh).delete(this._canvas),this.callback(e||new gE(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Y(this,Hu,window.requestAnimationFrame(()=>{Y(this,Hu,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(oh,zh).delete(this._canvas),this.callback())))}};Hu=new WeakMap,zh=new WeakMap,te(oh,zh,new WeakSet);let U_=oh;const VG="4.4.168",GG="19fbc8998";function Wj(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function d0(n){return Math.max(0,Math.min(255,255*n))}class Vj{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=d0(e),[e,e,e]}static G_HTML([e]){const t=Wj(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(d0)}static RGB_HTML(e){return`#${e.map(Wj).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[d0(1-Math.min(1,e+i)),d0(1-Math.min(1,r+i)),d0(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class WR{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var f,h;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&T1.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const d=[[i,-1,a]];for(;d.length>0;){const[p,y,x]=d.at(-1);if(y+1===p.children.length){d.pop();continue}const _=p.children[++d.at(-1)[1]];if(_===null)continue;const{name:w}=_;if(w==="#text"){const S=document.createTextNode(_.value);u.push(S),x.append(S);continue}const A=(f=_==null?void 0:_.attributes)!=null&&f.xmlns?document.createElementNS(_.attributes.xmlns,w):document.createElement(w);if(x.append(A),_.attributes&&this.setAttributes({html:A,element:_,storage:t,intent:s,linkService:r}),((h=_.children)==null?void 0:h.length)>0)d.push([_,-1,A]);else if(_.value){const S=document.createTextNode(_.value);o&&T1.shouldBuildText(w)&&u.push(S),A.append(S)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ty=1e3,KG=9,Tf=new WeakSet;function xc(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class YG{static create(e){switch(e.data.annotationType){case Rr.LINK:return new VR(e);case Rr.TEXT:return new XG(e);case Rr.WIDGET:switch(e.data.fieldType){case"Tx":return new JG(e);case"Btn":return e.data.radioButton?new YR(e):e.data.checkBox?new ZG(e):new eK(e);case"Ch":return new tK(e);case"Sig":return new QG(e)}return new Gf(e);case Rr.POPUP:return new $_(e);case Rr.FREETEXT:return new eI(e);case Rr.LINE:return new rK(e);case Rr.SQUARE:return new iK(e);case Rr.CIRCLE:return new sK(e);case Rr.POLYLINE:return new tI(e);case Rr.CARET:return new oK(e);case Rr.INK:return new nI(e);case Rr.POLYGON:return new aK(e);case Rr.HIGHLIGHT:return new lK(e);case Rr.UNDERLINE:return new cK(e);case Rr.SQUIGGLY:return new uK(e);case Rr.STRIKEOUT:return new dK(e);case Rr.STAMP:return new rI(e);case Rr.FILEATTACHMENT:return new hK(e);default:return new Sr(e)}}}var Uh,Rg,Ig,Nv,H_;const jE=class jE{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){te(this,Nv);te(this,Uh,null);te(this,Rg,!1);te(this,Ig,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return jE._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;m(this,Uh)||Y(this,Uh,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&Z(this,Nv,H_).call(this,t),(r=m(this,Ig))==null||r.popup.updateEdited(e)}resetEdited(){var e;m(this,Uh)&&(Z(this,Nv,H_).call(this,m(this,Uh).rect),(e=m(this,Ig))==null||e.popup.resetEdited(),Y(this,Uh,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Gf||(s.tabIndex=Ty);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof $_){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,s),s}const{width:o,height:l}=xc(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(x>0||_>0){const A=`calc(${x}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;a.borderRadius=A}else if(this instanceof YR){const A=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=A}switch(t.borderStyle.style){case c0.SOLID:a.borderStyle="solid";break;case c0.DASHED:a.borderStyle="dashed";break;case c0.BEVELED:zt("Unimplemented border style: beveled");break;case c0.INSET:zt("Unimplemented border style: inset");break;case c0.UNDERLINE:a.borderBottomStyle="solid";break}const w=t.borderColor||null;w?(Y(this,Rg,!0),a.borderColor=ht.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):a.borderWidth=0}const u=ht.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:f,pageX:h,pageY:p}=i.rawDims;a.left=`${100*(u[0]-h)/d}%`,a.top=`${100*(u[1]-p)/f}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(a.width=`${100*o/d}%`,a.height=`${100*l/f}%`):this.setRotation(y,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=xc(this.data.rect);let o,l;e%180===0?(o=100*s/r,l=100*a/i):(o=100*a/r,l=100*s/i),t.style.width=`${o}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[r]=Vj[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:Vj[`${a}_rgb`](o)})};return nn(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,_,w,A]=e.subarray(2,6);if(i===x&&s===_&&t===w&&r===A)return}const{style:a}=this.container;let o;if(m(this,Rg)){const{borderColor:x,borderWidth:_}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:d}=this,f=d.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const h=d.createElement("defs");f.append(h);const p=d.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),h.append(p);for(let x=2,_=e.length;x<_;x+=8){const w=e[x],A=e[x+1],S=e[x+2],v=e[x+3],C=d.createElement("rect"),j=(S-t)/l,T=(s-A)/u,P=(w-S)/l,z=(A-v)/u;C.setAttribute("x",j),C.setAttribute("y",T),C.setAttribute("width",P),C.setAttribute("height",z),p.append(C),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${j}" y="${T}" width="${P}" height="${z}"/>`)}m(this,Rg)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=Y(this,Ig,new $_({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){En("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!Tf.has(u)){zt(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&Tf.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Uh=new WeakMap,Rg=new WeakMap,Ig=new WeakMap,Nv=new WeakSet,H_=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:d}=xc(e);t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*u/s}%`,t.height=`${100*d/a}%`):this.setRotation(i)};let Sr=jE;var ea,nh,GR,KR;class VR extends Sr{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});te(this,ea);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(Z(this,ea,GR).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(Z(this,ea,KR).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&Z(this,ea,nh).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),Z(this,ea,nh).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),Z(this,ea,nh).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),Z(this,ea,nh).call(this),!this._fieldObjects){zt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var f;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const h=new Set(a);for(const p of s){const y=this._fieldObjects[p]||[];for(const{id:x}of y)h.add(x)}for(const p of Object.values(this._fieldObjects))for(const y of p)h.has(y.id)===o&&l.push(y)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const u=this.annotationStorage,d=[];for(const h of l){const{id:p}=h;switch(d.push(p),h.type){case"text":{const x=h.defaultValue||"";u.setValue(p,{value:x});break}case"checkbox":case"radiobutton":{const x=h.defaultValue===h.exportValues;u.setValue(p,{value:x});break}case"combobox":case"listbox":{const x=h.defaultValue||"";u.setValue(p,{value:x});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!Tf.has(y)){zt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}ea=new WeakSet,nh=function(){this.container.setAttribute("data-internal-link","")},GR=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},Z(this,ea,nh).call(this)},KR=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),Z(this,ea,nh).call(this)};class XG extends Sr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Gf extends Sr{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ss.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,o;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ht.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||KG,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(xS*i))||1,f=u/d;a=Math.min(i,l(f/xS))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(u/xS))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=ht.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class JG extends Gf{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Tf.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Ty,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",h=>{e.setValue(t,{value:h.target.value}),this.setPropertyOnSiblings(r,"value",h.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue??"";r.value=d.userValue=p,d.formattedValue=null});let f=h=>{const{formattedValue:p}=d;p!=null&&(h.target.value=p),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var x;if(d.focused)return;const{target:y}=p;d.userValue&&(y.value=d.userValue),d.lastCommittedValue=y.value,d.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const y={value(x){d.userValue=x.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),x.target.value=d.userValue},formattedValue(x){const{formattedValue:_}=x.detail;d.formattedValue=_,_!=null&&x.target!==document.activeElement&&(x.target.value=_),e.setValue(t,{formattedValue:_})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var S;const{charLimit:_}=x.detail,{target:w}=x;if(_===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",_);let A=d.userValue;!A||A.length<=_||(A=A.slice(0,_),w.value=d.userValue=A,e.setValue(t,{value:A}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(y,p)}),r.addEventListener("keydown",p=>{var _;d.commitKey=1;let y=-1;if(p.key==="Escape"?y=0:p.key==="Enter"&&!this.data.multiLine?y=2:p.key==="Tab"&&(d.commitKey=3),y===-1)return;const{value:x}=p.target;d.lastCommittedValue!==x&&(d.lastCommittedValue=x,d.userValue=x,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:y,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const h=f;f=null,r.addEventListener("blur",p=>{var x,_;if(!d.focused||!p.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(d.focused=!1);const{value:y}=p.target;d.userValue=y,d.lastCommittedValue!==y&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:d.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),h(p)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",p=>{var C;d.lastCommittedValue=null;const{data:y,target:x}=p,{value:_,selectionStart:w,selectionEnd:A}=x;let S=w,v=A;switch(p.inputType){case"deleteWordBackward":{const j=_.substring(0,w).match(/\w*[^\w]*$/);j&&(S-=j[0].length);break}case"deleteWordForward":{const j=_.substring(w).match(/^[^\w]*\w*/);j&&(v+=j[0].length);break}case"deleteContentBackward":w===A&&(S-=1);break;case"deleteContentForward":w===A&&(v+=1);break}p.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:y||"",willCommit:!1,selStart:S,selEnd:v}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(f&&r.addEventListener("blur",f),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class QG extends Gf{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class ZG extends Gf{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Tf.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Ty,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class YR extends Gf{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Tf.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Ty,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const f of this._getElementsByName(u.target.name)){const h=d&&f.id===r;f.domElement&&(f.domElement.checked=h),e.setValue(f.id,{value:h})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class eK extends VR{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class tK extends Gf{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Tf.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Ty;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const f=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===f});for(const d of this.data.options){const f=document.createElement("option");f.textContent=d.displayValue,f.value=d.exportValue,r.value.includes(d.exportValue)&&(f.setAttribute("selected",!0),s=!1),i.append(f)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const f=d?"value":"textContent",{options:h,multiple:p}=i;return p?Array.prototype.filter.call(h,y=>y.selected).map(y=>y[f]):h.selectedIndex===-1?null:h[h.selectedIndex][f]};let l=o(!1);const u=d=>{const f=d.target.options;return Array.prototype.map.call(f,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const f={value(h){a==null||a();const p=h.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const x of i.options)x.selected=y.has(x.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(h){i.multiple=!0},remove(h){const p=i.options,y=h.detail.remove;p[y].selected=!1,i.remove(y),p.length>0&&Array.prototype.findIndex.call(p,_=>_.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:o(!0),items:u(h)}),l=o(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(h){const{index:p,displayValue:y,exportValue:x}=h.detail.insert,_=i.children[p],w=document.createElement("option");w.textContent=y,w.value=x,_?_.before(w):i.append(w),e.setValue(t,{value:o(!0),items:u(h)}),l=o(!1)},items(h){const{items:p}=h.detail;for(;i.length!==0;)i.remove(0);for(const y of p){const{displayValue:x,exportValue:_}=y,w=document.createElement("option");w.textContent=x,w.value=_,i.append(w)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(h)}),l=o(!1)},indices(h){const p=new Set(h.detail.indices);for(const y of h.target.options)y.selected=p.has(y.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(f,d)}),i.addEventListener("input",d=>{var p;const f=o(!0),h=o(!1);e.setValue(t,{value:f}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class $_ extends Sr{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Sr._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new nK({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${X6}${r}`).join(",")),this.container}}var Fg,Jb,Qb,Mg,Hh,cr,ic,$h,jv,Pv,Og,sc,uo,ac,Lv,oc,Tv,qh,Wh,Nn,S2,q_,XR,JR,QR,ZR,A2,_2,W_;class nK{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:f}){te(this,Nn);te(this,Fg,Z(this,Nn,QR).bind(this));te(this,Jb,Z(this,Nn,W_).bind(this));te(this,Qb,Z(this,Nn,_2).bind(this));te(this,Mg,Z(this,Nn,A2).bind(this));te(this,Hh,null);te(this,cr,null);te(this,ic,null);te(this,$h,null);te(this,jv,null);te(this,Pv,null);te(this,Og,null);te(this,sc,!1);te(this,uo,null);te(this,ac,null);te(this,Lv,null);te(this,oc,null);te(this,Tv,null);te(this,qh,null);te(this,Wh,!1);var h;Y(this,cr,e),Y(this,Tv,i),Y(this,ic,a),Y(this,oc,o),Y(this,Pv,l),Y(this,Hh,t),Y(this,Lv,u),Y(this,Og,d),Y(this,jv,r),Y(this,$h,tR.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",m(this,Mg)),p.addEventListener("mouseenter",m(this,Qb)),p.addEventListener("mouseleave",m(this,Jb)),p.classList.add("popupTriggerArea");for(const p of r)(h=p.container)==null||h.addEventListener("keydown",m(this,Fg));m(this,cr).hidden=!0,f&&Z(this,Nn,A2).call(this)}render(){if(m(this,uo))return;const e=Y(this,uo,document.createElement("div"));if(e.className="popup",m(this,Hh)){const s=e.style.outlineColor=ht.makeHexColor(...m(this,Hh));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=ht.makeHexColor(...m(this,Hh).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=m(this,Tv),e.append(t),m(this,$h)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:m(this,$h).toLocaleDateString(),time:m(this,$h).toLocaleTimeString()})),t.append(s)}const i=m(this,Nn,S2);if(i)WR.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(m(this,ic));e.append(s)}m(this,cr).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const o=i[s];r.append(document.createTextNode(o)),s<a-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;m(this,qh)||Y(this,qh,{contentsObj:m(this,ic),richText:m(this,oc)}),e&&Y(this,ac,null),t&&(Y(this,oc,Z(this,Nn,JR).call(this,t)),Y(this,ic,null)),(r=m(this,uo))==null||r.remove(),Y(this,uo,null)}resetEdited(){var e;m(this,qh)&&({contentsObj:Hs(this,ic)._,richText:Hs(this,oc)._}=m(this,qh),Y(this,qh,null),(e=m(this,uo))==null||e.remove(),Y(this,uo,null),Y(this,ac,null))}forceHide(){Y(this,Wh,this.isVisible),m(this,Wh)&&(m(this,cr).hidden=!0)}maybeShow(){m(this,Wh)&&(m(this,uo)||Z(this,Nn,_2).call(this),Y(this,Wh,!1),m(this,cr).hidden=!1)}get isVisible(){return m(this,cr).hidden===!1}}Fg=new WeakMap,Jb=new WeakMap,Qb=new WeakMap,Mg=new WeakMap,Hh=new WeakMap,cr=new WeakMap,ic=new WeakMap,$h=new WeakMap,jv=new WeakMap,Pv=new WeakMap,Og=new WeakMap,sc=new WeakMap,uo=new WeakMap,ac=new WeakMap,Lv=new WeakMap,oc=new WeakMap,Tv=new WeakMap,qh=new WeakMap,Wh=new WeakMap,Nn=new WeakSet,S2=function(){const e=m(this,oc),t=m(this,ic);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,oc).html||null},q_=function(){var e,t,r;return((r=(t=(e=m(this,Nn,S2))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},XR=function(){var e,t,r;return((r=(t=(e=m(this,Nn,S2))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},JR=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:m(this,Nn,XR),fontSize:m(this,Nn,q_)?`calc(${m(this,Nn,q_)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},QR=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,sc))&&Z(this,Nn,A2).call(this)},ZR=function(){if(m(this,ac)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=m(this,Pv);let a=!!m(this,Og),o=a?m(this,Og):m(this,Lv);for(const y of m(this,jv))if(!o||ht.intersect(y.data.rect,o)!==null){o=y.data.rect,a=!0;break}const l=ht.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,f=l[0]+d,h=l[1];Y(this,ac,[100*(f-i)/t,100*(h-s)/r]);const{style:p}=m(this,cr);p.left=`${m(this,ac)[0]}%`,p.top=`${m(this,ac)[1]}%`},A2=function(){Y(this,sc,!m(this,sc)),m(this,sc)?(Z(this,Nn,_2).call(this),m(this,cr).addEventListener("click",m(this,Mg)),m(this,cr).addEventListener("keydown",m(this,Fg))):(Z(this,Nn,W_).call(this),m(this,cr).removeEventListener("click",m(this,Mg)),m(this,cr).removeEventListener("keydown",m(this,Fg)))},_2=function(){m(this,uo)||this.render(),this.isVisible?m(this,sc)&&m(this,cr).classList.add("focused"):(Z(this,Nn,ZR).call(this),m(this,cr).hidden=!1,m(this,cr).style.zIndex=parseInt(m(this,cr).style.zIndex)+1e3)},W_=function(){m(this,cr).classList.remove("focused"),!(m(this,sc)||!this.isVisible)&&(m(this,cr).hidden=!0,m(this,cr).style.zIndex=parseInt(m(this,cr).style.zIndex)-1e3)};class eI extends Sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Jt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Rv;class rK extends Sr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});te(this,Rv,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=xc(t.rect),s=this.svgFactory.create(r,i,!0),a=Y(this,Rv,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Rv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rv=new WeakMap;var Iv;class iK extends Sr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});te(this,Iv,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=xc(t.rect),s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=Y(this,Iv,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Iv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Iv=new WeakMap;var Fv;class sK extends Sr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});te(this,Fv,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=xc(t.rect),s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=Y(this,Fv,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Fv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fv=new WeakMap;var Mv;class tI extends Sr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});te(this,Mv,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:a,height:o}=xc(t),l=this.svgFactory.create(a,o,!0);let u=[];for(let f=0,h=r.length;f<h;f+=2){const p=r[f]-t[0],y=t[3]-r[f+1];u.push(`${p},${y}`)}u=u.join(" ");const d=Y(this,Mv,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Mv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mv=new WeakMap;class aK extends tI{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class oK extends Sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ov;class nI extends Sr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});te(this,Ov,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Jt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:a,height:o}=xc(t),l=this.svgFactory.create(a,o,!0);for(const u of r){let d=[];for(let h=0,p=u.length;h<p;h+=2){const y=u[h]-t[0],x=t[3]-u[h+1];d.push(`${y},${x}`)}d=d.join(" ");const f=this.svgFactory.createElement(this.svgElementName);m(this,Ov).push(f),f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),l.append(f)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return m(this,Ov)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ov=new WeakMap;class lK extends Sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class cK extends Sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class uK extends Sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class dK extends Sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rI extends Sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Dv,Bv,V_;class hK extends Sr{constructor(t){var i;super(t,{isRenderable:!0});te(this,Bv);te(this,Dv,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",Z(this,Bv,V_).bind(this)),Y(this,Dv,i);const{isMac:s}=Ss.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&Z(this,Bv,V_).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return m(this,Dv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dv=new WeakMap,Bv=new WeakSet,V_=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var zv,Vh,Dg,Ff,iI,G_,U4;let fK=(U4=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a}){te(this,Ff);te(this,zv,null);te(this,Vh,null);te(this,Dg,new Map);this.div=e,Y(this,zv,t),Y(this,Vh,r),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var a;const{annotations:t}=e,r=this.div;Pf(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new pE,annotationStorage:e.annotationStorage||new wE,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===Rr.POPUP;if(l){const f=i.get(o.id);if(!f)continue;s.elements=f}else{const{width:f,height:h}=xc(o.rect);if(f<=0||h<=0)continue}s.data=o;const u=YG.create(s);if(!u.isRenderable)continue;if(!l&&o.popupRef){const f=i.get(o.popupRef);f?f.push(u):i.set(o.popupRef,[u])}const d=u.render();o.hidden&&(d.style.visibility="hidden"),Z(this,Ff,iI).call(this,d,o.id),u.annotationEditorType>0&&(m(this,Dg).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}Z(this,Ff,G_).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Pf(t,{rotation:e.rotation}),Z(this,Ff,G_).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,Dg).values())}getEditableAnnotation(e){return m(this,Dg).get(e)}},zv=new WeakMap,Vh=new WeakMap,Dg=new WeakMap,Ff=new WeakSet,iI=function(e,t){var i;const r=e.firstChild||e;r.id=`${X6}${t}`,this.div.append(e),(i=m(this,zv))==null||i.moveElementInDOM(this.div,e,r,!1)},G_=function(){if(!m(this,Vh))return;const e=this.div;for(const[t,r]of m(this,Vh)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}m(this,Vh).clear()},U4);const Ew=/\r\n?|\n/g;var Uv,Hv,$v,qv,Wv,ho,Ks,Vv,Ys,Bg,Pr,sI,aI,oI,k2,Ac,C2,E2,lI,Y_,cI;const Dn=class Dn extends wn{constructor(t){super({...t,name:"freeTextEditor"});te(this,Pr);te(this,Uv,this.editorDivBlur.bind(this));te(this,Hv,this.editorDivFocus.bind(this));te(this,$v,this.editorDivInput.bind(this));te(this,qv,this.editorDivKeydown.bind(this));te(this,Wv,this.editorDivPaste.bind(this));te(this,ho);te(this,Ks,"");te(this,Vv,`${this.id}-editor`);te(this,Ys);te(this,Bg,null);Y(this,ho,t.color||Dn._defaultColor||wn._defaultLineColor),Y(this,Ys,t.fontSize||Dn._defaultFontSize)}static get _keyboardManager(){const t=Dn.prototype,r=a=>a.isEmpty(),i=Lf.TRANSLATE_SMALL,s=Lf.TRANSLATE_BIG;return nn(this,"_keyboardManager",new Py([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){wn.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case Nt.FREETEXT_SIZE:Dn._defaultFontSize=r;break;case Nt.FREETEXT_COLOR:Dn._defaultColor=r;break}}updateParams(t,r){switch(t){case Nt.FREETEXT_SIZE:Z(this,Pr,sI).call(this,r);break;case Nt.FREETEXT_COLOR:Z(this,Pr,aI).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Nt.FREETEXT_SIZE,Dn._defaultFontSize],[Nt.FREETEXT_COLOR,Dn._defaultColor||wn._defaultLineColor]]}get propertiesToUpdate(){return[[Nt.FREETEXT_SIZE,m(this,Ys)],[Nt.FREETEXT_COLOR,m(this,ho)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Dn._internalPadding*t,-(Dn._internalPadding+m(this,Ys))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Jt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",m(this,qv),{signal:t}),this.editorDiv.addEventListener("focus",m(this,Hv),{signal:t}),this.editorDiv.addEventListener("blur",m(this,Uv),{signal:t}),this.editorDiv.addEventListener("input",m(this,$v),{signal:t}),this.editorDiv.addEventListener("paste",m(this,Wv),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,Vv)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",m(this,qv)),this.editorDiv.removeEventListener("focus",m(this,Hv)),this.editorDiv.removeEventListener("blur",m(this,Uv)),this.editorDiv.removeEventListener("input",m(this,$v)),this.editorDiv.removeEventListener("paste",m(this,Wv)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,Ks),r=Y(this,Ks,Z(this,Pr,oI).call(this).trimEnd());if(t===r)return;const i=s=>{if(Y(this,Ks,s),!s){this.remove();return}Z(this,Pr,E2).call(this),this._uiManager.rebuild(this),Z(this,Pr,k2).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),Z(this,Pr,k2).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Dn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,Vv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),wn._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,Ys)}px * var(--scale-factor))`,i.color=m(this,ho),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),jb(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=m(this,Bg);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,f]=this.pageDimensions,[h,p]=this.pageTranslation;let y,x;switch(this.rotation){case 0:y=t+(o[0]-h)/d,x=r+this.height-(o[1]-p)/f;break;case 90:y=t+(o[0]-h)/d,x=r-(o[1]-p)/f,[l,u]=[u,-l];break;case 180:y=t-this.width+(o[0]-h)/d,x=r-(o[1]-p)/f,[l,u]=[-l,-u];break;case 270:y=t+(o[0]-h-this.height*f)/d,x=r+(o[1]-p-this.width*d)/f,[l,u]=[-u,l];break}this.setAt(y*s,x*a,l,u)}else this.setAt(t*s,r*a,this.width*s,this.height*a);Z(this,Pr,E2).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,x,_;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=Z(y=Dn,Ac,Y_).call(y,r.getData("text")||"").replaceAll(Ew,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],f=[];if(l.nodeType===Node.TEXT_NODE){const w=l.parentElement;if(f.push(l.nodeValue.slice(u).replaceAll(Ew,"")),w!==this.editorDiv){let A=d;for(const S of this.editorDiv.childNodes){if(S===w){A=f;continue}A.push(Z(x=Dn,Ac,C2).call(x,S))}}d.push(l.nodeValue.slice(0,u).replaceAll(Ew,""))}else if(l===this.editorDiv){let w=d,A=0;for(const S of this.editorDiv.childNodes)A++===u&&(w=f),w.push(Z(_=Dn,Ac,C2).call(_,S))}Y(this,Ks,`${d.join(`
`)}${s}${f.join(`
`)}`),Z(this,Pr,E2).call(this);const h=new Range;let p=d.reduce((w,A)=>w+A.length,0);for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const A=w.nodeValue.length;if(p<=A){h.setStart(w,p),h.setEnd(w,p);break}p-=A}a.removeAllRanges(),a.addRange(h)}get contentDiv(){return this.editorDiv}static deserialize(t,r,i){var o;let s=null;if(t instanceof eI){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:f,id:h},textContent:p,textPosition:y,parent:{page:{pageNumber:x}}}=t;if(!p||p.length===0)return null;s=t={annotationType:Jt.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:y,pageIndex:x-1,rect:d.slice(0),rotation:f,id:h,deleted:!1}}const a=super.deserialize(t,r,i);return Y(a,Ys,t.fontSize),Y(a,ho,ht.makeHexColor(...t.color)),Y(a,Ks,Z(o=Dn,Ac,Y_).call(o,t.value)),a.annotationElementId=t.id||null,Y(a,Bg,s),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=Dn._internalPadding*this.parentScale,i=this.getRect(r,r),s=wn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,ho)),a={annotationType:Jt.FREETEXT,color:s,fontSize:m(this,Ys),value:Z(this,Pr,lI).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!Z(this,Pr,cI).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${m(this,Ys)}px * var(--scale-factor))`,i.color=m(this,ho),r.replaceChildren();for(const a of m(this,Ks).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),r.append(o)}const s=Dn._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:m(this,Ks)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Uv=new WeakMap,Hv=new WeakMap,$v=new WeakMap,qv=new WeakMap,Wv=new WeakMap,ho=new WeakMap,Ks=new WeakMap,Vv=new WeakMap,Ys=new WeakMap,Bg=new WeakMap,Pr=new WeakSet,sI=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-m(this,Ys))*this.parentScale),Y(this,Ys,s),Z(this,Pr,k2).call(this)},i=m(this,Ys);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},aI=function(t){const r=s=>{Y(this,ho,this.editorDiv.style.color=s)},i=m(this,ho);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},oI=function(){var r;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(Z(r=Dn,Ac,C2).call(r,i));return t.join(`
`)},k2=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Ac=new WeakSet,C2=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Ew,"")},E2=function(){if(this.editorDiv.replaceChildren(),!!m(this,Ks))for(const t of m(this,Ks).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},lI=function(){return m(this,Ks).replaceAll(""," ")},Y_=function(t){return t.replaceAll(" ","")},cI=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=m(this,Bg);return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},te(Dn,Ac),Et(Dn,"_freeTextDefaultContent",""),Et(Dn,"_internalPadding",0),Et(Dn,"_defaultColor",null),Et(Dn,"_defaultFontSize",10),Et(Dn,"_type","freetext"),Et(Dn,"_editorType",Jt.FREETEXT);let K_=Dn;var Gv,$u,fo,Qi,uI,N2,dI,hI,J_;class X_{constructor(e,t=0,r=0,i=!0){te(this,Qi);te(this,Gv);te(this,$u,[]);te(this,fo,[]);let s=1/0,a=-1/0,o=1/0,l=-1/0;const d=10**-4;for(const{x:w,y:A,width:S,height:v}of e){const C=Math.floor((w-t)/d)*d,j=Math.ceil((w+S+t)/d)*d,T=Math.floor((A-t)/d)*d,P=Math.ceil((A+v+t)/d)*d,z=[C,T,P,!0],q=[j,T,P,!1];m(this,$u).push(z,q),s=Math.min(s,C),a=Math.max(a,j),o=Math.min(o,T),l=Math.max(l,P)}const f=a-s+2*r,h=l-o+2*r,p=s-r,y=o-r,x=m(this,$u).at(i?-1:-2),_=[x[0],x[2]];for(const w of m(this,$u)){const[A,S,v]=w;w[0]=(A-p)/f,w[1]=(S-y)/h,w[2]=(v-y)/h}Y(this,Gv,{x:p,y,width:f,height:h,lastPoint:_})}getOutlines(){m(this,$u).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of m(this,$u))t[3]?(e.push(...Z(this,Qi,J_).call(this,t)),Z(this,Qi,dI).call(this,t)):(Z(this,Qi,hI).call(this,t),e.push(...Z(this,Qi,J_).call(this,t)));return Z(this,Qi,uI).call(this,e)}}Gv=new WeakMap,$u=new WeakMap,fo=new WeakMap,Qi=new WeakSet,uI=function(e){const t=[],r=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,u,d,f]=a;r.delete(a);let h=o,p=l;for(s=[o,u],i.push(s);;){let y;if(r.has(d))y=d;else if(r.has(f))y=f;else break;r.delete(y),[o,l,u,d,f]=y,h!==o&&(s.push(h,p,o,p===l?l:u),h=o),p=p===l?u:l}s.push(h,p)}return new pK(i,m(this,Gv))},N2=function(e){const t=m(this,fo);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},dI=function([,e,t]){const r=Z(this,Qi,N2).call(this,e);m(this,fo).splice(r,0,[e,t])},hI=function([,e,t]){const r=Z(this,Qi,N2).call(this,e);for(let i=r;i<m(this,fo).length;i++){const[s,a]=m(this,fo)[i];if(s!==e)break;if(s===e&&a===t){m(this,fo).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=m(this,fo)[i];if(s!==e)break;if(s===e&&a===t){m(this,fo).splice(i,1);return}}},J_=function(e){const[t,r,i]=e,s=[[t,r,i]],a=Z(this,Qi,N2).call(this,i);for(let o=0;o<a;o++){const[l,u]=m(this,fo)[o];for(let d=0,f=s.length;d<f;d++){const[,h,p]=s[d];if(!(u<=h||p<=l)){if(h>=l){if(p>u)s[d][1]=u;else{if(f===1)return[];s.splice(d,1),d--,f--}continue}s[d][2]=l,p>u&&s.push([t,u,p])}}}return s};class fI{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Z_}}var Kv,zg;class pK extends fI{constructor(t,r){super();te(this,Kv);te(this,zg);Y(this,zg,t),Y(this,Kv,r)}toSVGPath(){const t=[];for(const r of m(this,zg)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const o=[],l=i-t,u=s-r;for(const d of m(this,zg)){const f=new Array(d.length);for(let h=0;h<d.length;h+=2)f[h]=t+d[h]*l,f[h+1]=s-d[h+1]*u;o.push(f)}return o}get box(){return m(this,Kv)}}Kv=new WeakMap,zg=new WeakMap;var tl,lc,Ug,Hg,nl,Xt,Gh,Kh,Yv,Xv,$g,qg,qu,Jv,Zb,ex,Qv,Q_;const Hl=class Hl{constructor({x:e,y:t},r,i,s,a,o=0){te(this,Qv);te(this,tl);te(this,lc,[]);te(this,Ug);te(this,Hg);te(this,nl,[]);te(this,Xt,new Float64Array(18));te(this,Gh);te(this,Kh);te(this,Yv);te(this,Xv);te(this,$g);te(this,qg);te(this,qu,[]);Y(this,tl,r),Y(this,qg,s*i),Y(this,Hg,a),m(this,Xt).set([NaN,NaN,NaN,NaN,e,t],6),Y(this,Ug,o),Y(this,Xv,m(Hl,Jv)*i),Y(this,Yv,m(Hl,ex)*i),Y(this,$g,i),m(this,qu).push(e,t)}get free(){return!0}isEmpty(){return isNaN(m(this,Xt)[8])}add({x:e,y:t}){var z;Y(this,Gh,e),Y(this,Kh,t);const[r,i,s,a]=m(this,tl);let[o,l,u,d]=m(this,Xt).subarray(8,12);const f=e-u,h=t-d,p=Math.hypot(f,h);if(p<m(this,Yv))return!1;const y=p-m(this,Xv),x=y/p,_=x*f,w=x*h;let A=o,S=l;o=u,l=d,u+=_,d+=w,(z=m(this,qu))==null||z.push(e,t);const v=-w/y,C=_/y,j=v*m(this,qg),T=C*m(this,qg);return m(this,Xt).set(m(this,Xt).subarray(2,8),0),m(this,Xt).set([u+j,d+T],4),m(this,Xt).set(m(this,Xt).subarray(14,18),12),m(this,Xt).set([u-j,d-T],16),isNaN(m(this,Xt)[6])?(m(this,nl).length===0&&(m(this,Xt).set([o+j,l+T],2),m(this,nl).push(NaN,NaN,NaN,NaN,(o+j-r)/s,(l+T-i)/a),m(this,Xt).set([o-j,l-T],14),m(this,lc).push(NaN,NaN,NaN,NaN,(o-j-r)/s,(l-T-i)/a)),m(this,Xt).set([A,S,o,l,u,d],6),!this.isEmpty()):(m(this,Xt).set([A,S,o,l,u,d],6),Math.abs(Math.atan2(S-l,A-o)-Math.atan2(w,_))<Math.PI/2?([o,l,u,d]=m(this,Xt).subarray(2,6),m(this,nl).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/s,((l+d)/2-i)/a),[o,l,A,S]=m(this,Xt).subarray(14,18),m(this,lc).push(NaN,NaN,NaN,NaN,((A+o)/2-r)/s,((S+l)/2-i)/a),!0):([A,S,o,l,u,d]=m(this,Xt).subarray(0,6),m(this,nl).push(((A+5*o)/6-r)/s,((S+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+d)/6-i)/a,((o+u)/2-r)/s,((l+d)/2-i)/a),[u,d,o,l,A,S]=m(this,Xt).subarray(12,18),m(this,lc).push(((A+5*o)/6-r)/s,((S+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+d)/6-i)/a,((o+u)/2-r)/s,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,nl),t=m(this,lc),r=m(this,Xt).subarray(4,6),i=m(this,Xt).subarray(16,18),[s,a,o,l]=m(this,tl),[u,d,f,h]=Z(this,Qv,Q_).call(this);if(isNaN(m(this,Xt)[6])&&!this.isEmpty())return`M${(m(this,Xt)[2]-s)/o} ${(m(this,Xt)[3]-a)/l} L${(m(this,Xt)[4]-s)/o} ${(m(this,Xt)[5]-a)/l} L${u} ${d} L${f} ${h} L${(m(this,Xt)[16]-s)/o} ${(m(this,Xt)[17]-a)/l} L${(m(this,Xt)[14]-s)/o} ${(m(this,Xt)[15]-a)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let y=6;y<e.length;y+=6)isNaN(e[y])?p.push(`L${e[y+4]} ${e[y+5]}`):p.push(`C${e[y]} ${e[y+1]} ${e[y+2]} ${e[y+3]} ${e[y+4]} ${e[y+5]}`);p.push(`L${(r[0]-s)/o} ${(r[1]-a)/l} L${u} ${d} L${f} ${h} L${(i[0]-s)/o} ${(i[1]-a)/l}`);for(let y=t.length-6;y>=6;y-=6)isNaN(t[y])?p.push(`L${t[y+4]} ${t[y+5]}`):p.push(`C${t[y]} ${t[y+1]} ${t[y+2]} ${t[y+3]} ${t[y+4]} ${t[y+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var w;const e=m(this,nl),t=m(this,lc),r=m(this,Xt),i=r.subarray(4,6),s=r.subarray(16,18),[a,o,l,u]=m(this,tl),d=new Float64Array((((w=m(this,qu))==null?void 0:w.length)??0)+2);for(let A=0,S=d.length-2;A<S;A+=2)d[A]=(m(this,qu)[A]-a)/l,d[A+1]=(m(this,qu)[A+1]-o)/u;d[d.length-2]=(m(this,Gh)-a)/l,d[d.length-1]=(m(this,Kh)-o)/u;const[f,h,p,y]=Z(this,Qv,Q_).call(this);if(isNaN(r[6])&&!this.isEmpty()){const A=new Float64Array(36);return A.set([NaN,NaN,NaN,NaN,(r[2]-a)/l,(r[3]-o)/u,NaN,NaN,NaN,NaN,(r[4]-a)/l,(r[5]-o)/u,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,p,y,NaN,NaN,NaN,NaN,(r[16]-a)/l,(r[17]-o)/u,NaN,NaN,NaN,NaN,(r[14]-a)/l,(r[15]-o)/u],0),new Z_(A,d,m(this,tl),m(this,$g),m(this,Ug),m(this,Hg))}const x=new Float64Array(m(this,nl).length+24+m(this,lc).length);let _=e.length;for(let A=0;A<_;A+=2){if(isNaN(e[A])){x[A]=x[A+1]=NaN;continue}x[A]=e[A],x[A+1]=e[A+1]}x.set([NaN,NaN,NaN,NaN,(i[0]-a)/l,(i[1]-o)/u,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,p,y,NaN,NaN,NaN,NaN,(s[0]-a)/l,(s[1]-o)/u],_),_+=24;for(let A=t.length-6;A>=6;A-=6)for(let S=0;S<6;S+=2){if(isNaN(t[A+S])){x[_]=x[_+1]=NaN,_+=2;continue}x[_]=t[A+S],x[_+1]=t[A+S+1],_+=2}return x.set([NaN,NaN,NaN,NaN,t[4],t[5]],_),new Z_(x,d,m(this,tl),m(this,$g),m(this,Ug),m(this,Hg))}};tl=new WeakMap,lc=new WeakMap,Ug=new WeakMap,Hg=new WeakMap,nl=new WeakMap,Xt=new WeakMap,Gh=new WeakMap,Kh=new WeakMap,Yv=new WeakMap,Xv=new WeakMap,$g=new WeakMap,qg=new WeakMap,qu=new WeakMap,Jv=new WeakMap,Zb=new WeakMap,ex=new WeakMap,Qv=new WeakSet,Q_=function(){const e=m(this,Xt).subarray(4,6),t=m(this,Xt).subarray(16,18),[r,i,s,a]=m(this,tl);return[(m(this,Gh)+(e[0]-t[0])/2-r)/s,(m(this,Kh)+(e[1]-t[1])/2-i)/a,(m(this,Gh)+(t[0]-e[0])/2-r)/s,(m(this,Kh)+(t[1]-e[1])/2-i)/a]},te(Hl,Jv,8),te(Hl,Zb,2),te(Hl,ex,m(Hl,Jv)+m(Hl,Zb));let Rb=Hl;var Wg,Yh,cc,Zv,Xs,ey,mr,_s,N0,j0,pI;class Z_ extends fI{constructor(t,r,i,s,a,o){super();te(this,_s);te(this,Wg);te(this,Yh,null);te(this,cc);te(this,Zv);te(this,Xs);te(this,ey);te(this,mr);Y(this,mr,t),Y(this,Xs,r),Y(this,Wg,i),Y(this,ey,s),Y(this,cc,a),Y(this,Zv,o),Z(this,_s,pI).call(this,o);const{x:l,y:u,width:d,height:f}=m(this,Yh);for(let h=0,p=t.length;h<p;h+=2)t[h]=(t[h]-l)/d,t[h+1]=(t[h+1]-u)/f;for(let h=0,p=r.length;h<p;h+=2)r[h]=(r[h]-l)/d,r[h+1]=(r[h+1]-u)/f}toSVGPath(){const t=[`M${m(this,mr)[4]} ${m(this,mr)[5]}`];for(let r=6,i=m(this,mr).length;r<i;r+=6){if(isNaN(m(this,mr)[r])){t.push(`L${m(this,mr)[r+4]} ${m(this,mr)[r+5]}`);continue}t.push(`C${m(this,mr)[r]} ${m(this,mr)[r+1]} ${m(this,mr)[r+2]} ${m(this,mr)[r+3]} ${m(this,mr)[r+4]} ${m(this,mr)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const o=i-t,l=s-r;let u,d;switch(a){case 0:u=Z(this,_s,N0).call(this,m(this,mr),t,s,o,-l),d=Z(this,_s,N0).call(this,m(this,Xs),t,s,o,-l);break;case 90:u=Z(this,_s,j0).call(this,m(this,mr),t,r,o,l),d=Z(this,_s,j0).call(this,m(this,Xs),t,r,o,l);break;case 180:u=Z(this,_s,N0).call(this,m(this,mr),i,r,-o,l),d=Z(this,_s,N0).call(this,m(this,Xs),i,r,-o,l);break;case 270:u=Z(this,_s,j0).call(this,m(this,mr),i,s,-o,-l),d=Z(this,_s,j0).call(this,m(this,Xs),i,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return m(this,Yh)}getNewOutline(t,r){const{x:i,y:s,width:a,height:o}=m(this,Yh),[l,u,d,f]=m(this,Wg),h=a*d,p=o*f,y=i*d+l,x=s*f+u,_=new Rb({x:m(this,Xs)[0]*h+y,y:m(this,Xs)[1]*p+x},m(this,Wg),m(this,ey),t,m(this,Zv),r??m(this,cc));for(let w=2;w<m(this,Xs).length;w+=2)_.add({x:m(this,Xs)[w]*h+y,y:m(this,Xs)[w+1]*p+x});return _.getOutlines()}}Wg=new WeakMap,Yh=new WeakMap,cc=new WeakMap,Zv=new WeakMap,Xs=new WeakMap,ey=new WeakMap,mr=new WeakMap,_s=new WeakSet,N0=function(t,r,i,s,a){const o=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)o[l]=r+t[l]*s,o[l+1]=i+t[l+1]*a;return o},j0=function(t,r,i,s,a){const o=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)o[l]=r+t[l+1]*s,o[l+1]=i+t[l]*a;return o},pI=function(t){const r=m(this,mr);let i=r[4],s=r[5],a=i,o=s,l=i,u=s,d=i,f=s;const h=t?Math.max:Math.min;for(let w=6,A=r.length;w<A;w+=6){if(isNaN(r[w]))a=Math.min(a,r[w+4]),o=Math.min(o,r[w+5]),l=Math.max(l,r[w+4]),u=Math.max(u,r[w+5]),f<r[w+5]?(d=r[w+4],f=r[w+5]):f===r[w+5]&&(d=h(d,r[w+4]));else{const S=ht.bezierBoundingBox(i,s,...r.slice(w,w+6));a=Math.min(a,S[0]),o=Math.min(o,S[1]),l=Math.max(l,S[2]),u=Math.max(u,S[3]),f<S[3]?(d=S[2],f=S[3]):f===S[3]&&(d=h(d,S[2]))}i=r[w+4],s=r[w+5]}const p=a-m(this,cc),y=o-m(this,cc),x=l-a+2*m(this,cc),_=u-o+2*m(this,cc);Y(this,Yh,{x:p,y,width:x,height:_,lastPoint:[d,f]})};var ty,ny,po,Xh,Vg,Fr,ry,Gg,iy,sy,go,Kg,Fn,ek,tk,gI,rh,mI,Su;const $l=class $l{constructor({editor:e=null,uiManager:t=null}){te(this,Fn);te(this,ty,Z(this,Fn,gI).bind(this));te(this,ny,Z(this,Fn,mI).bind(this));te(this,po,null);te(this,Xh,null);te(this,Vg);te(this,Fr,null);te(this,ry,!1);te(this,Gg,!1);te(this,iy,null);te(this,sy);te(this,go,null);te(this,Kg);var r;e?(Y(this,Gg,!1),Y(this,Kg,Nt.HIGHLIGHT_COLOR),Y(this,iy,e)):(Y(this,Gg,!0),Y(this,Kg,Nt.HIGHLIGHT_DEFAULT_COLOR)),Y(this,go,(e==null?void 0:e._uiManager)||t),Y(this,sy,m(this,go)._eventBus),Y(this,Vg,(e==null?void 0:e.color)||((r=m(this,go))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return nn(this,"_keyboardManager",new Py([[["Escape","mac+Escape"],$l.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],$l.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],$l.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],$l.prototype._moveToPrevious],[["Home","mac+Home"],$l.prototype._moveToBeginning],[["End","mac+End"],$l.prototype._moveToEnd]]))}renderButton(){const e=Y(this,po,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=m(this,go)._signal;e.addEventListener("click",Z(this,Fn,rh).bind(this),{signal:t}),e.addEventListener("keydown",m(this,ty),{signal:t});const r=Y(this,Xh,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=m(this,Vg),e.append(r),e}renderMainDropdown(){const e=Y(this,Fr,Z(this,Fn,ek).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===m(this,po)){Z(this,Fn,rh).call(this,e);return}const t=e.target.getAttribute("data-color");t&&Z(this,Fn,tk).call(this,t,e)}_moveToNext(e){var t,r;if(!m(this,Fn,Su)){Z(this,Fn,rh).call(this,e);return}if(e.target===m(this,po)){(t=m(this,Fr).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=m(this,Fr))==null?void 0:t.firstChild)||e.target===m(this,po)){m(this,Fn,Su)&&this._hideDropdownFromKeyboard();return}m(this,Fn,Su)||Z(this,Fn,rh).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!m(this,Fn,Su)){Z(this,Fn,rh).call(this,e);return}(t=m(this,Fr).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,Fn,Su)){Z(this,Fn,rh).call(this,e);return}(t=m(this,Fr).lastChild)==null||t.focus()}hideDropdown(){var e;(e=m(this,Fr))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",m(this,ny))}_hideDropdownFromKeyboard(){var e;if(!m(this,Gg)){if(!m(this,Fn,Su)){(e=m(this,iy))==null||e.unselect();return}this.hideDropdown(),m(this,po).focus({preventScroll:!0,focusVisible:m(this,ry)})}}updateColor(e){if(m(this,Xh)&&(m(this,Xh).style.backgroundColor=e),!m(this,Fr))return;const t=m(this,go).highlightColors.values();for(const r of m(this,Fr).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=m(this,po))==null||e.remove(),Y(this,po,null),Y(this,Xh,null),(t=m(this,Fr))==null||t.remove(),Y(this,Fr,null)}};ty=new WeakMap,ny=new WeakMap,po=new WeakMap,Xh=new WeakMap,Vg=new WeakMap,Fr=new WeakMap,ry=new WeakMap,Gg=new WeakMap,iy=new WeakMap,sy=new WeakMap,go=new WeakMap,Kg=new WeakMap,Fn=new WeakSet,ek=function(){const e=document.createElement("div"),t=m(this,go)._signal;e.addEventListener("contextmenu",js,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of m(this,go).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.setAttribute("aria-selected",i===m(this,Vg)),s.addEventListener("click",Z(this,Fn,tk).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",m(this,ty),{signal:t}),e},tk=function(e,t){t.stopPropagation(),m(this,sy).dispatch("switchannotationeditorparams",{source:this,type:m(this,Kg),value:e})},gI=function(e){$l._keyboardManager.exec(this,e)},rh=function(e){if(m(this,Fn,Su)){this.hideDropdown();return}if(Y(this,ry,e.detail===0),window.addEventListener("pointerdown",m(this,ny),{signal:m(this,go)._signal}),m(this,Fr)){m(this,Fr).classList.remove("hidden");return}const t=Y(this,Fr,Z(this,Fn,ek).call(this));m(this,po).append(t)},mI=function(e){var t;(t=m(this,Fr))!=null&&t.contains(e.target)||this.hideDropdown()},Su=function(){return m(this,Fr)&&!m(this,Fr).classList.contains("hidden")};let Ib=$l;var Yg,ay,Wu,Jh,Xg,Aa,oy,ly,Qh,mo,Wi,Js,tx,Jg,Zh,Mr,Qg,rl,cy,qt,nk,rk,vI,yI,wI,ik,P0,ja,Tp,bI,j2,L0,xI,SI,AI,_I;const dn=class dn extends wn{constructor(t){super({...t,name:"highlightEditor"});te(this,qt);te(this,Yg,null);te(this,ay,0);te(this,Wu);te(this,Jh,null);te(this,Xg,null);te(this,Aa,null);te(this,oy,null);te(this,ly,0);te(this,Qh,null);te(this,mo,null);te(this,Wi,null);te(this,Js,!1);te(this,tx,Z(this,qt,bI).bind(this));te(this,Jg,null);te(this,Zh);te(this,Mr,null);te(this,Qg,"");te(this,rl);te(this,cy,"");this.color=t.color||dn._defaultColor,Y(this,rl,t.thickness||dn._defaultThickness),Y(this,Zh,t.opacity||dn._defaultOpacity),Y(this,Wu,t.boxes||null),Y(this,cy,t.methodOfCreation||""),Y(this,Qg,t.text||""),this._isDraggable=!1,t.highlightId>-1?(Y(this,Js,!0),Z(this,qt,rk).call(this,t),Z(this,qt,P0).call(this)):(Y(this,Yg,t.anchorNode),Y(this,ay,t.anchorOffset),Y(this,oy,t.focusNode),Y(this,ly,t.focusOffset),Z(this,qt,nk).call(this),Z(this,qt,P0).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=dn.prototype;return nn(this,"_keyboardManager",new Py([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,Js)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,rl),methodOfCreation:m(this,cy)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;wn.initialize(t,r),dn._defaultColor||(dn._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case Nt.HIGHLIGHT_DEFAULT_COLOR:dn._defaultColor=r;break;case Nt.HIGHLIGHT_THICKNESS:dn._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return m(this,Jg)}updateParams(t,r){switch(t){case Nt.HIGHLIGHT_COLOR:Z(this,qt,vI).call(this,r);break;case Nt.HIGHLIGHT_THICKNESS:Z(this,qt,yI).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Nt.HIGHLIGHT_DEFAULT_COLOR,dn._defaultColor],[Nt.HIGHLIGHT_THICKNESS,dn._defaultThickness]]}get propertiesToUpdate(){return[[Nt.HIGHLIGHT_COLOR,this.color||dn._defaultColor],[Nt.HIGHLIGHT_THICKNESS,m(this,rl)||dn._defaultThickness],[Nt.HIGHLIGHT_FREE,m(this,Js)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(Y(this,Xg,new Ib({editor:this})),t.addColorPicker(m(this,Xg))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Z(this,qt,L0).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,Z(this,qt,L0).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Z(this,qt,ik).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Z(this,qt,P0).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?Z(this,qt,ik).call(this):t&&(Z(this,qt,P0).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,o;const{drawLayer:r}=this.parent;let i;m(this,Js)?(t=(t-this.rotation+360)%360,i=Z(s=dn,ja,Tp).call(s,m(this,mo).box,t)):i=Z(a=dn,ja,Tp).call(a,this,t),r.rotate(m(this,Wi),t),r.rotate(m(this,Mr),t),r.updateBox(m(this,Wi),i),r.updateBox(m(this,Mr),Z(o=dn,ja,Tp).call(o,m(this,Aa).box,t))}render(){if(this.div)return this.div;const t=super.render();m(this,Qg)&&(t.setAttribute("aria-label",m(this,Qg)),t.setAttribute("role","mark")),m(this,Js)?t.classList.add("free"):this.div.addEventListener("keydown",m(this,tx),{signal:this._uiManager._signal});const r=Y(this,Qh,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=m(this,Jh);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),jb(this,m(this,Qh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(m(this,Mr),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(m(this,Mr),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:Z(this,qt,j2).call(this,!0);break;case 1:case 3:Z(this,qt,j2).call(this,!1);break}}select(){var t,r;super.select(),m(this,Mr)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,Mr),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(m(this,Mr),"selected"))}unselect(){var t;super.unselect(),m(this,Mr)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,Mr),"selected"),m(this,Js)||Z(this,qt,j2).call(this,!1))}get _mustFixPosition(){return!m(this,Js)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(m(this,Wi),t),this.parent.drawLayer.show(m(this,Mr),t))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:o,y:l,width:u,height:d}=i.getBoundingClientRect(),f=_=>{Z(this,ja,AI).call(this,t,_)},h=t._signal,p={capture:!0,passive:!1,signal:h},y=_=>{_.preventDefault(),_.stopPropagation()},x=_=>{i.removeEventListener("pointermove",f),window.removeEventListener("blur",x),window.removeEventListener("pointerup",x),window.removeEventListener("pointerdown",y,p),window.removeEventListener("contextmenu",js),Z(this,ja,_I).call(this,t,_)};window.addEventListener("blur",x,{signal:h}),window.addEventListener("pointerup",x,{signal:h}),window.addEventListener("pointerdown",y,p),window.addEventListener("contextmenu",js,{signal:h}),i.addEventListener("pointermove",f,{signal:h}),this._freeHighlight=new Rb({x:s,y:a},[o,l,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,i){var x;const s=super.deserialize(t,r,i),{rect:[a,o,l,u],color:d,quadPoints:f}=t;s.color=ht.makeHexColor(...d),Y(s,Zh,t.opacity);const[h,p]=s.pageDimensions;s.width=(l-a)/h,s.height=(u-o)/p;const y=Y(s,Wu,[]);for(let _=0;_<f.length;_+=8)y.push({x:(f[4]-l)/h,y:(u-(1-f[_+5]))/p,width:(f[_+2]-f[_])/h,height:(f[_+5]-f[_+1])/p});return Z(x=s,qt,nk).call(x),s}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),i=wn._colorManager.convert(this.color);return{annotationType:Jt.HIGHLIGHT,color:i,opacity:m(this,Zh),thickness:m(this,rl),quadPoints:Z(this,qt,xI).call(this),outlines:Z(this,qt,SI).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:Z(this,qt,L0).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Yg=new WeakMap,ay=new WeakMap,Wu=new WeakMap,Jh=new WeakMap,Xg=new WeakMap,Aa=new WeakMap,oy=new WeakMap,ly=new WeakMap,Qh=new WeakMap,mo=new WeakMap,Wi=new WeakMap,Js=new WeakMap,tx=new WeakMap,Jg=new WeakMap,Zh=new WeakMap,Mr=new WeakMap,Qg=new WeakMap,rl=new WeakMap,cy=new WeakMap,qt=new WeakSet,nk=function(){const t=new X_(m(this,Wu),.001);Y(this,mo,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=m(this,mo).box;const r=new X_(m(this,Wu),.0025,.001,this._uiManager.direction==="ltr");Y(this,Aa,r.getOutlines());const{lastPoint:i}=m(this,Aa).box;Y(this,Jg,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},rk=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var f,h;if(Y(this,mo,t),Y(this,Aa,t.getNewOutline(m(this,rl)/2+1.5,.0025)),r>=0)Y(this,Wi,r),Y(this,Jh,i),this.parent.drawLayer.finalizeLine(r,t),Y(this,Mr,this.parent.drawLayer.highlightOutline(m(this,Aa)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(m(this,Wi),t),this.parent.drawLayer.updateBox(m(this,Wi),Z(f=dn,ja,Tp).call(f,m(this,mo).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(m(this,Mr),m(this,Aa)),this.parent.drawLayer.updateBox(m(this,Mr),Z(h=dn,ja,Tp).call(h,m(this,Aa).box,p))}const{x:a,y:o,width:l,height:u}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[p,y]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*y/p,this.height=u*p/y;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[p,y]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*y/p,this.height=u*p/y;break}}const{lastPoint:d}=m(this,Aa).box;Y(this,Jg,[(d[0]-a)/l,(d[1]-o)/u])},vI=function(t){const r=s=>{var a,o;this.color=s,(a=this.parent)==null||a.drawLayer.changeColor(m(this,Wi),s),(o=m(this,Xg))==null||o.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},yI=function(t){const r=m(this,rl),i=s=>{Y(this,rl,s),Z(this,qt,wI).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},wI=function(t){if(!m(this,Js))return;Z(this,qt,rk).call(this,{highlightOutlines:m(this,mo).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},ik=function(){m(this,Wi)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Wi)),Y(this,Wi,null),this.parent.drawLayer.remove(m(this,Mr)),Y(this,Mr,null))},P0=function(t=this.parent){m(this,Wi)===null&&({id:Hs(this,Wi)._,clipPathId:Hs(this,Jh)._}=t.drawLayer.highlight(m(this,mo),this.color,m(this,Zh)),Y(this,Mr,t.drawLayer.highlightOutline(m(this,Aa))),m(this,Qh)&&(m(this,Qh).style.clipPath=m(this,Jh)))},ja=new WeakSet,Tp=function({x:t,y:r,width:i,height:s},a){switch(a){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},bI=function(t){dn._keyboardManager.exec(this,t)},j2=function(t){if(!m(this,Yg))return;const r=window.getSelection();t?r.setPosition(m(this,Yg),m(this,ay)):r.setPosition(m(this,oy),m(this,ly))},L0=function(){return m(this,Js)?this.rotation:0},xI=function(){if(m(this,Js))return null;const[t,r]=this.pageDimensions,i=m(this,Wu),s=new Float32Array(i.length*8);let a=0;for(const{x:o,y:l,width:u,height:d}of i){const f=o*t,h=(1-l-d)*r;s[a]=s[a+4]=f,s[a+1]=s[a+3]=h,s[a+2]=s[a+6]=f+u*t,s[a+5]=s[a+7]=h+d*r,a+=8}return s},SI=function(t){return m(this,mo).serialize(t,Z(this,qt,L0).call(this))},AI=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},_I=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},te(dn,ja),Et(dn,"_defaultColor",null),Et(dn,"_defaultOpacity",1),Et(dn,"_defaultThickness",12),Et(dn,"_l10nPromise"),Et(dn,"_type","highlight"),Et(dn,"_editorType",Jt.HIGHLIGHT),Et(dn,"_freeHighlightId",-1),Et(dn,"_freeHighlight",null),Et(dn,"_freeHighlightClipId","");let Fb=dn;var ef,tf,uy,dy,hy,nf,il,uc,_a,rf,sf,dc,af,of,Vu,st,kI,CI,EI,NI,ak,jI,ok,PI,LI,TI,RI,II,ih,lk,P2,L2,Rp,ck,T2,Pc,FI,uk,MI,OI,dk,R2,T0;const er=class er extends wn{constructor(t){super({...t,name:"inkEditor"});te(this,st);te(this,ef,0);te(this,tf,0);te(this,uy,this.canvasPointermove.bind(this));te(this,dy,this.canvasPointerleave.bind(this));te(this,hy,this.canvasPointerup.bind(this));te(this,nf,this.canvasPointerdown.bind(this));te(this,il,null);te(this,uc,new Path2D);te(this,_a,!1);te(this,rf,!1);te(this,sf,!1);te(this,dc,null);te(this,af,0);te(this,of,0);te(this,Vu,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){wn.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case Nt.INK_THICKNESS:er._defaultThickness=r;break;case Nt.INK_COLOR:er._defaultColor=r;break;case Nt.INK_OPACITY:er._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case Nt.INK_THICKNESS:Z(this,st,kI).call(this,r);break;case Nt.INK_COLOR:Z(this,st,CI).call(this,r);break;case Nt.INK_OPACITY:Z(this,st,EI).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Nt.INK_THICKNESS,er._defaultThickness],[Nt.INK_COLOR,er._defaultColor||wn._defaultLineColor],[Nt.INK_OPACITY,Math.round(er._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Nt.INK_THICKNESS,this.thickness||er._defaultThickness],[Nt.INK_COLOR,this.color||er._defaultColor||wn._defaultLineColor],[Nt.INK_OPACITY,Math.round(100*(this.opacity??er._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Z(this,st,P2).call(this),Z(this,st,L2).call(this)),this.isAttachedToDOM||(this.parent.add(this),Z(this,st,Rp).call(this)),Z(this,st,T0).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,m(this,il)&&(clearTimeout(m(this,il)),Y(this,il,null)),(t=m(this,dc))==null||t.disconnect(),Y(this,dc,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){m(this,_a)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",m(this,nf),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",m(this,nf)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){m(this,_a)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Y(this,_a,!0),this.div.classList.add("disabled"),Z(this,st,T0).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||m(this,_a)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Z(this,st,jI).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),Z(this,st,ok).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),Z(this,st,lk).call(this,t)}canvasPointerleave(t){Z(this,st,lk).call(this,t)}get isResizable(){return!this.isEmpty()&&m(this,_a)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,a,o]=Z(this,st,NI).call(this);if(this.setAt(i,s,0,0),this.setDims(a,o),Z(this,st,P2).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,r*u,this.width*l,this.height*u),Y(this,sf,!0),Z(this,st,Rp).call(this),this.setDims(this.width*l,this.height*u),Z(this,st,ih).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Z(this,st,L2).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(m(this,af)===i&&m(this,of)===s)return;Y(this,af,i),Y(this,of,s),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=r/o,this.fixAndSetPosition(),m(this,_a)&&Z(this,st,ck).call(this,t,r),Z(this,st,Rp).call(this),Z(this,st,ih).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,i){var _,w,A;if(t instanceof nI)return null;const s=super.deserialize(t,r,i);s.thickness=t.thickness,s.color=ht.makeHexColor(...t.color),s.opacity=t.opacity;const[a,o]=s.pageDimensions,l=s.width*a,u=s.height*o,d=s.parentScale,f=t.thickness/2;Y(s,_a,!0),Y(s,af,Math.round(l)),Y(s,of,Math.round(u));const{paths:h,rect:p,rotation:y}=t;for(let{bezier:S}of h){S=Z(_=er,Pc,MI).call(_,S,p,y);const v=[];s.paths.push(v);let C=d*(S[0]-f),j=d*(S[1]-f);for(let P=2,z=S.length;P<z;P+=6){const q=d*(S[P]-f),R=d*(S[P+1]-f),F=d*(S[P+2]-f),$=d*(S[P+3]-f),W=d*(S[P+4]-f),he=d*(S[P+5]-f);v.push([[C,j],[q,R],[F,$],[W,he]]),C=W,j=he}const T=Z(this,Pc,FI).call(this,v);s.bezierPath2D.push(T)}const x=Z(w=s,st,dk).call(w);return Y(s,tf,Math.max(wn.MIN_SIZE,x[2]-x[0])),Y(s,ef,Math.max(wn.MIN_SIZE,x[3]-x[1])),Z(A=s,st,ck).call(A,l,u),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=wn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Jt.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:Z(this,st,OI).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ef=new WeakMap,tf=new WeakMap,uy=new WeakMap,dy=new WeakMap,hy=new WeakMap,nf=new WeakMap,il=new WeakMap,uc=new WeakMap,_a=new WeakMap,rf=new WeakMap,sf=new WeakMap,dc=new WeakMap,af=new WeakMap,of=new WeakMap,Vu=new WeakMap,st=new WeakSet,kI=function(t){const r=s=>{this.thickness=s,Z(this,st,T0).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},CI=function(t){const r=s=>{this.color=s,Z(this,st,ih).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},EI=function(t){const r=s=>{this.opacity=s,Z(this,st,ih).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},NI=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},ak=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:a,scaleFactor:o}=this;t.lineWidth=s*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${DV(i)}`},jI=function(t,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",js,{signal:i}),this.canvas.addEventListener("pointerleave",m(this,dy),{signal:i}),this.canvas.addEventListener("pointermove",m(this,uy),{signal:i}),this.canvas.addEventListener("pointerup",m(this,hy),{signal:i}),this.canvas.removeEventListener("pointerdown",m(this,nf)),this.isEditing=!0,m(this,sf)||(Y(this,sf,!0),Z(this,st,Rp).call(this),this.thickness||(this.thickness=er._defaultThickness),this.color||(this.color=er._defaultColor||wn._defaultLineColor),this.opacity??(this.opacity=er._defaultOpacity)),this.currentPath.push([t,r]),Y(this,rf,!1),Z(this,st,ak).call(this),Y(this,Vu,()=>{Z(this,st,TI).call(this),m(this,Vu)&&window.requestAnimationFrame(m(this,Vu))}),window.requestAnimationFrame(m(this,Vu))},ok=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const a=this.currentPath;let o=m(this,uc);if(a.push([t,r]),Y(this,rf,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,r);return}a.length===3&&(Y(this,uc,o=new Path2D),o.moveTo(...a[0])),Z(this,st,RI).call(this,o,...a.at(-3),...a.at(-2),t,r)},PI=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);m(this,uc).lineTo(...t)},LI=function(t,r){Y(this,Vu,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),Z(this,st,ok).call(this,t,r),Z(this,st,PI).call(this);let i;if(this.currentPath.length!==1)i=Z(this,st,II).call(this);else{const u=[t,r];i=[[u,u.slice(),u.slice(),u]]}const s=m(this,uc),a=this.currentPath;this.currentPath=[],Y(this,uc,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Z(this,st,P2).call(this),Z(this,st,L2).call(this)),Z(this,st,T0).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},TI=function(){if(!m(this,rf))return;Y(this,rf,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(o=>o[0]),s=r.map(o=>o[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(m(this,uc)),a.restore()},RI=function(t,r,i,s,a,o,l){const u=(r+s)/2,d=(i+a)/2,f=(s+o)/2,h=(a+l)/2;t.bezierCurveTo(u+2*(s-u)/3,d+2*(a-d)/3,f+2*(s-f)/3,h+2*(a-h)/3,f,h)},II=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,a]=t[0];for(i=1;i<t.length-2;i++){const[p,y]=t[i],[x,_]=t[i+1],w=(p+x)/2,A=(y+_)/2,S=[s+2*(p-s)/3,a+2*(y-a)/3],v=[w+2*(p-w)/3,A+2*(y-A)/3];r.push([[s,a],S,v,[w,A]]),[s,a]=[w,A]}const[o,l]=t[i],[u,d]=t[i+1],f=[s+2*(o-s)/3,a+2*(l-a)/3],h=[u+2*(o-u)/3,d+2*(l-d)/3];return r.push([[s,a],f,h,[u,d]]),r},ih=function(){if(this.isEmpty()){Z(this,st,T2).call(this);return}Z(this,st,ak).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),Z(this,st,T2).call(this);for(const i of this.bezierPath2D)r.stroke(i)},lk=function(t){this.canvas.removeEventListener("pointerleave",m(this,dy)),this.canvas.removeEventListener("pointermove",m(this,uy)),this.canvas.removeEventListener("pointerup",m(this,hy)),this.canvas.addEventListener("pointerdown",m(this,nf),{signal:this._uiManager._signal}),m(this,il)&&clearTimeout(m(this,il)),Y(this,il,setTimeout(()=>{Y(this,il,null),this.canvas.removeEventListener("contextmenu",js)},10)),Z(this,st,LI).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},P2=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},L2=function(){Y(this,dc,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),m(this,dc).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,dc))==null||t.disconnect(),Y(this,dc,null)},{once:!0})},Rp=function(){if(!m(this,sf))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),Z(this,st,T2).call(this)},ck=function(t,r){const i=Z(this,st,R2).call(this),s=(t-i)/m(this,tf),a=(r-i)/m(this,ef);this.scaleFactor=Math.min(s,a)},T2=function(){const t=Z(this,st,R2).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Pc=new WeakSet,FI=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[a,o,l,u]=t[i];i===0&&r.moveTo(...a),r.bezierCurveTo(o[0],o[1],l[0],l[1],u[0],u[1])}return r},uk=function(t,r,i){const[s,a,o,l]=r;switch(i){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]+=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const f=t[u];t[u]=t[u+1]+s,t[u+1]=f+a}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=o-t[u],t[u+1]+=a;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const f=t[u];t[u]=o-t[u+1],t[u+1]=l-f}break;default:throw new Error("Invalid rotation")}return t},MI=function(t,r,i){const[s,a,o,l]=r;switch(i){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]-=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const f=t[u];t[u]=t[u+1]-a,t[u+1]=f-s}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=o-t[u],t[u+1]-=a;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const f=t[u];t[u]=l-t[u+1],t[u+1]=o-f}break;default:throw new Error("Invalid rotation")}return t},OI=function(t,r,i,s){var d,f;const a=[],o=this.thickness/2,l=t*r+o,u=t*i+o;for(const h of this.paths){const p=[],y=[];for(let x=0,_=h.length;x<_;x++){const[w,A,S,v]=h[x];if(w[0]===v[0]&&w[1]===v[1]&&_===1){const $=t*w[0]+l,W=t*w[1]+u;p.push($,W),y.push($,W);break}const C=t*w[0]+l,j=t*w[1]+u,T=t*A[0]+l,P=t*A[1]+u,z=t*S[0]+l,q=t*S[1]+u,R=t*v[0]+l,F=t*v[1]+u;x===0&&(p.push(C,j),y.push(C,j)),p.push(T,P,z,q,R,F),y.push(T,P),x===_-1&&y.push(R,F)}a.push({bezier:Z(d=er,Pc,uk).call(d,p,s,this.rotation),points:Z(f=er,Pc,uk).call(f,y,s,this.rotation)})}return a},dk=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const a of this.paths)for(const[o,l,u,d]of a){const f=ht.bezierBoundingBox(...o,...l,...u,...d);t=Math.min(t,f[0]),i=Math.min(i,f[1]),r=Math.max(r,f[2]),s=Math.max(s,f[3])}return[t,i,r,s]},R2=function(){return m(this,_a)?Math.ceil(this.thickness*this.parentScale):0},T0=function(t=!1){if(this.isEmpty())return;if(!m(this,_a)){Z(this,st,ih).call(this);return}const r=Z(this,st,dk).call(this),i=Z(this,st,R2).call(this);Y(this,tf,Math.max(wn.MIN_SIZE,r[2]-r[0])),Y(this,ef,Math.max(wn.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+m(this,tf)*this.scaleFactor),a=Math.ceil(i+m(this,ef)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=s/o,this.height=a/l,this.setAspectRatio(s,a);const u=this.translationX,d=this.translationY;this.translationX=-r[0],this.translationY=-r[1],Z(this,st,Rp).call(this),Z(this,st,ih).call(this),Y(this,af,s),Y(this,of,a),this.setDims(s,a);const f=t?i/this.scaleFactor/2:0;this.translate(u-this.translationX-f,d-this.translationY-f)},te(er,Pc),Et(er,"_defaultColor",null),Et(er,"_defaultOpacity",1),Et(er,"_defaultThickness",1),Et(er,"_type","ink"),Et(er,"_editorType",Jt.INK);let sk=er;var di,hi,Gu,hc,Ku,Zg,sl,fc,al,vo,fy,cn,R0,I0,I2,fk,DI,BI,pk,F2,zI;const a1=class a1 extends wn{constructor(t){super({...t,name:"stampEditor"});te(this,cn);te(this,di,null);te(this,hi,null);te(this,Gu,null);te(this,hc,null);te(this,Ku,null);te(this,Zg,"");te(this,sl,null);te(this,fc,null);te(this,al,null);te(this,vo,!1);te(this,fy,!1);Y(this,hc,t.bitmapUrl),Y(this,Ku,t.bitmapFile)}static initialize(t,r){wn.initialize(t,r)}static get supportedTypes(){return nn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return nn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(Jt.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;m(this,hi)&&(Y(this,di,null),this._uiManager.imageManager.deleteId(m(this,hi)),(t=m(this,sl))==null||t.remove(),Y(this,sl,null),(r=m(this,fc))==null||r.disconnect(),Y(this,fc,null),m(this,al)&&(clearTimeout(m(this,al)),Y(this,al,null))),super.remove()}rebuild(){if(!this.parent){m(this,hi)&&Z(this,cn,I2).call(this);return}super.rebuild(),this.div!==null&&(m(this,hi)&&m(this,sl)===null&&Z(this,cn,I2).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(m(this,Gu)||m(this,di)||m(this,hc)||m(this,Ku)||m(this,hi))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),m(this,di)?Z(this,cn,fk).call(this):Z(this,cn,I2).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return m(this,sl)}static deserialize(t,r,i){if(t instanceof rI)return null;const s=super.deserialize(t,r,i),{rect:a,bitmapUrl:o,bitmapId:l,isSvg:u,accessibilityData:d}=t;l&&i.imageManager.isValidId(l)?Y(s,hi,l):Y(s,hc,o),Y(s,vo,u);const[f,h]=s.pageDimensions;return s.width=(a[2]-a[0])/f,s.height=(a[3]-a[1])/h,d&&(s.altTextData=d),s}serialize(t=!1,r=null){if(this.isEmpty())return null;const i={annotationType:Jt.STAMP,bitmapId:m(this,hi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,vo),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=Z(this,cn,F2).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:a}=this.altTextData;if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),r===null)return i;r.stamps||(r.stamps=new Map);const o=m(this,vo)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(m(this,hi)))r.stamps.set(m(this,hi),{area:o,serialized:i}),i.bitmap=Z(this,cn,F2).call(this,!1);else if(m(this,vo)){const l=r.stamps.get(m(this,hi));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=Z(this,cn,F2).call(this,!1))}return i}};di=new WeakMap,hi=new WeakMap,Gu=new WeakMap,hc=new WeakMap,Ku=new WeakMap,Zg=new WeakMap,sl=new WeakMap,fc=new WeakMap,al=new WeakMap,vo=new WeakMap,fy=new WeakMap,cn=new WeakSet,R0=function(t,r=!1){if(!t){this.remove();return}Y(this,di,t.bitmap),r||(Y(this,hi,t.id),Y(this,vo,t.isSvg)),t.file&&Y(this,Zg,t.file.name),Z(this,cn,fk).call(this)},I0=function(){Y(this,Gu,null),this._uiManager.enableWaiting(!1),m(this,sl)&&this.div.focus()},I2=function(){if(m(this,hi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,hi)).then(i=>Z(this,cn,R0).call(this,i,!0)).finally(()=>Z(this,cn,I0).call(this));return}if(m(this,hc)){const i=m(this,hc);Y(this,hc,null),this._uiManager.enableWaiting(!0),Y(this,Gu,this._uiManager.imageManager.getFromUrl(i).then(s=>Z(this,cn,R0).call(this,s)).finally(()=>Z(this,cn,I0).call(this)));return}if(m(this,Ku)){const i=m(this,Ku);Y(this,Ku,null),this._uiManager.enableWaiting(!0),Y(this,Gu,this._uiManager.imageManager.getFromFile(i).then(s=>Z(this,cn,R0).call(this,s)).finally(()=>Z(this,cn,I0).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=a1.supportedTypesStr;const r=this._uiManager._signal;Y(this,Gu,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);Z(this,cn,R0).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>Z(this,cn,I0).call(this))),t.click()},fk=function(){const{div:t}=this;let{width:r,height:i}=m(this,di);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const f=Math.min(o*s/r,o*a/i);r*=f,i*=f}const[l,u]=this.parentDimensions;this.setDims(r*l/s,i*u/a),this._uiManager.enableWaiting(!1);const d=Y(this,sl,document.createElement("canvas"));t.append(d),t.hidden=!1,Z(this,cn,pk).call(this,r,i),Z(this,cn,zI).call(this),m(this,fy)||(this.parent.addUndoableEditor(this),Y(this,fy,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,Zg)&&d.setAttribute("aria-label",m(this,Zg))},DI=function(t,r){var o;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,this.setDims(t,r),(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,m(this,al)!==null&&clearTimeout(m(this,al)),Y(this,al,setTimeout(()=>{Y(this,al,null),Z(this,cn,pk).call(this,t,r)},200))},BI=function(t,r){const{width:i,height:s}=m(this,di);let a=i,o=s,l=m(this,di);for(;a>2*t||o>2*r;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=f.transferToImageBitmap()}return l},pk=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const i=m(this,sl);if(!i||i.width===t&&i.height===r)return;i.width=t,i.height=r;const s=m(this,vo)?m(this,di):Z(this,cn,BI).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,r).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(u=>{const d=(u==null?void 0:u.output)||"";this.parent&&d&&!this.hasAltText()&&(this.altTextData={altText:d,decorative:!1})})}const a=i.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(s,0,0,s.width,s.height,0,0,t,r)},F2=function(t){if(t){if(m(this,vo)){const s=this._uiManager.imageManager.getSvgUrl(m(this,hi));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=m(this,di),r.getContext("2d").drawImage(m(this,di),0,0),r.toDataURL()}if(m(this,vo)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*bd.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*bd.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(m(this,di),0,0,m(this,di).width,m(this,di).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(m(this,di))},zI=function(){this._uiManager._signal&&(Y(this,fc,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&Z(this,cn,DI).call(this,r.width,r.height)})),m(this,fc).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,fc))==null||t.disconnect(),Y(this,fc,null)},{once:!0}))},Et(a1,"_type","stamp"),Et(a1,"_editorType",Jt.STAMP);let hk=a1;var lf,em,ol,cf,pc,gc,mc,Qs,Yu,tm,nm,Vi,mt,Xu,vi,UI,mk,vk,yk,M2;const to=class to{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:a,textLayer:o,viewport:l,l10n:u}){te(this,vi);te(this,lf);te(this,em,!1);te(this,ol,null);te(this,cf,null);te(this,pc,null);te(this,gc,null);te(this,mc,null);te(this,Qs,new Map);te(this,Yu,!1);te(this,tm,!1);te(this,nm,!1);te(this,Vi,null);te(this,mt);const d=[...m(to,Xu).values()];if(!to._initialized){to._initialized=!0;for(const f of d)f.initialize(u,e)}e.registerEditorTypes(d),Y(this,mt,e),this.pageIndex=t,this.div=r,Y(this,lf,i),Y(this,ol,s),this.viewport=l,Y(this,Vi,o),this.drawLayer=a,m(this,mt).addLayer(this)}get isEmpty(){return m(this,Qs).size===0}get isInvisible(){return this.isEmpty&&m(this,mt).getMode()===Jt.NONE}updateToolbar(e){m(this,mt).updateToolbar(e)}updateMode(e=m(this,mt).getMode()){switch(Z(this,vi,M2).call(this),e){case Jt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Jt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Jt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of m(to,Xu).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,Vi))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(m(this,mt).getMode()!==Jt.INK)return;if(!e){for(const r of m(this,Qs).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){m(this,mt).setEditingState(e)}addCommands(e){m(this,mt).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,ol))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of m(this,Qs).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(m(this,mt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!m(this,ol))return;const t=m(this,ol).getEditableAnnotations();for(const r of t){if(r.hide(),m(this,mt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;Y(this,nm,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of m(this,Qs).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(m(this,ol)){const s=m(this,ol).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(m(this,mt).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(m(this,mt).addChangedExistingAnnotation(l),l.renderAnnotationElement(a),l.show(!1)),a.show()}}Z(this,vi,M2).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of m(to,Xu).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Y(this,nm,!1)}getEditableAnnotation(e){var t;return((t=m(this,ol))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,mt).getActive()!==e&&m(this,mt).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=m(this,Vi))!=null&&e.div&&!m(this,gc)&&(Y(this,gc,Z(this,vi,UI).bind(this)),m(this,Vi).div.addEventListener("pointerdown",m(this,gc),{signal:m(this,mt)._signal}),m(this,Vi).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,Vi))!=null&&e.div&&m(this,gc)&&(m(this,Vi).div.removeEventListener("pointerdown",m(this,gc)),Y(this,gc,null),m(this,Vi).div.classList.remove("highlighting"))}enableClick(){if(m(this,pc))return;const e=m(this,mt)._signal;Y(this,pc,this.pointerdown.bind(this)),Y(this,cf,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",m(this,pc),{signal:e}),this.div.addEventListener("pointerup",m(this,cf),{signal:e})}disableClick(){m(this,pc)&&(this.div.removeEventListener("pointerdown",m(this,pc)),this.div.removeEventListener("pointerup",m(this,cf)),Y(this,pc,null),Y(this,cf,null))}attach(e){m(this,Qs).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,mt).isDeletedAnnotationElement(t)&&m(this,mt).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,Qs).delete(e.id),(t=m(this,lf))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,nm)&&e.annotationElementId&&m(this,mt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,mt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,m(this,tm)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,mt).addDeletedAnnotationElement(e.annotationElementId),wn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,mt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),m(this,mt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,mc)&&(e._focusEventsAllowed=!1,Y(this,mc,setTimeout(()=>{Y(this,mc,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,mt)._signal}),t.focus())},0))),e._structTreeParentId=(r=m(this,lf))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return m(this,mt).getId()}get _signal(){return m(this,mt)._signal}canCreateNewEmptyEditor(){var e;return(e=m(this,vi,mk))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){m(this,mt).updateToolbar(e),m(this,mt).updateMode(e);const{offsetX:r,offsetY:i}=Z(this,vi,yk).call(this),s=this.getNextId(),a=Z(this,vi,vk).call(this,{parent:this,id:s,x:r,y:i,uiManager:m(this,mt),isCentered:!0,...t});a&&this.add(a)}deserialize(e){var t;return((t=m(to,Xu).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,mt)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=Z(this,vi,vk).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,mt),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(Z(this,vi,yk).call(this),!0)}setSelected(e){m(this,mt).setSelected(e)}toggleSelected(e){m(this,mt).toggleSelected(e)}isSelected(e){return m(this,mt).isSelected(e)}unselect(e){m(this,mt).unselect(e)}pointerup(e){const{isMac:t}=Ss.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&m(this,Yu)){if(Y(this,Yu,!1),!m(this,em)){Y(this,em,!0);return}if(m(this,mt).getMode()===Jt.STAMP){m(this,mt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(m(this,mt).getMode()===Jt.HIGHLIGHT&&this.enableTextSelection(),m(this,Yu)){Y(this,Yu,!1);return}const{isMac:t}=Ss.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;Y(this,Yu,!0);const r=m(this,mt).getActive();Y(this,em,!r||r.isEmpty())}findNewParent(e,t,r){const i=m(this,mt).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=m(this,mt).getActive())==null?void 0:e.parent)===this&&(m(this,mt).commitOrRemove(),m(this,mt).setActiveEditor(null)),m(this,mc)&&(clearTimeout(m(this,mc)),Y(this,mc,null));for(const r of m(this,Qs).values())(t=m(this,lf))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,m(this,Qs).clear(),m(this,mt).removeLayer(this)}render({viewport:e}){this.viewport=e,Pf(this.div,e);for(const t of m(this,mt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,mt).commitOrRemove(),Z(this,vi,M2).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Pf(this.div,{rotation:r}),t!==r)for(const i of m(this,Qs).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,mt).viewParameters.realScale}};lf=new WeakMap,em=new WeakMap,ol=new WeakMap,cf=new WeakMap,pc=new WeakMap,gc=new WeakMap,mc=new WeakMap,Qs=new WeakMap,Yu=new WeakMap,tm=new WeakMap,nm=new WeakMap,Vi=new WeakMap,mt=new WeakMap,Xu=new WeakMap,vi=new WeakSet,UI=function(e){if(m(this,mt).unselectAll(),e.target===m(this,Vi).div){const{isMac:t}=Ss.platform;if(e.button!==0||e.ctrlKey&&t)return;m(this,mt).showAllEditors("highlight",!0,!0),m(this,Vi).div.classList.add("free"),Fb.startHighlighting(this,m(this,mt).direction==="ltr",e),m(this,Vi).div.addEventListener("pointerup",()=>{m(this,Vi).div.classList.remove("free")},{once:!0,signal:m(this,mt)._signal}),e.preventDefault()}},mk=function(){return m(to,Xu).get(m(this,mt).getMode())},vk=function(e){const t=m(this,vi,mk);return t?new t.prototype.constructor(e):null},yk=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+o)/2-e,d=(a+l)/2-t,[f,h]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:f,offsetY:h}},M2=function(){Y(this,tm,!0);for(const e of m(this,Qs).values())e.isEmpty()&&e.remove();Y(this,tm,!1)},Et(to,"_initialized",!1),te(to,Xu,new Map([K_,sk,hk,Fb].map(e=>[e._editorType,e])));let gk=to;var ll,py,Or,Ju,gy,bk,Mf,xk,HI;const ai=class ai{constructor({pageIndex:e}){te(this,Mf);te(this,ll,null);te(this,py,0);te(this,Or,new Map);te(this,Ju,new Map);this.pageIndex=e}setParent(e){if(!m(this,ll)){Y(this,ll,e);return}if(m(this,ll)!==e){if(m(this,Or).size>0)for(const t of m(this,Or).values())t.remove(),e.append(t);Y(this,ll,e)}}static get _svgFactory(){return nn(this,"_svgFactory",new pE)}highlight(e,t,r,i=!1){const s=Hs(this,py)._++,a=Z(this,Mf,xk).call(this,e.box);a.classList.add("highlight"),e.free&&a.classList.add("free");const o=ai._svgFactory.createElement("defs");a.append(o);const l=ai._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&m(this,Ju).set(s,l);const d=Z(this,Mf,HI).call(this,o,u),f=ai._svgFactory.createElement("use");return a.append(f),a.setAttribute("fill",t),a.setAttribute("fill-opacity",r),f.setAttribute("href",`#${u}`),m(this,Or).set(s,a),{id:s,clipPathId:`url(#${d})`}}highlightOutline(e){const t=Hs(this,py)._++,r=Z(this,Mf,xk).call(this,e.box);r.classList.add("highlightOutline");const i=ai._svgFactory.createElement("defs");r.append(i);const s=ai._svgFactory.createElement("path");i.append(s);const a=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",a),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.free){r.classList.add("free");const d=ai._svgFactory.createElement("mask");i.append(d),o=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",o),d.setAttribute("maskUnits","objectBoundingBox");const f=ai._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const h=ai._svgFactory.createElement("use");d.append(h),h.setAttribute("href",`#${a}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const l=ai._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),m(this,Or).set(t,r),t}finalizeLine(e,t){const r=m(this,Ju).get(e);m(this,Ju).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){m(this,Or).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),m(this,Ju).delete(e)}updatePath(e,t){m(this,Ju).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;Z(r=ai,gy,bk).call(r,m(this,Or).get(e),t)}show(e,t){m(this,Or).get(e).classList.toggle("hidden",!t)}rotate(e,t){m(this,Or).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){m(this,Or).get(e).setAttribute("fill",t)}changeOpacity(e,t){m(this,Or).get(e).setAttribute("fill-opacity",t)}addClass(e,t){m(this,Or).get(e).classList.add(t)}removeClass(e,t){m(this,Or).get(e).classList.remove(t)}remove(e){m(this,ll)!==null&&(m(this,Or).get(e).remove(),m(this,Or).delete(e))}destroy(){Y(this,ll,null);for(const e of m(this,Or).values())e.remove();m(this,Or).clear()}};ll=new WeakMap,py=new WeakMap,Or=new WeakMap,Ju=new WeakMap,gy=new WeakSet,bk=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Mf=new WeakSet,xk=function(e){var r;const t=ai._svgFactory.create(1,1,!0);return m(this,ll).append(t),t.setAttribute("aria-hidden",!0),Z(r=ai,gy,bk).call(r,t,e),t},HI=function(e,t){const r=ai._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=ai._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},te(ai,gy);let wk=ai;var gK=kt.AbortException,mK=kt.AnnotationEditorLayer,vK=kt.AnnotationEditorParamsType,yK=kt.AnnotationEditorType,wK=kt.AnnotationEditorUIManager,$I=kt.AnnotationLayer,qI=kt.AnnotationMode,bK=kt.CMapCompressionType,xK=kt.ColorPicker,SK=kt.DOMSVGFactory,AK=kt.DrawLayer,_K=kt.FeatureTest,SE=kt.GlobalWorkerOptions,kK=kt.ImageKind,CK=kt.InvalidPDFException,EK=kt.MissingPDFException,NK=kt.OPS,jK=kt.Outliner,PK=kt.PDFDataRangeTransport,LK=kt.PDFDateString,TK=kt.PDFWorker,RK=kt.PasswordResponses,IK=kt.PermissionFlag,FK=kt.PixelsPerInch,MK=kt.RenderingCancelledException,WI=kt.TextLayer,OK=kt.UnexpectedResponseException,DK=kt.Util,BK=kt.VerbosityLevel,zK=kt.XfaLayer,UK=kt.build,HK=kt.createValidAbsoluteUrl,$K=kt.fetchData,VI=kt.getDocument,qK=kt.getFilenameFromUrl,WK=kt.getPdfFilenameFromUrl,VK=kt.getXfaPageViewport,GK=kt.isDataScheme,KK=kt.isPdfFile,YK=kt.noContextMenu,XK=kt.normalizeUnicode,JK=kt.renderTextLayer,QK=kt.setLayerDimensions,ZK=kt.shadow,eY=kt.updateTextLayer,tY=kt.version;const nY=Object.freeze(Object.defineProperty({__proto__:null,AbortException:gK,AnnotationEditorLayer:mK,AnnotationEditorParamsType:vK,AnnotationEditorType:yK,AnnotationEditorUIManager:wK,AnnotationLayer:$I,AnnotationMode:qI,CMapCompressionType:bK,ColorPicker:xK,DOMSVGFactory:SK,DrawLayer:AK,FeatureTest:_K,GlobalWorkerOptions:SE,ImageKind:kK,InvalidPDFException:CK,MissingPDFException:EK,OPS:NK,Outliner:jK,PDFDataRangeTransport:PK,PDFDateString:LK,PDFWorker:TK,PasswordResponses:RK,PermissionFlag:IK,PixelsPerInch:FK,RenderingCancelledException:MK,TextLayer:WI,UnexpectedResponseException:OK,Util:DK,VerbosityLevel:BK,XfaLayer:zK,build:UK,createValidAbsoluteUrl:HK,fetchData:$K,getDocument:VI,getFilenameFromUrl:qK,getPdfFilenameFromUrl:WK,getXfaPageViewport:VK,isDataScheme:GK,isPdfFile:KK,noContextMenu:YK,normalizeUnicode:XK,renderTextLayer:JK,setLayerDimensions:QK,shadow:ZK,updateTextLayer:eY,version:tY},Symbol.toStringTag,{value:"Module"}));var Gr=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},rY=["onCopy","onCut","onPaste"],iY=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],sY=["onFocus","onBlur"],aY=["onInput","onInvalid","onReset","onSubmit"],oY=["onLoad","onError"],lY=["onKeyDown","onKeyPress","onKeyUp"],cY=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],uY=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dY=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],hY=["onSelect"],fY=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pY=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],gY=["onScroll"],mY=["onWheel"],vY=["onAnimationStart","onAnimationEnd","onAnimationIteration"],yY=["onTransitionEnd"],wY=["onToggle"],bY=["onChange"],xY=Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr(Gr([],rY,!0),iY,!0),sY,!0),aY,!0),oY,!0),lY,!0),cY,!0),uY,!0),dY,!0),hY,!0),fY,!0),pY,!0),gY,!0),mY,!0),vY,!0),yY,!0),bY,!0),wY,!0);function GI(n,e){var t={};return xY.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function Ry(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}function KI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=KI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function r5(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=KI(n))&&(r&&(r+=" "),r+=e);return r}var SY=!0,ES="Invariant failed";function In(n,e){if(!n){if(SY)throw new Error(ES);var t=typeof e=="function"?e():e,r=t?"".concat(ES,": ").concat(t):ES;throw new Error(r)}}var AY=function(){},_Y=AY;const Fi=fm(_Y);var Gj=Object.prototype.hasOwnProperty;function Kj(n,e,t){for(t of n.keys())if(ig(t,e))return t}function ig(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&ig(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=Kj(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=Kj(e,i),!i)||!ig(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(Gj.call(n,t)&&++r&&!Gj.call(e,t)||!(t in e)||!ig(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const YI=ie.createContext(null);function sg({children:n,type:e}){return c.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const kY="noopener noreferrer nofollow";class CY{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return In(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){In(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{In(this.pdfDocument,"PDF document not loaded."),In(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{In(Array.isArray(t),`"${t}" is not a valid destination array.`);const r=t[0];new Promise(i=>{In(this.pdfDocument,"PDF document not loaded."),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{In(!1,`"${r}" is not a valid page reference.`)}):typeof r=="number"?i(r):In(!1,`"${r}" is not a valid destination reference.`)}).then(i=>{const s=i+1;In(this.pdfViewer,"PDF viewer is not initialized."),In(s>=1&&s<=this.pagesCount,`"${s}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;In(this.pdfViewer,"PDF viewer is not initialized."),In(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||kY,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Yj={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},i5=typeof document<"u",XI=i5&&window.location.protocol==="file:";function EY(n){return typeof n<"u"}function Qd(n){return EY(n)&&n!==null}function NY(n){return typeof n=="string"}function jY(n){return n instanceof ArrayBuffer}function PY(n){return In(i5,"isBlob can only be used in a browser environment"),n instanceof Blob}function Sk(n){return NY(n)&&/^data:/.test(n)}function Xj(n){In(Sk(n),"Invalid data URI.");const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function LY(){return i5&&window.devicePixelRatio||1}const JI="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Jj(){Fi(!XI,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${JI}`)}function TY(){Fi(!XI,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${JI}`)}function Rf(n){n!=null&&n.cancel&&n.cancel()}function Ak(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function RY(n){return n.name==="RenderingCancelledException"}function IY(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function FY(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function hm(){return ie.useReducer(FY,{value:void 0,error:void 0})}var MY=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(n,e||[])).next())})},Qj=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:OY}=nY,DY=(n,e)=>{switch(e){case Yj.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case Yj.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function Zj(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const BY=ie.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF",noData:h="No PDF file specified.",onItemClick:p,onLoadError:y,onLoadProgress:x,onLoadSuccess:_,onPassword:w=DY,onSourceError:A,onSourceSuccess:S,options:v,renderMode:C,rotate:j}=e,T=Qj(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[P,z]=hm(),{value:q,error:R}=P,[F,$]=hm(),{value:W,error:he}=F,ne=ie.useRef(new CY),X=ie.useRef([]),K=ie.useRef(void 0),ee=ie.useRef(void 0);l&&l!==K.current&&Zj(l)&&(Fi(!ig(l,K.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),K.current=l),v&&v!==ee.current&&(Fi(!ig(v,ee.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ee.current=v);const de=ie.useRef({scrollPageIntoView:Ue=>{const{dest:Ze,pageNumber:Ce,pageIndex:ce=Ce-1}=Ue;if(p){p({dest:Ze,pageIndex:ce,pageNumber:Ce});return}const ft=X.current[ce];if(ft){ft.scrollIntoView();return}Fi(!1,`An internal link leading to page ${Ce} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});ie.useImperativeHandle(t,()=>({linkService:ne,pages:X,viewer:de}),[]);function xe(){S&&S()}function M(){R&&(Fi(!1,R.toString()),A&&A(R))}function J(){z({type:"RESET"})}ie.useEffect(J,[l,z]);const B=ie.useCallback(()=>MY(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return Sk(l)?{data:Xj(l)}:(Jj(),{url:l});if(l instanceof OY)return{range:l};if(jY(l))return{data:l};if(i5&&PY(l))return{data:yield IY(l)};if(In(typeof l=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),In(Zj(l),"Invalid parameter object: need either .data, .range or .url"),"url"in l&&typeof l.url=="string"){if(Sk(l.url)){const{url:Ue}=l,Ze=Qj(l,["url"]),Ce=Xj(Ue);return Object.assign({data:Ce},Ze)}Jj()}return l}),[l]);ie.useEffect(()=>{const Ue=Ry(B());return Ue.promise.then(Ze=>{z({type:"RESOLVE",value:Ze})}).catch(Ze=>{z({type:"REJECT",error:Ze})}),()=>{Rf(Ue)}},[B,z]),ie.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){M();return}xe()}},[q]);function ae(){W&&(_&&_(W),X.current=new Array(W.numPages),ne.current.setDocument(W))}function le(){he&&(Fi(!1,he.toString()),y&&y(he))}ie.useEffect(function(){$({type:"RESET"})},[$,q]),ie.useEffect(function(){if(!q)return;const Ze=Object.assign(Object.assign({},q),v),Ce=VI(Ze);x&&(Ce.onProgress=x),w&&(Ce.onPassword=w);const ce=Ce;return ce.promise.then(ft=>{$({type:"RESOLVE",value:ft})}).catch(ft=>{ce.destroyed||$({type:"REJECT",error:ft})}),()=>{ce.destroy()}},[v,$,q]),ie.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){le();return}ae()}},[W]),ie.useEffect(function(){ne.current.setViewer(de.current),ne.current.setExternalLinkRel(a),ne.current.setExternalLinkTarget(o)},[a,o]);const ge=ie.useCallback((Ue,Ze)=>{X.current[Ue]=Ze},[]),we=ie.useCallback(Ue=>{delete X.current[Ue]},[]),Se=ie.useMemo(()=>({imageResourcesPath:d,linkService:ne.current,onItemClick:p,pdf:W,registerPage:ge,renderMode:C,rotate:j,unregisterPage:we}),[d,p,W,ge,C,j,we]),Le=ie.useMemo(()=>GI(T,()=>W),[T,W]);function De(){return c.jsx(YI.Provider,{value:Se,children:r})}function Ve(){return l?W==null?c.jsx(sg,{type:"loading",children:typeof f=="function"?f():f}):W===!1?c.jsx(sg,{type:"error",children:typeof s=="function"?s():s}):De():c.jsx(sg,{type:"no-data",children:typeof h=="function"?h():h})}return c.jsx("div",Object.assign({className:r5("react-pdf__Document",i),ref:u,style:{"--scale-factor":"1"}},Le,{children:Ve()}))});function QI(){return ie.useContext(YI)}function ZI(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(a){typeof a=="function"?a(s):a&&(a.current=s)})}}const eF=ie.createContext(null),tF={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},zY=/^H(\d+)$/;function UY(n){return n in tF}function s5(n){return"children"in n}function nF(n){return s5(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function HY(n){const e={};if(s5(n)){const{role:t}=n,r=t.match(zY);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(UY(t)){const i=tF[t];i&&(e.role=i)}}return e}function rF(n){const e={};if(s5(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),nF(n)){const[t]=n.children;if(t){const r=rF(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function $Y(n){return n?Object.assign(Object.assign({},HY(n)),rF(n)):null}function iF({className:n,node:e}){const t=ie.useMemo(()=>$Y(e),[e]),r=ie.useMemo(()=>!s5(e)||nF(e)?null:e.children.map((i,s)=>c.jsx(iF,{node:i},s)),[e]);return c.jsx("span",Object.assign({className:n},t,{children:r}))}function a5(){return ie.useContext(eF)}function qY(){const n=a5();In(n,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=hm(),{value:s,error:a}=r,{customTextRenderer:o,page:l}=n;function u(){s&&t&&t(s)}function d(){a&&(Fi(!1,a.toString()),e&&e(a))}return ie.useEffect(function(){i({type:"RESET"})},[i,l]),ie.useEffect(function(){if(o||!l)return;const h=Ry(l.getStructTree()),p=h;return h.promise.then(y=>{i({type:"RESOLVE",value:y})}).catch(y=>{i({type:"REJECT",error:y})}),()=>Rf(p)},[o,l,i]),ie.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}u()}},[s]),s?c.jsx(iF,{className:"react-pdf__Page__structTree structTree",node:s}):null}const e4=qI;function WY(n){const e=a5();In(e,"Unable to find Page context.");const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=LY(),onRenderError:a,onRenderSuccess:o,page:l,renderForms:u,renderTextLayer:d,rotate:f,scale:h}=t,{canvasRef:p}=n;In(l,"Attempted to render page canvas, but no page was specified.");const y=ie.useRef(null);function x(){l&&o&&o(Ak(l,h))}function _(v){RY(v)||(Fi(!1,v.toString()),a&&a(v))}const w=ie.useMemo(()=>l.getViewport({scale:h*s,rotation:f}),[s,l,f,h]),A=ie.useMemo(()=>l.getViewport({scale:h,rotation:f}),[l,f,h]);ie.useEffect(function(){if(!l)return;l.cleanup();const{current:C}=y;if(!C)return;C.width=w.width,C.height=w.height,C.style.width=`${Math.floor(A.width)}px`,C.style.height=`${Math.floor(A.height)}px`,C.style.visibility="hidden";const j={annotationMode:u?e4.ENABLE_FORMS:e4.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:w};i&&(j.background=i);const T=l.render(j),P=T;return T.promise.then(()=>{C.style.visibility="",x()}).catch(_),()=>Rf(P)},[i,l,u,w,A]);const S=ie.useCallback(()=>{const{current:v}=y;v&&(v.width=0,v.height=0)},[]);return ie.useEffect(()=>S,[S]),c.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:ZI(p,y),style:{display:"block",userSelect:"none"},children:d?c.jsx(qY,{}):null})}function VY(n){return"str"in n}function GY(){const n=a5();In(n,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:a,pageIndex:o,pageNumber:l,rotate:u,scale:d}=n;In(a,"Attempted to load page text content, but no page was specified.");const[f,h]=hm(),{value:p,error:y}=f,x=ie.useRef(null),_=ie.useRef(void 0);Fi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function w(){p&&r&&r(p)}function A(){y&&(Fi(!1,y.toString()),t&&t(y))}ie.useEffect(function(){h({type:"RESET"})},[a,h]),ie.useEffect(function(){if(!a)return;const z=Ry(a.getTextContent()),q=z;return z.promise.then(R=>{h({type:"RESOLVE",value:R})}).catch(R=>{h({type:"REJECT",error:R})}),()=>Rf(q)},[a,h]),ie.useEffect(()=>{if(p!==void 0){if(p===!1){A();return}w()}},[p]);const S=ie.useCallback(()=>{s&&s()},[s]),v=ie.useCallback(P=>{Fi(!1,P.toString()),i&&i(P)},[i]);function C(){const P=_.current;P&&P.classList.add("active")}function j(){const P=_.current;P&&P.classList.remove("active")}const T=ie.useMemo(()=>a.getViewport({scale:d,rotation:u}),[a,u,d]);return ie.useLayoutEffect(function(){if(!a||!p)return;const{current:z}=x;if(!z)return;z.innerHTML="";const q=a.streamTextContent({includeMarkedContent:!0}),R={container:z,textContentSource:q,viewport:T},F=new WI(R),$=F;return F.render().then(()=>{const W=document.createElement("div");W.className="endOfContent",z.append(W),_.current=W;const he=z.querySelectorAll('[role="presentation"]');if(e){let ne=0;p.items.forEach((X,K)=>{if(!VY(X))return;const ee=he[ne];if(!ee)return;const de=e(Object.assign({pageIndex:o,pageNumber:l,itemIndex:K},X));ee.innerHTML=de,ne+=X.str&&X.hasEOL?2:1})}S()}).catch(v),()=>Rf($)},[e,v,S,a,o,l,p,T]),c.jsx("div",{className:r5("react-pdf__Page__textContent","textLayer"),onMouseUp:j,onMouseDown:C,ref:x})}function KY(){const n=QI(),e=a5();In(e,"Unable to find Page context.");const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:u,pdf:d,renderForms:f,rotate:h,scale:p=1}=t;In(d,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),In(u,"Attempted to load page annotations, but no page was specified."),In(i,"Attempted to load page annotations, but no linkService was specified.");const[y,x]=hm(),{value:_,error:w}=y,A=ie.useRef(null);Fi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function S(){_&&a&&a(_)}function v(){w&&(Fi(!1,w.toString()),s&&s(w))}ie.useEffect(function(){x({type:"RESET"})},[x,u]),ie.useEffect(function(){if(!u)return;const z=Ry(u.getAnnotations()),q=z;return z.promise.then(R=>{x({type:"RESOLVE",value:R})}).catch(R=>{x({type:"REJECT",error:R})}),()=>{Rf(q)}},[x,u]),ie.useEffect(()=>{if(_!==void 0){if(_===!1){v();return}S()}},[_]);function C(){l&&l()}function j(P){Fi(!1,`${P}`),o&&o(P)}const T=ie.useMemo(()=>u.getViewport({scale:p,rotation:h}),[u,h,p]);return ie.useEffect(function(){if(!d||!u||!i||!_)return;const{current:z}=A;if(!z)return;const q=T.clone({dontFlip:!0}),R={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:z,l10n:null,page:u,viewport:q},F={annotations:_,annotationStorage:d.annotationStorage,div:z,imageResourcesPath:r,linkService:i,page:u,renderForms:f,viewport:q};z.innerHTML="";try{new $I(R).render(F),C()}catch($){j($)}return()=>{}},[_,r,i,u,d,f,T]),c.jsx("div",{className:r5("react-pdf__Page__annotations","annotationLayer"),ref:A})}var YY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const t4=1;function XY(n){const e=QI(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:a,children:o,className:l,customRenderer:u,customTextRenderer:d,devicePixelRatio:f,error:h="Failed to load the page.",height:p,inputRef:y,loading:x="Loading page",noData:_="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:A,onGetStructTreeError:S,onGetStructTreeSuccess:v,onGetTextError:C,onGetTextSuccess:j,onLoadError:T,onLoadSuccess:P,onRenderAnnotationLayerError:z,onRenderAnnotationLayerSuccess:q,onRenderError:R,onRenderSuccess:F,onRenderTextLayerError:$,onRenderTextLayerSuccess:W,pageIndex:he,pageNumber:ne,pdf:X,registerPage:K,renderAnnotationLayer:ee=!0,renderForms:de=!1,renderMode:xe="canvas",renderTextLayer:M=!0,rotate:J,scale:B=t4,unregisterPage:ae,width:le}=t,ge=YY(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[we,Se]=hm(),{value:Le,error:De}=we,Ve=ie.useRef(null);In(X,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Ue=Qd(ne)?ne-1:he??null,Ze=ne??(Qd(he)?he+1:null),Ce=J??(Le?Le.rotate:null),ce=ie.useMemo(()=>{if(!Le)return null;let tt=1;const pt=B??t4;if(le||p){const nt=Le.getViewport({scale:1,rotation:Ce});le?tt=le/nt.width:p&&(tt=p/nt.height)}return pt*tt},[p,Le,Ce,B,le]);ie.useEffect(function(){return()=>{Qd(Ue)&&i&&ae&&ae(Ue)}},[i,X,Ue,ae]);function ft(){if(P){if(!Le||!ce)return;P(Ak(Le,ce))}if(i&&K){if(!Qd(Ue)||!Ve.current)return;K(Ue,Ve.current)}}function Je(){De&&(Fi(!1,De.toString()),T&&T(De))}ie.useEffect(function(){Se({type:"RESET"})},[Se,X,Ue]),ie.useEffect(function(){if(!X||!Ze)return;const pt=Ry(X.getPage(Ze)),nt=pt;return pt.promise.then(yt=>{Se({type:"RESOLVE",value:yt})}).catch(yt=>{Se({type:"REJECT",error:yt})}),()=>Rf(nt)},[Se,X,Ze]),ie.useEffect(()=>{if(Le!==void 0){if(Le===!1){Je();return}ft()}},[Le,ce]);const ze=ie.useMemo(()=>Le&&Qd(Ue)&&Ze&&Qd(Ce)&&Qd(ce)?{_className:r,canvasBackground:s,customTextRenderer:d,devicePixelRatio:f,onGetAnnotationsError:w,onGetAnnotationsSuccess:A,onGetStructTreeError:S,onGetStructTreeSuccess:v,onGetTextError:C,onGetTextSuccess:j,onRenderAnnotationLayerError:z,onRenderAnnotationLayerSuccess:q,onRenderError:R,onRenderSuccess:F,onRenderTextLayerError:$,onRenderTextLayerSuccess:W,page:Le,pageIndex:Ue,pageNumber:Ze,renderForms:de,renderTextLayer:M,rotate:Ce,scale:ce}:null,[r,s,d,f,w,A,S,v,C,j,z,q,R,F,$,W,Le,Ue,Ze,de,M,Ce,ce]),qe=ie.useMemo(()=>GI(ge,()=>Le&&(ce?Ak(Le,ce):void 0)),[ge,Le,ce]),Me=`${Ue}@${ce}/${Ce}`;function fe(){switch(xe){case"custom":return In(u,'renderMode was set to "custom", but no customRenderer was passed.'),c.jsx(u,{},`${Me}_custom`);case"none":return null;case"canvas":default:return c.jsx(WY,{canvasRef:a},`${Me}_canvas`)}}function Te(){return M?c.jsx(GY,{},`${Me}_text`):null}function Oe(){return ee?c.jsx(KY,{},`${Me}_annotations`):null}function He(){return c.jsxs(eF.Provider,{value:ze,children:[fe(),Te(),Oe(),o]})}function Ye(){return Ze?X===null||Le===void 0||Le===null?c.jsx(sg,{type:"loading",children:typeof x=="function"?x():x}):X===!1||Le===!1?c.jsx(sg,{type:"error",children:typeof h=="function"?h():h}):He():c.jsx(sg,{type:"no-data",children:typeof _=="function"?_():_})}return c.jsx("div",Object.assign({className:r5(r,l),"data-page-number":Ze,ref:ZI(y,Ve),style:{"--scale-factor":`${ce}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},qe,{children:Ye()}))}TY();SE.workerSrc="pdf.worker.mjs";SE.workerSrc=new URL("/assets/pdf.worker.min-DGf6LXVo.mjs",import.meta.url).toString();const JY=()=>{const n=ie.useRef(),{id:e}=Rc(),[t,r]=ie.useState("");ie.useEffect(()=>{(async()=>{try{const u=await en.get(`http://localhost:5000/api/dongeng/${e}`);r(u.data.PdfPath)}catch(u){console.log(u.message)}})(),console.log(t)},[]);const[i,s]=ie.useState(null);function a({numPages:l}){s(l)}function o(){for(var l=[],u=1;u<=i;u++)l.push(c.jsx("div",{children:c.jsx(XY,{width:500,pageNumber:u,renderAnnotationLayer:!1,renderTextLayer:!1})},u));return l}return c.jsxs(c.Fragment,{children:[c.jsx(vl,{}),c.jsx("main",{children:c.jsx("section",{className:"container mt-3 mb-3",id:"container",children:c.jsxs("section",{className:"card",children:[c.jsxs("section",{className:"card-title border-bottom z-1",children:[c.jsx("h1",{className:"fw-bold fs-5 p-2 m-0 float-left m-2",children:"Judul"}),c.jsxs("button",{className:"btn btn-succes border-black fw-bold float-right p-2 m-2",onClick:()=>{let l=document.getElementById("container");l.requestFullscreen?l.requestFullscreen():l.mozRequestFullScreen?l.mozRequestFullScreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen():l.msRequestFullscreen&&l.msRequestFullscreen()},children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-fullscreen me-1 mb-1",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5M.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5m15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5"})}),"Fullscreen"]})]}),c.jsxs("section",{className:"card-body",children:[c.jsx(BY,{file:t,onLoadSuccess:a,children:c.jsx(fV,{ref:n,showCover:!0,width:500,height:500,usePortrait:!1,children:o()})}),c.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExample","data-bs-slide":"prev",children:[c.jsx("span",{className:"carousel-control-prev-icon bg-dark","aria-hidden":"true"}),c.jsx("span",{className:"visually-hidden",children:"Previous"})]}),c.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExample","data-bs-slide":"next",children:[c.jsx("span",{className:"carousel-control-next-icon bg-dark","aria-hidden":"true"}),c.jsx("span",{className:"visually-hidden",children:"Next"})]})]}),c.jsxs("section",{className:"card-footer text-center p-3",children:[c.jsx("p",{className:"",children:"Ayo mulai menulis ulang cerita di atas dengan cara Anda sendiri!"}),c.jsx(ct,{to:"/dongeng/write",className:"btn btn-orange text-white",children:"Mulai Menulis"})]})]})})}),c.jsx(yl,{})]})},NS=({start:n,end:e,duration:t})=>{const[r,i]=ie.useState(n);return ie.useEffect(()=>{let s=null;const a=o=>{s||(s=o);const l=Math.min((o-s)/t,1);i(Math.floor(l*(e-n)+n)),l<1&&window.requestAnimationFrame(a)};window.requestAnimationFrame(a)},[n,e,t]),c.jsx("div",{children:r})};var n4;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})(n4||(n4={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r4;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(r4||(r4={}));var i4;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(i4||(i4={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=["user","model","function","system"];var a4;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(a4||(a4={}));var o4;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(o4||(o4={}));var l4;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(l4||(l4={}));var c4;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(c4||(c4={}));var e1;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER"})(e1||(e1={}));var u4;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(u4||(u4={}));var d4;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(d4||(d4={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class kp extends bs{constructor(e,t){super(e),this.response=t}}class sF extends bs{constructor(e,t,r,i){super(e),this.status=t,this.statusText=r,this.errorDetails=i}}class pd extends bs{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY="https://generativelanguage.googleapis.com",ZY="v1beta",eX="0.19.0",tX="genai-js";var If;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(If||(If={}));class nX{constructor(e,t,r,i,s){this.model=e,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,t;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||ZY;let s=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||QY}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function rX(n){const e=[];return n!=null&&n.apiClient&&e.push(n.apiClient),e.push(`${tX}/${eX}`),e.join(" ")}async function iX(n){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",rX(n.requestOptions)),t.append("x-goog-api-key",n.apiKey);let r=(e=n.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new pd(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new pd(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new pd(`Header name ${i} can only be set using the apiClient field`);t.append(i,s)}}return t}async function sX(n,e,t,r,i,s){const a=new nX(n,e,t,r,s);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},cX(s)),{method:"POST",headers:await iX(a),body:i})}}async function Iy(n,e,t,r,i,s={},a=fetch){const{url:o,fetchOptions:l}=await sX(n,e,t,r,i,s);return aX(o,l,a)}async function aX(n,e,t=fetch){let r;try{r=await t(n,e)}catch(i){oX(i,n)}return r.ok||await lX(r,n),r}function oX(n,e){let t=n;throw n instanceof sF||n instanceof pd||(t=new bs(`Error fetching from ${e.toString()}: ${n.message}`),t.stack=n.stack),t}async function lX(n,e){let t="",r;try{const i=await n.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new sF(`Error fetching from ${e.toString()}: [${n.status} ${n.statusText}] ${t}`,n.status,n.statusText,r)}function cX(n){const e={};if((n==null?void 0:n.signal)!==void 0||(n==null?void 0:n.timeout)>=0){const t=new AbortController;(n==null?void 0:n.timeout)>=0&&setTimeout(()=>t.abort(),n.timeout),n!=null&&n.signal&&n.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),O2(n.candidates[0]))throw new kp(`${Cu(n)}`,n);return uX(n)}else if(n.promptFeedback)throw new kp(`Text not available. ${Cu(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),O2(n.candidates[0]))throw new kp(`${Cu(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),h4(n)[0]}else if(n.promptFeedback)throw new kp(`Function call not available. ${Cu(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),O2(n.candidates[0]))throw new kp(`${Cu(n)}`,n);return h4(n)}else if(n.promptFeedback)throw new kp(`Function call not available. ${Cu(n)}`,n)},n}function uX(n){var e,t,r,i;const s=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const a of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)a.text&&s.push(a.text),a.executableCode&&s.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&s.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function h4(n){var e,t,r,i;const s=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const a of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)a.functionCall&&s.push(a.functionCall);if(s.length>0)return s}const dX=[e1.RECITATION,e1.SAFETY,e1.LANGUAGE];function O2(n){return!!n.finishReason&&dX.includes(n.finishReason)}function Cu(n){var e,t,r;let i="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)i+="Response was blocked",!((e=n.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${n.promptFeedback.blockReason}`),!((t=n.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((r=n.candidates)===null||r===void 0)&&r[0]){const s=n.candidates[0];O2(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function R1(n){return this instanceof R1?(this.v=n,this):new R1(n)}function hX(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(h){r[h]&&(i[h]=function(p){return new Promise(function(y,x){s.push([h,p,y,x])>1||o(h,p)})})}function o(h,p){try{l(r[h](p))}catch(y){f(s[0][3],y)}}function l(h){h.value instanceof R1?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){o("next",h)}function d(h){o("throw",h)}function f(h,p){h(p),s.shift(),s.length&&o(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function fX(n){const e=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=mX(e),[r,i]=t.tee();return{stream:gX(r),response:pX(i)}}async function pX(n){const e=[],t=n.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return AE(vX(e));e.push(i)}}function gX(n){return hX(this,arguments,function*(){const t=n.getReader();for(;;){const{value:r,done:i}=yield R1(t.read());if(i)break;yield yield R1(AE(r))}})}function mX(n){const e=n.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:a,done:o})=>{if(o){if(i.trim()){r.error(new bs("Failed to parse stream"));return}r.close();return}i+=a;let l=i.match(f4),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new bs(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),i=i.substring(l[0].length),l=i.match(f4)}return s()})}}})}function vX(n){const e=n[n.length-1],t={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of n){if(r.candidates)for(const i of r.candidates){const s=i.index;if(t.candidates||(t.candidates=[]),t.candidates[s]||(t.candidates[s]={index:i.index}),t.candidates[s].citationMetadata=i.citationMetadata,t.candidates[s].finishReason=i.finishReason,t.candidates[s].finishMessage=i.finishMessage,t.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){t.candidates[s].content||(t.candidates[s].content={role:i.content.role||"user",parts:[]});const a={};for(const o of i.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),t.candidates[s].content.parts.push(a)}}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(n,e,t,r){const i=await Iy(e,If.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(t),r);return fX(i)}async function oF(n,e,t,r){const s=await(await Iy(e,If.GENERATE_CONTENT,n,!1,JSON.stringify(t),r)).json();return{response:AE(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function I1(n){let e=[];if(typeof n=="string")e=[{text:n}];else for(const t of n)typeof t=="string"?e.push({text:t}):e.push(t);return yX(e)}function yX(n){const e={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const s of n)"functionResponse"in s?(t.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new bs("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new bs("No content is provided for sending chat message.");return r?e:t}function wX(n,e){var t;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(t=e==null?void 0:e.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=n.generateContentRequest!=null;if(n.contents){if(i)throw new pd("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=n.contents}else if(i)r=Object.assign(Object.assign({},r),n.generateContentRequest);else{const s=I1(n);r.contents=[s]}return{generateContentRequest:r}}function p4(n){let e;return n.contents?e=n:e={contents:[I1(n)]},n.systemInstruction&&(e.systemInstruction=lF(n.systemInstruction)),e}function bX(n){return typeof n=="string"||Array.isArray(n)?{content:I1(n)}:n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],xX={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function SX(n){let e=!1;for(const t of n){const{role:r,parts:i}=t;if(!e&&r!=="user")throw new bs(`First content should be with role 'user', got ${r}`);if(!s4.includes(r))throw new bs(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(s4)}`);if(!Array.isArray(i))throw new bs("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new bs("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of i)for(const l of g4)l in o&&(s[l]+=1);const a=xX[r];for(const o of g4)if(!a.includes(o)&&s[o]>0)throw new bs(`Content with role '${r}' can't contain '${o}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="SILENT_ERROR";class AX{constructor(e,t,r,i={}){this.model=t,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(SX(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var r,i,s,a,o,l;await this._sendPromise;const u=I1(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),t);let h;return this._sendPromise=this._sendPromise.then(()=>oF(this._apiKey,this.model,d,f)).then(p=>{var y;if(p.response.candidates&&p.response.candidates.length>0){this._history.push(u);const x=Object.assign({parts:[],role:"model"},(y=p.response.candidates)===null||y===void 0?void 0:y[0].content);this._history.push(x)}else{const x=Cu(p.response);x&&console.warn(`sendMessage() was unsuccessful. ${x}. Inspect response object for details.`)}h=p}),await this._sendPromise,h}async sendMessageStream(e,t={}){var r,i,s,a,o,l;await this._sendPromise;const u=I1(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),t),h=aF(this._apiKey,this.model,d,f);return this._sendPromise=this._sendPromise.then(()=>h).catch(p=>{throw new Error(m4)}).then(p=>p.response).then(p=>{if(p.candidates&&p.candidates.length>0){this._history.push(u);const y=Object.assign({},p.candidates[0].content);y.role||(y.role="model"),this._history.push(y)}else{const y=Cu(p);y&&console.warn(`sendMessageStream() was unsuccessful. ${y}. Inspect response object for details.`)}}).catch(p=>{p.message!==m4&&console.error(p)}),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _X(n,e,t,r){return(await Iy(e,If.COUNT_TOKENS,n,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kX(n,e,t,r){return(await Iy(e,If.EMBED_CONTENT,n,!1,JSON.stringify(t),r)).json()}async function CX(n,e,t,r){const i=t.requests.map(a=>Object.assign(Object.assign({},a),{model:e}));return(await Iy(e,If.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t,r={}){this.apiKey=e,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=lF(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var r;const i=p4(e),s=Object.assign(Object.assign({},this._requestOptions),t);return oF(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,t={}){var r;const i=p4(e),s=Object.assign(Object.assign({},this._requestOptions),t);return aF(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var t;return new AX(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const r=wX(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return _X(this.apiKey,this.model,r,i)}async embedContent(e,t={}){const r=bX(e),i=Object.assign(Object.assign({},this._requestOptions),t);return kX(this.apiKey,this.model,r,i)}async batchEmbedContents(e,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return CX(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new bs("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new v4(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,r){if(!e.name)throw new pd("Cached content must contain a `name` field.");if(!e.model)throw new pd("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const a of i)if(t!=null&&t[a]&&e[a]&&(t==null?void 0:t[a])!==e[a]){if(a==="model"){const o=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(o===l)continue}throw new pd(`Different value for "${a}" specified in modelParams (${t[a]}) and cachedContent (${e[a]})`)}const s=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new v4(this.apiKey,s,r)}}const NX=new EX("AIzaSyBtonuMX9xSCnzGf94vfbDVO4tFXP-VYws"),jX=NX.getGenerativeModel({model:"gemini-1.5-flash"}),PX=async()=>{const{data:n}=await jt.get("/popular");return n},LX=async()=>{const{data:n}=await jt.get("/count/dongeng");return n.row},TX=async()=>{const{data:n}=await jt.get("/count/view");return n.views},RX=async()=>{await jt.get("/visited")},IX=async()=>{const{data:n}=await jt.get("/visited/get");return n.visited},FX=()=>{const[n,e]=ie.useState([]),[t,r]=ie.useState(0),[i,s]=ie.useState(0),[a,o]=ie.useState(0);ie.useEffect(()=>{(async()=>{e(await PX()),r(await LX()),s(await TX()),o(await IX()),await RX()})()},[]);const[l,u]=ie.useState("");async function d(){const h=await jX.generateContent("buat satu kalimat motivasi pendek dengan tema dongeng"),p=new SpeechSynthesisUtterance(h.response.text());p.lang="ID",window.speechSynthesis.speak(p),u(h.response.text())}return c.jsxs(c.Fragment,{children:[c.jsx(vl,{}),c.jsxs("main",{className:"bg-secondary-light",children:[c.jsx("section",{className:"bg-secondary-light position-relative py-5 mb-5",children:c.jsx("section",{className:"container",children:c.jsxs("section",{className:"row",children:[c.jsxs("section",{className:"col-lg-6 order-last order-lg-first my-lg-auto",children:[c.jsx("h1",{className:"jumbo-title text-white fw-bold text-center text-lg-start pt-3 pt-lg-0",style:{fontSize:"44px"},children:"Cerita Panji Kediri"}),c.jsxs("section",{className:"d-flex flex-column position-relative",children:[c.jsx("p",{className:"text-white text-center text-lg-start w-100",children:"Akses di manapun, kapanpun, Baca dongeng yuk!"}),c.jsx("span",{className:"mtmin d-none d-lg-block position-absolute",style:{bottom:"5px",left:"0%"},children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-title.png",alt:"line-title"})})]}),c.jsxs("section",{className:"input-group shadow mt-5",children:[c.jsx("input",{type:"text",className:"form-control p-3 border-0 fw-light text-gray",placeholder:"Klik untuk mendapat quote....","aria-label":"Cari buku disini",value:l}),c.jsx("section",{className:"bg-white my-auto",style:{padding:9},onClick:d,children:c.jsx("button",{className:"btn btn-orange text-white",type:"button",children:"Quotes"})})]}),c.jsx("section",{className:"position-relative bg-danger"})]}),c.jsx("section",{className:"col-lg-6",children:c.jsx("img",{src:"COVER_CERITA_PANJI_POPULER-1-removebg-preview.png",className:"w-100",alt:""})})]})})}),c.jsx("section",{className:"p-4 container-fluid bg-primary",children:c.jsxs("section",{className:"row text-center justify-content-start justify-content-lg-center",children:[c.jsxs("section",{className:"col-6 col-lg-2",children:[c.jsxs("section",{className:"position-relative",children:[c.jsx("section",{className:"position-relative",style:{zIndex:100},children:c.jsx("span",{className:"text-white fs-1 fw-bold",children:c.jsx(NS,{start:0,end:i,duration:2e3})})}),c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-stats.png",className:"position-absolute mx-auto",style:{zIndex:1,bottom:"5%",left:"16%",width:"65%"},alt:""})]}),c.jsx("p",{className:"text-white",children:"Kali buku dibaca"})]}),c.jsxs("section",{className:"col-6 col-lg-2",children:[c.jsxs("section",{className:"position-relative",children:[c.jsx("section",{className:"position-relative",style:{zIndex:100},children:c.jsx("span",{className:"text-white fs-1 fw-bold",children:c.jsx(NS,{start:0,end:t,duration:2e3})})}),c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-stats.png",className:"position-absolute mx-auto",style:{zIndex:1,bottom:"5%",left:"16%",width:"65%"},alt:""})]}),c.jsx("p",{className:"text-white",children:"Buku tersedia"})]}),c.jsxs("section",{className:"col-6 col-lg-2",children:[c.jsxs("section",{className:"position-relative",children:[c.jsx("section",{className:"position-relative",style:{zIndex:100},children:c.jsx("span",{className:"text-white fs-1 fw-bold",children:c.jsx(NS,{start:0,end:a,duration:2e3})})}),c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-stats.png",className:"position-absolute mx-auto",style:{zIndex:1,bottom:"5%",left:"16%",width:"65%"},alt:""})]}),c.jsx("p",{className:"text-white",children:"Total kunjungan"})]})]})}),c.jsx("section",{className:"py-5",style:{background:"linear-gradient(0deg ,#EEDF7A -30%, #FFFFFF 70%)"},children:c.jsxs("section",{className:"container-lg p-3",children:[c.jsxs("section",{className:"row align-items-center",children:[c.jsxs("section",{className:"col-lg-6",children:[c.jsxs("h3",{className:"fw-bold",children:["Dongeng",c.jsxs("section",{className:"d-inline-flex flex-column",children:[c.jsx("span",{children:"terpopuler"}),c.jsx("span",{className:"mtmin",children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-populer.png",alt:"Line title"})})]})]}),c.jsx("p",{className:"",children:"Jelajahi dongeng populer dari pusat perbukuan resmi"})]}),c.jsx("section",{className:"col-lg-6 text-end",children:c.jsx(ct,{to:"/katalog",className:"btn btn-lg bg-secondary text-white",children:"Lihat semua buku"})})]}),c.jsx("section",{className:"row mt-4",children:n.map(f=>c.jsx("section",{className:"col-lg-3 col-6 my-2",children:c.jsxs(ct,{to:"dongeng/detail/"+f.id,className:"text-decoration-none text-dark position-relative",children:[c.jsx("section",{className:"card border-1 mt-3 CardBook_card rounded shadow",style:{minHeight:"200px"},children:c.jsx("section",{className:"card-header text-center text-lg-start bg-white p-0 border-0",children:c.jsx("img",{src:f.cover,alt:f.title,className:"img-fluid rounded-0"})})}),c.jsxs("section",{className:"position-absolute d-flex flex-column gap-2",style:{top:"30px",left:"-2px"},children:[c.jsx("span",{className:"badge rounded bg-danger",style:{width:"50px"},children:"PDF"}),c.jsx("span",{className:"badge rounded bg-secondary",children:"SMA/MA/SMK/MAK"})]}),c.jsx("section",{className:"w-100 text-center px-5 px-lg-0 position-absolute bottom-0",style:{backgroundColor:"rgba(216, 162, 94, 0.7)"},children:c.jsx("section",{className:"fs-6 my-1 text-white",children:f.title})})]})},f.id))})]})}),zn.getCookies("accessToken")&&c.jsx("section",{className:"py-5 bg-white d-none",children:c.jsxs("section",{className:"container-lg p-3",children:[c.jsxs("section",{className:"row align-items-center",children:[c.jsxs("section",{className:"col-lg-6",children:[c.jsxs("h3",{className:"fw-bold",children:["Buku",c.jsxs("section",{className:"d-inline-flex flex-column",children:[c.jsx("span",{children:"Audio"}),c.jsx("span",{className:"mtmin",children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-populer.png",alt:"Line title"})})]})]}),c.jsx("p",{className:"",children:"Belajar lebih interaktif dan mudah dengan buku audio"})]}),c.jsx("section",{className:"col-lg-6 text-end",children:c.jsx(ct,{to:"#",className:"btn btn-sm btn-outline-primary",children:"Lihat semua buku audio"})})]}),c.jsxs("section",{className:"row mt-4",children:[c.jsx("section",{className:"col-lg-3 my-2",children:c.jsx(ct,{to:"#",className:"text-decoration-none text-dark",children:c.jsxs("section",{className:"card border-0 mt-3 CardBook_card",children:[c.jsx("section",{className:"card-header text-center text-lg-start bg-white p-0 border-0",style:{backgroundImage:'url("https://buku.kemdikbud.go.id/assets/image/home/ellipse-2.png")',backgroundRepeat:"no-repeat",backgroundPosition:"center bottom"},children:c.jsx("img",{src:"https://static.buku.kemdikbud.go.id/content/thumbnail/Cover_Kelas_XI_B_Indonesia_BS.png",alt:"Bahasa Indonesia Kelas XI",className:"CardBook_img-size"})}),c.jsxs("section",{className:"card-body px-5 px-lg-0 py-2",children:[c.jsx("span",{className:"badge rounded-pill bg-success mt-2",children:"Audio"}),c.jsx("span",{className:"badge rounded-pill bg-secondary mt-2 ms-1",children:"SMA/MA/SMK/MAK"}),c.jsx("section",{className:"my-2",children:"Bahasa Indonesia Kelas XI"})]})]})})}),c.jsx("section",{className:"col-lg-3 my-2",children:c.jsx(ct,{to:"#",className:"text-decoration-none text-dark",children:c.jsxs("section",{className:"card border-0 mt-3 CardBook_card",children:[c.jsx("section",{className:"card-header text-center text-lg-start bg-white p-0 border-0",style:{backgroundImage:'url("https://buku.kemdikbud.go.id/assets/image/home/ellipse-2.png")',backgroundRepeat:"no-repeat",backgroundPosition:"center bottom"},children:c.jsx("img",{src:"https://static.buku.kemdikbud.go.id/content/thumbnail/Cover_Kelas_XI_B_Indonesia_BS.png",alt:"Bahasa Indonesia Kelas XI",className:"CardBook_img-size"})}),c.jsxs("section",{className:"card-body px-5 px-lg-0 py-2",children:[c.jsx("span",{className:"badge rounded-pill bg-success mt-2",children:"Audio"}),c.jsx("span",{className:"badge rounded-pill bg-secondary mt-2 ms-1",children:"SMA/MA/SMK/MAK"}),c.jsx("section",{className:"my-2",children:"Bahasa Indonesia Kelas XI"})]})]})})}),c.jsx("section",{className:"col-lg-3 my-2",children:c.jsx(ct,{to:"#",className:"text-decoration-none text-dark",children:c.jsxs("section",{className:"card border-0 mt-3 CardBook_card",children:[c.jsx("section",{className:"card-header text-center text-lg-start bg-white p-0 border-0",style:{backgroundImage:'url("https://buku.kemdikbud.go.id/assets/image/home/ellipse-2.png")',backgroundRepeat:"no-repeat",backgroundPosition:"center bottom"},children:c.jsx("img",{src:"https://static.buku.kemdikbud.go.id/content/thumbnail/Cover_Kelas_XI_B_Indonesia_BS.png",alt:"Bahasa Indonesia Kelas XI",className:"CardBook_img-size"})}),c.jsxs("section",{className:"card-body px-5 px-lg-0 py-2",children:[c.jsx("span",{className:"badge rounded-pill bg-success mt-2",children:"Audio"}),c.jsx("span",{className:"badge rounded-pill bg-secondary mt-2 ms-1",children:"SMA/MA/SMK/MAK"}),c.jsx("section",{className:"my-2",children:"Bahasa Indonesia Kelas XI"})]})]})})}),c.jsx("section",{className:"col-lg-3 my-2",children:c.jsx(ct,{to:"#",className:"text-decoration-none text-dark",children:c.jsxs("section",{className:"card border-0 mt-3 CardBook_card",children:[c.jsx("section",{className:"card-header text-center text-lg-start bg-white p-0 border-0",style:{backgroundImage:'url("https://buku.kemdikbud.go.id/assets/image/home/ellipse-2.png")',backgroundRepeat:"no-repeat",backgroundPosition:"center bottom"},children:c.jsx("img",{src:"https://static.buku.kemdikbud.go.id/content/thumbnail/Cover_Kelas_XI_B_Indonesia_BS.png",alt:"Bahasa Indonesia Kelas XI",className:"CardBook_img-size"})}),c.jsxs("section",{className:"card-body px-5 px-lg-0 py-2",children:[c.jsx("span",{className:"badge rounded-pill bg-success mt-2",children:"Audio"}),c.jsx("span",{className:"badge rounded-pill bg-secondary mt-2 ms-1",children:"SMA/MA/SMK/MAK"}),c.jsx("section",{className:"my-2",children:"Bahasa Indonesia Kelas XI"})]})]})})})]})]})}),c.jsxs("section",{className:"py-2 position-relative",children:[c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/bg-book-for-all.png",className:"w-100 position-absolute top-0 d-none d-lg-block",style:{height:"100%"}}),c.jsxs("section",{className:"container p-3",children:[c.jsxs("h3",{className:"fw-bold",children:["Cerita",c.jsxs("section",{className:"d-inline-flex flex-column",children:[c.jsx("span",{children:"untuk semua"}),c.jsx("span",{className:"mtmin",children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-access-book.png",className:"line-access w-100",alt:"Line title"})})]})]}),c.jsx("p",{className:"mtmin text-acces",children:"Temukan cerita sesuai kebutuhanmu"}),c.jsxs("section",{className:"row",children:[c.jsx("section",{className:"col-lg-4",children:c.jsx("section",{className:"card mb-3 p-2 shadow",style:{height:"90%"},children:c.jsxs("section",{className:"row g-0",children:[c.jsx("section",{className:"col-md-3 text-center ps-lg-2",children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/Group%2020.png",className:"img-fluid rounded-start mt-3",alt:"..."})}),c.jsx("section",{className:"col-md-9",children:c.jsxs("section",{className:"card-body px-3",children:[c.jsx("section",{className:"fw-bold mb-1",style:{fontSize:"1.1rem"},children:"Siswa"}),c.jsx("p",{className:"card-text text-muted",children:"Belajar lebih asik dengan cerita panji kediri"}),c.jsx(ct,{to:"/katalog",children:c.jsx("small",{className:"text-primary fw-bold",children:"Lihat selengkapnya "})})]})})]})})}),c.jsx("section",{className:"col-lg-4",children:c.jsx("section",{className:"card mb-3 p-2 shadow",style:{height:"90%"},children:c.jsxs("section",{className:"row g-0",children:[c.jsx("section",{className:"col-md-3 text-center ps-lg-2",children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/Group%2021.png",className:"img-fluid rounded-start mt-3",alt:"..."})}),c.jsx("section",{className:"col-md-9",children:c.jsxs("section",{className:"card-body px-3",children:[c.jsx("section",{className:"fw-bold mb-1",style:{fontSize:"1.1rem"},children:"Guru"}),c.jsx("p",{className:"card-text text-muted",children:"Dapatkan akses cerita untuk bahan ajar di kelas"}),c.jsx(ct,{to:"/katalog",children:c.jsx("small",{className:"text-primary fw-bold",children:"Lihat selengkapnya "})})]})})]})})}),c.jsx("section",{className:"col-lg-4",children:c.jsx("section",{className:"card mb-3 p-2 shadow",style:{height:"90%"},children:c.jsxs("section",{className:"row g-0",children:[c.jsx("section",{className:"col-md-3 text-center ps-lg-2",children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/Group%2022.png",className:"img-fluid rounded-start mt-3",alt:"..."})}),c.jsx("section",{className:"col-md-9",children:c.jsxs("section",{className:"card-body px-3",children:[c.jsx("section",{className:"fw-bold mb-1",style:{fontSize:"1.1rem"},children:"Umum"}),c.jsx("p",{className:"card-text text-muted",children:"Bantu tingkatkan belajar anak"}),c.jsx(ct,{to:"/katalog",className:"",children:c.jsx("small",{className:"text-primary fw-bold",children:"Lihat selengkapnya "})})]})})]})})})]})]})]}),c.jsx("section",{className:"bg-primary",children:c.jsx("section",{className:"container",children:c.jsxs("section",{className:"row",children:[c.jsx("section",{className:"col-lg-7 py-5",children:c.jsxs("section",{className:"",children:[c.jsx("h4",{className:"fw-bold text-white",children:"Pertanyaan yang sering ditanyakan"}),c.jsxs("section",{className:"accordion accordion-flush my-4",id:"accordion-flushex",children:[c.jsxs("section",{className:"accordion-item mb-2 border-0 bg-primary text-white",children:[c.jsx("h2",{className:"accordion-header",id:"flushHd1",children:c.jsx("button",{className:"accordion-button collapsed ps-1 bg-primary text-white",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapse1","aria-expanded":"false","aria-controls":"flush-collapse1",children:"Apa itu buku Cerita Panji Kediri"})}),c.jsx("section",{id:"flush-collapse1",className:"accordion-collapse collapse","aria-labelledby":"flushHd1","data-bs-parent":"accordion-flushex",children:c.jsx("section",{className:"accordion-body",children:"Dongeng yang dikembangkan dan diterbitkan oleh tim peneliti Universitas Nusantara PGRI Kediri yang di danai oleh DRTPM."})})]}),c.jsxs("section",{className:"accordion-item mb-2 border-0 bg-primary text-white",style:{backgroundColor:"#6686b7"},children:[c.jsx("h2",{className:"accordion-header",id:"flushHd2",children:c.jsx("button",{className:"accordion-button collapsed ps-1 bg-primary text-white",style:{backgroundColor:"#6686b7"},type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapse2","aria-expanded":"false","aria-controls":"flush-collapse2",children:"Bagaimana cara mendaftar di Panji Kediri?"})}),c.jsx("section",{id:"flush-collapse2",className:"accordion-collapse collapse","aria-labelledby":"flushHd2","data-bs-parent":"accordion-flushex",children:c.jsx("section",{className:"accordion-body",children:"Silahkan klik Masuk di bagian pojok kanan atas, lalu isi formulir dengan lengkap menggunakan data sebenarnya. Lalu klik tombol Daftar di bagian bawah. Proses pendaftaran selesai."})})]}),c.jsxs("section",{className:"accordion-item mb-2 border-0 bg-primary text-white",style:{backgroundColor:"#6686b7"},children:[c.jsx("h2",{className:"accordion-header",id:"flushHd4",children:c.jsx("button",{className:"accordion-button collapsed ps-1 bg-primary text-white",style:{backgroundColor:"#6686b7"},type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapse4","aria-expanded":"false","aria-controls":"flush-collapse4",children:"Mengapa saya tidak menerima email konfirmasi setelah mendaftar?"})}),c.jsx("section",{id:"flush-collapse4",className:"accordion-collapse collapse","aria-labelledby":"flushHd4","data-bs-parent":"accordion-flushex",children:c.jsx("section",{className:"accordion-body",children:"Panduan Panji Kediri Sering Ditanyakan Karena mungkin email kamu tidak aktif, salah memasukan email ketika mendaftar, atau mungkin masuk ke folder promosi atau spam di email kamu."})})]}),c.jsxs("section",{className:"accordion-item mb-2 border-0 bg-primary text-white",style:{backgroundColor:"#6686b7"},children:[c.jsx("h2",{className:"accordion-header",id:"flushHd5",children:c.jsx("button",{className:"accordion-button collapsed ps-1 bg-primary text-white",style:{backgroundColor:"#6686b7"},type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapse5","aria-expanded":"false","aria-controls":"flush-collapse5",children:"Apakah saya boleh mencetak buku yang ada di Panji Kediri?"})}),c.jsx("section",{id:"flush-collapse5",className:"accordion-collapse collapse","aria-labelledby":"flushHd5","data-bs-parent":"accordion-flushex",children:c.jsx("section",{className:"accordion-body",children:"Buku yang diunggah di Panji Kediri merupakan buku yang diterbitkan oleh Universitas Nusantara PGRI Kediri, sehingga masyarakat Indonesia diizinkan memanfaatkan buku ini."})})]})]})]})}),c.jsx("section",{className:"col-lg-5 position-relative d-none d-lg-block",children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/faq-night.png",className:"w-100 m-faq position-absolute bottom-0",alt:"",style:{zIndex:0}})})]})})})]}),c.jsx(yl,{})]})},MX=({items:n})=>n.length==0?c.jsx(c.Fragment,{children:c.jsx("section",{className:"container my-4 py-4",children:c.jsx("section",{className:"row",children:c.jsxs("section",{className:"col text-center",children:[c.jsx("img",{className:"img-fluid",src:"https://buku.kemdikbud.go.id/assets/image/oops.png",alt:"halaman tidak ditemukan"}),c.jsx("p",{className:"lead text-muted mb-5",children:"Sepertinya buku yang kamu cari tidak ditemukan."})]})})})}):c.jsx(c.Fragment,{children:n.map(e=>c.jsx("section",{className:"col-lg-3 col-6 my-2",children:c.jsxs(ct,{to:"/dongeng/detail/"+e.id,className:"text-decoration-none text-dark position-relative",children:[c.jsx("section",{className:"card border-1 mt-3 CardBook_card rounded shadow",style:{minHeight:"200px"},children:c.jsx("section",{className:"card-header text-center text-lg-start bg-white p-0 border-0",children:c.jsx("img",{src:e.cover,alt:e.title,className:"img-fluid rounded-0"})})}),c.jsxs("section",{className:"position-absolute d-flex flex-column gap-2",style:{top:"30px",left:"-2px"},children:[c.jsx("span",{className:"badge rounded bg-danger",style:{width:"50px"},children:"PDF"}),c.jsx("span",{className:"badge rounded bg-secondary",children:"SMA/MA/SMK/MAK"})]}),c.jsx("section",{className:"w-100 text-center px-5 px-lg-0 position-absolute bottom-0",style:{backgroundColor:"rgba(216, 162, 94, 0.7)"},children:c.jsx("section",{className:"fs-6 my-1 text-white",children:e.title})})]})},e.id))}),OX=()=>{const[n,e]=ie.useState(1),[t]=ie.useState(8),[r,i]=ie.useState([]),[s,a]=ie.useState(""),[o,l]=ie.useState(!0);ie.useEffect(()=>{(async()=>{l(!0);const _=await en.get("http://localhost:5000/api/dongeng");i(_.data),l(!1)})()},[]);const u=x=>{a(x.target.value),e(1)},d=r.filter(x=>x.title.toLowerCase().includes(s.toLowerCase())),f=n*t,h=f-t,p=d.slice(h,f),y=x=>e(x);return c.jsxs(c.Fragment,{children:[c.jsx(vl,{}),c.jsx("main",{style:{minHeight:"calc(100vh - 76px)"},className:"bg-secondary-light",children:o?c.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"calc(100vh - 76px)"},children:c.jsx("div",{className:"spinner-border",role:"status",children:c.jsx("span",{className:"visually-hidden"})})}):c.jsx("section",{className:"",style:{minHeight:"calc(100vh - 76px)"},children:c.jsx("section",{className:"container px-3 py-5",children:c.jsxs("section",{className:"justify-content-center",children:[c.jsx("section",{className:"text-muted text-end mb-3",children:c.jsx("p",{className:"fs-5 fst-italic",children:"Cari dan Baca Dongeng yang Anda Sukai"})}),c.jsx("section",{children:c.jsx("section",{className:"position-relative",children:c.jsxs("section",{className:"input-group shadow-sm rounded-3",children:[c.jsx("span",{className:"input-group-text bg-white",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-search",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})})}),c.jsx("input",{type:"text",className:"form-control py-3 border-start-0 border-end-0 px-2",placeholder:"Cari buku disini","aria-label":"Cari buku disini",onChange:u}),c.jsx("button",{className:"btn btn-orange text-white",type:"button",onClick:u,children:"Cari"})]})})}),c.jsx("div",{children:c.jsxs("p",{className:`fs-5 fst-italic p-0 m-0 mt-3 ${s?"d-block":"d-none"}`,children:["Kata Kunci : ",s]})}),c.jsxs("section",{className:"row",children:[c.jsx(MX,{items:p}),c.jsx(wx,{itemsPerPage:t,totalItems:d.length,paginate:y,className:"mt-5"})]})]})})})}),c.jsx(yl,{})]})},DX=()=>c.jsxs(c.Fragment,{children:[c.jsx(vl,{}),c.jsxs("main",{children:[c.jsxs("section",{className:"bg-hero position-relative hero-petunjuk",children:[c.jsx("section",{className:"container p-3 pb-0",children:c.jsxs("section",{className:"row",children:[c.jsxs("section",{className:"col-lg-6 order-last order-md-first my-5 my-md-auto",children:[c.jsxs("section",{className:"d-inline-flex flex-column",children:[c.jsx("span",{className:"fw-bold",children:"BUKU UNTUK SISWA"}),c.jsx("span",{className:"mtmin d-none d-md-block",children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-title.png",alt:""})})]}),c.jsx("section",{className:"row",children:c.jsx("section",{className:"col-10",children:c.jsx("section",{className:"text-hero-h1 fw-bold text-blue",children:"Belajar jadi lebih mudah"})})}),c.jsx("p",{className:"lead mt-2 mt-lg-2x",children:"Temukan buku pelajaran resmi kemendikbud di sini"})]}),c.jsx("section",{className:"col-lg-6 position-relative",children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/guide/untuk%20siswa.png",className:"w-100 d-block d-lg-none position-relative",style:{zIndex:1,right:"-5%"},alt:""})})]})}),c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/guide/untuk%20siswa.png",className:"d-none w-50 d-lg-block position-absolute",style:{zIndex:1,left:"50%",bottom:"0%"},alt:""})]}),c.jsx("section",{className:"py-5 bg-white",children:c.jsxs("section",{className:"container-fluid p-5",children:[c.jsxs("section",{className:"row align-items-center",children:[c.jsx("section",{className:"col-lg-6 text-center mb-4",children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/guide/student/aset%20panduan%20siswa%20poin%201.png",style:{width:"60%"},alt:""})}),c.jsxs("section",{className:"col-lg-6 ps-lg-5",children:[c.jsxs("h1",{className:"text-blue mb-3 fw-bold",children:["Akses gratis Buku",c.jsx("br",{}),"pelajaran resmi"]}),c.jsx("p",{children:"Dapatkan akses buku teks pelajaran dan buku referensi untuk bahan belajar di sekolah dan di rumah langsung dari Pusat Perbukuan, Kemdikbud."})]})]}),c.jsxs("section",{className:"row align-items-center mt-5",children:[c.jsxs("section",{className:"col-lg-6 ps-lg-5 order-last order-md-first mt-4 mt-md-0",children:[c.jsxs("h1",{className:"text-blue mb-3 fw-bold",children:["Keuntungan jika",c.jsx("br",{}),"daftar akun"]}),c.jsx("p",{children:"Dengan mendaftar dan login di laman SIBI, adik-adik dapat turut serta melaporkan hal-hal yang terkait dengan buku seperti keunggulan atau kelemahan buku yang adik-adik baca."}),c.jsx("p",{children:"Dengan login pada platform laman SIBI, adik-adik dapat juga melihat riwayat baca dan unduhan buku."}),c.jsx("p",{children:"Di laman SIBI ini, adik-adik dapat ikut serta mengulas dan memberikan komentar pada buku, juga melihat ulasan dari teman-teman yang lainnya."})]}),c.jsx("section",{className:"col-lg-6 text-center",children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/guide/student/aset%20panduan%20siswa%20poin%202.png",className:"w-75",alt:""})})]}),c.jsxs("section",{className:"row align-items-center mt-5",children:[c.jsx("section",{className:"col-lg-6 text-center mb-4",children:c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/guide/student/aset%20panduan%20siswa%20poin%203.png",className:"w-100",alt:""})}),c.jsxs("section",{className:"col-lg-6 ps-lg-5",children:[c.jsxs("h1",{className:"text-blue mb-3 fw-bold",children:["Beragam Buku",c.jsx("br",{}),"untuk dicoba"]}),c.jsx("p",{children:"Di laman SIBI ini, tersedia buku-buku dari kurikulum 2013 (K-13), Kurikulum Merdeka, serta buku umum sebagai referensi adik-adik belajar."}),c.jsx("p",{children:"Belajar pun jadi lebih semangat dengan video animasi, games/permainan, dan simulasi pada buku elektronik interaktif."}),c.jsx("p",{children:"Rasakan asiknya belajar melalui buku audio, belajar dengan santai di rumah maupun di perjalanan."})]})]})]})}),c.jsx("section",{className:"bg-pink",style:{padding:"60px 0px",backgroundImage:"url(https://buku.kemdikbud.go.id/assets/image/guide/Background.png)",backgroundRepeat:"no-repeat",backgroundSize:"100%"},children:c.jsxs("section",{className:"container p-3 text-center",children:[c.jsx("h1",{className:"text-blue fw-bold mb-3",children:"Jelajahi buku sekarang"}),c.jsxs(ct,{to:"/katalog",className:"btn btn-orange text-white",children:["Buka katalog buku",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-right",viewBox:"0 0 16 16",children:c.jsx("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"})})]})]})}),c.jsx("section",{style:{backgroundImage:"url(https://buku.kemdikbud.go.id/assets/image/background/bg-2-stats.png)",backgroundPosition:"center center"},children:c.jsx("section",{className:"container p-4",children:c.jsxs("section",{className:"row text-center justify-content-start justify-content-lg-center",children:[c.jsxs("section",{className:"col-6 col-lg-2",children:[c.jsxs("section",{className:"position-relative",children:[c.jsx("section",{className:"position-relative",style:{zIndex:100},children:c.jsx("span",{className:"text-white fs-1 fw-bold",children:"5.139.718"})}),c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-stats.png",className:"position-absolute mx-auto",style:{zIndex:1,bottom:"5%",left:"16%",width:"65%"},alt:""})]}),c.jsx("p",{className:"text-white",children:"Kali buku dibaca"})]}),c.jsxs("section",{className:"col-6 col-lg-2",children:[c.jsxs("section",{className:"position-relative",children:[c.jsx("section",{className:"position-relative",style:{zIndex:100},children:c.jsx("span",{className:"text-white fs-1 fw-bold",children:"5.139.718"})}),c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-stats.png",className:"position-absolute mx-auto",style:{zIndex:1,bottom:"5%",left:"16%",width:"65%"},alt:""})]}),c.jsx("p",{className:"text-white",children:"Kali buku diunduh"})]}),c.jsxs("section",{className:"col-6 col-lg-2",children:[c.jsxs("section",{className:"position-relative",children:[c.jsx("section",{className:"position-relative",style:{zIndex:100},children:c.jsx("span",{className:"text-white fs-1 fw-bold",children:"5.139.718"})}),c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-stats.png",className:"position-absolute mx-auto",style:{zIndex:1,bottom:"5%",left:"16%",width:"65%"},alt:""})]}),c.jsx("p",{className:"text-white",children:"Buku tersedia"})]}),c.jsxs("section",{className:"col-6 col-lg-2",children:[c.jsxs("section",{className:"position-relative",children:[c.jsx("section",{className:"position-relative",style:{zIndex:100},children:c.jsx("span",{className:"text-white fs-1 fw-bold",children:"5.139.718"})}),c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-stats.png",className:"position-absolute mx-auto",style:{zIndex:1,bottom:"5%",left:"16%",width:"65%"},alt:""})]}),c.jsx("p",{className:"text-white",children:"Buku lulus penilaian"})]}),c.jsxs("section",{className:"col-6 col-lg-2",children:[c.jsxs("section",{className:"position-relative",children:[c.jsx("section",{className:"position-relative",style:{zIndex:100},children:c.jsx("span",{className:"text-white fs-1 fw-bold",children:"5.139.718"})}),c.jsx("img",{src:"https://buku.kemdikbud.go.id/assets/image/home/line-stats.png",className:"position-absolute mx-auto",style:{zIndex:1,bottom:"5%",left:"16%",width:"65%"},alt:""})]}),c.jsx("p",{className:"text-white",children:"Total kunjungan"})]})]})})})]}),c.jsx(yl,{})]}),BX=()=>c.jsx(c.Fragment,{}),zX=()=>c.jsx(c.Fragment,{}),UX=()=>c.jsx(c.Fragment,{}),o5=({children:n})=>{const e=zn.getCookie("userID"),t=zn.getCookie("refreshToken");return Yt(r=>r.user),!e||!t?c.jsx(FC,{to:"/login"}):c.jsxs("div",{children:[c.jsx(vl,{}),n,c.jsx(yl,{})]})},HX=()=>{const n=sn(),e=zn.getCookie("userID"),{user:t}=Yt(a=>a.user);async function r(){const a=await n(ff(e));if(a.error&&a.error.message==="401")return console.log("getting new access token"),await n(Tt()),r()}const[i,s]=ie.useState("");return ie.useEffect(()=>{s((t==null?void 0:t.role)||"")},[t]),ie.useEffect(()=>{e&&r()},[]),c.jsx(c.Fragment,{children:c.jsx(o5,{children:c.jsx("section",{className:"container mt-5 mb-5",style:{minHeight:"calc(100vh - 76px)"},children:c.jsxs("section",{className:"row p-3",children:[c.jsx("section",{className:"col-sm-12 col-md-4 bg-secondary-subtle d-flex justify-content-center align-items-center",children:c.jsx("img",{src:"https://th.bing.com/th/id/OIP.oVIyTk_GGnAj3YzNXppdpQAAAA?w=189&h=189&c=7&r=0&o=5&pid=1.7",alt:"",className:"rounded-circle p-md-0 p-3 "})}),c.jsxs("section",{className:" col-sm-12 col-md-8 p-0 bg-white",children:[c.jsx("p",{className:"text-center border-bottom border-secondary-subtle fw-bold p-2",children:"Information"}),c.jsxs("section",{className:"d-flex text-center ",children:[c.jsxs("section",{className:"w-50 p-0",children:[c.jsx("p",{className:" fw-bold mb-0",children:"Nama"}),c.jsx("p",{className:"text-body-secondary",children:t==null?void 0:t.nama})]}),c.jsxs("section",{className:"w-50",children:[c.jsx("p",{className:"fw-bold mb-0",children:"Username"}),c.jsx("p",{className:"text-body-secondary",children:t==null?void 0:t.username})]})]}),c.jsxs("section",{className:"d-flex text-center ",children:[c.jsxs("section",{className:"w-50",children:[c.jsx("p",{className:"fw-bold mb-0",children:"Email"}),c.jsx("p",{className:"text-body-secondary",children:t==null?void 0:t.email})]}),c.jsxs("section",{className:"w-50",children:[c.jsx("p",{className:"fw-bold mb-0",children:"Role"}),c.jsx("p",{className:"text-body-secondary text-capitalize",children:i})]})]}),i.toLowerCase()=="siswa"?c.jsx(c.Fragment,{children:c.jsxs("section",{className:"d-flex text-center border-bottom border-secondary-subtle",children:[c.jsxs("section",{className:"w-50",children:[c.jsx("p",{className:"fw-bold mb-0",children:"Kelas"}),c.jsx("p",{className:"text-body-secondary",children:t==null?void 0:t.kelas})]}),c.jsxs("section",{className:"w-50",children:[c.jsx("p",{className:"fw-bold mb-0",children:"Sekolah"}),c.jsx("p",{className:"text-body-secondary",children:t.sekolah})]})]})}):"",c.jsx("section",{className:"p-3 d-flex justify-content-end",children:c.jsx(ct,{to:"/profile/update",className:"btn btn-orange text-white",children:"Update Profile"})})]})]})})})})},$X=ei().shape({nama:xt().required("Nama harus diisi").min(3,"Nama harus memiliki minimal 3 karakter").max(50,"Nama tidak boleh lebih dari 50 karakter"),email:xt().email("Email tidak valid").required("Email harus diisi"),kelas:xt().matches(/^\d+[A-Z]?$/,"Kelas harus berupa angka, dan bisa diikuti oleh huruf besar (opsional)"),sekolah:xt().min(3,"Nama sekolah harus memiliki minimal 3 karakter").max(100,"Nama sekolah tidak boleh lebih dari 100 karakter")}),qX=()=>{Zr();const n=sn(),e=zn.getCookies("userID"),{user:t}=Yt(l=>l.user),r=Zr(),i=async()=>{const l=await n(ff(e));if(l.error&&l.error.message==="401")return console.log("get new access token"),await n(Tt()),i()};ie.useEffect(()=>{i()},[]);const[s,a]=ie.useState("");ie.useEffect(()=>{a((t==null?void 0:t.role)||"")},[t]);const o=async l=>{const u=await n(Vw(l));return console.log(u.error),u.error&&u.error.message==="401"?(console.log("get new access token"),await n(Tt()),o(l)):(fn.fire({title:"Success",text:"Profile has been updated!",icon:"success"}),r("/profile"))};return c.jsx(o5,{children:c.jsx("section",{className:"d-flex justify-content-center align-items-center login",style:{minHeight:"calc(100vh - 76px)"},children:c.jsxs("section",{className:"login-item",children:[c.jsx("h2",{className:"text-blue mt-4 mt-md-0",children:"Update Profil"}),c.jsx("section",{className:"card mt-2 shadow",children:c.jsx("section",{className:"card-body p-4",children:c.jsx(Qr,{enableReinitialize:!0,initialValues:{id:(t==null?void 0:t.id)||"",nama:(t==null?void 0:t.nama)||"",username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||"",kelas:(t==null?void 0:t.kelas)||"",sekolah:(t==null?void 0:t.sekolah)||""},validationSchema:$X,validateOnChange:!1,validateOnBlur:!1,onSubmit:(l,{setSubmitting:u,errors:d})=>{o(l)},children:c.jsxs($r,{children:[c.jsxs("section",{className:"form-group",children:[c.jsx("label",{className:"form-label fw-bold",children:"Nama"}),c.jsx(ot,{type:"text",name:"nama",className:"form-control",placeholder:"Masukan nama"}),c.jsx(Qt,{name:"nama",render:Zt})]}),c.jsxs("section",{className:"form-group my-4",children:[c.jsx("label",{className:"form-label fw-bold float-start",children:"Username"}),c.jsx("section",{className:"input-group",children:c.jsx(ot,{name:"username",type:"text",className:"form-control",placeholder:"Masukan username",disabled:!0})}),c.jsx(Qt,{name:"username",render:Zt})]}),c.jsxs("section",{className:"form-group my-4",children:[c.jsx("label",{className:"form-label fw-bold float-start",children:"Email"}),c.jsx("section",{className:"input-group",children:c.jsx(ot,{name:"email",type:"text",className:"form-control",placeholder:"Masukan email",disabled:!0})}),c.jsx(Qt,{name:"email",renders:Zt})]}),s.toLowerCase()=="siswa"?c.jsxs(c.Fragment,{children:[c.jsxs("section",{className:"form-group my-4",children:[c.jsx("label",{className:"form-label fw-bold float-start",children:"Kelas"}),c.jsx("section",{className:"input-group",children:c.jsx(ot,{name:"kelas",type:"text",className:"form-control",placeholder:"Masukan kelas"})}),c.jsx(Qt,{name:"kelas",renders:Zt})]}),c.jsxs("section",{className:"form-group my-4",children:[c.jsx("label",{className:"form-label fw-bold float-start",children:"Sekolah"}),c.jsx("section",{className:"input-group",children:c.jsx(ot,{name:"sekolah",type:"text",className:"form-control",placeholder:"Masukan nama sekolah"})}),c.jsx(Qt,{name:"sekolah",renders:Zt})]})]}):"",c.jsx("section",{className:"form-group d-grid gap-2 mt-3",children:c.jsx("button",{type:"submit",className:"btn btn-orange py-2 text-white",children:"Submit"})})]})})})})]})})})},WX=()=>{const n=Zr();return c.jsx(c.Fragment,{children:c.jsx("section",{className:"container my-4 py-4",children:c.jsx("section",{className:"row",children:c.jsxs("section",{className:"col text-center",children:[c.jsx("img",{className:"img-fluid",src:"https://buku.kemdikbud.go.id/assets/image/oops.png",alt:"halaman tidak ditemukan"}),c.jsx("h1",{className:"fw-bold fs-1",children:"404 - Page Not Found"}),c.jsx("p",{className:"lead text-muted mb-5",children:"Sepertinya halaman yang kamu cari tidak ditemukan."}),c.jsxs("button",{className:"btn btn-primary px-4 py-2",onClick:()=>n(-1),children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-left me-2 pb-1",viewBox:"0 0 16 16",children:c.jsx("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"})}),"Kembali"]})]})})})})},VX=()=>{var d,f;const n=Eo(),e=Zr(),r=new URLSearchParams(n.search).get("soal");if(r===null)return c.jsxs(c.Fragment,{children:[c.jsx(vl,{}),c.jsx("main",{className:"container mt-5 mb-5",children:c.jsxs("section",{className:"row",children:[c.jsxs("section",{className:"col-md-8 p-2",children:[c.jsx("h1",{className:"text-white",children:"Aturan"}),c.jsx("p",{className:"text-white mt-4 mb-4",children:"Kuis Sub-modul Pengenalan Dongeng berfungsi untuk menguji pengetahuan Anda tentang materi yang telah dipelajari di sub-modul ini."}),c.jsx("p",{className:"text-white",children:"Terdapat 5 pertanyaan yang harus dikerjakan dalam ujian ini. Beberapa ketentuan dari ujian ini adalah:"}),c.jsxs("ul",{className:"mt-4 mb-4",children:[c.jsx("li",{className:"",children:c.jsx("p",{className:"text-white",children:"- Syarat nilai kelulusan 80"})}),c.jsx("li",{className:"",children:c.jsx("p",{className:"text-white",children:"- Durasi quiz: 20 menit"})})]}),c.jsx("p",{className:"text-white",children:"Apabila tidak memenuhi syarat kelulusan, Manfaatkan waktu tunggu tersebut untuk mempelajari kembali materi sebelumnya, ya."}),c.jsx("p",{className:"text-white",children:"Selamat Mengerjakan!"}),c.jsx("section",{className:"d-flex justify-content-end",children:c.jsx("button",{className:"btn btn-lg btn-orange",onClick:e("/quiz?soal=1"),children:"Mulai"})})]}),c.jsxs("section",{className:"col-md-4 border-start p-2",children:[c.jsx("h1",{className:"text-white",children:"Riwayat"}),c.jsxs("table",{className:"table table-striped",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Tanggal"}),c.jsx("th",{children:"Nilai"})]})}),c.jsx("tbody",{})]})]})]})}),c.jsx(yl,{})]});const[i,s]=ie.useState({});console.log(i);const a=[{id:"A1",soal:"Siapakah yang memimpin Kerajaan Jenggala?",pilihanGanda:["Raja Jayengrana","Raja Jayengnegara","Airlangga","Panji Asmarabangun"],jawaban:"Raja Jayengnegara"},{id:"A2",soal:"Apa nama asli Kleting Kuning? ",pilihanGanda:["Dewi Sekartaji","Nyai Intan","Kleting Abang","Mbok Randa"],jawaban:"Dewi Sekartaji"},{id:"A3",soal:"Berapa jumlah putri Nyai Intan?",pilihanGanda:["2","3","4","5"],jawaban:"3"},{id:"A4",soal:"Di mana Panji Asmarabangun menyamar sebagai Ande Ande Lumut?",pilihanGanda:["Desa Dadapan","Kerajaan Jenggala","Kerajaan Kediri","Desa Kahuripan"],jawaban:"Desa Dadapan"},{id:"A5",soal:"Siapakah yang membantu Kleting Kuning menyeberangi sungai?",pilihanGanda:["Burung Bangau","Yuyu Kangkang","Mbok Randa","Panji Asmarabangun"],jawaban:"Yuyu Kangkang"}],o=({initialTime:h})=>{const[p,y]=ie.useState(h);ie.useEffect(()=>{if(p>0){const _=setInterval(()=>{y(w=>w-1)},1e3);return()=>clearInterval(_)}},[p]);const x=_=>{const w=Math.floor(_/3600),A=Math.floor(_%3600/60),S=_%60;return`${String(w).padStart(2,"0")}:${String(A).padStart(2,"0")}:${String(S).padStart(2,"0")}`};return c.jsxs("section",{children:[c.jsx("section",{children:x(p)}),p===0&&c.jsx("h2",{children:"Time's up!"})]})};ie.useEffect(()=>{const h=JSON.parse(localStorage.getItem("answers"))||{};s(h)},[]);const l=h=>{const{name:p,value:y}=h.target,x={...i,[p]:y};localStorage.setItem("answers",JSON.stringify(x)),s(x)},u=h=>{let p=0;a.forEach(x=>{h[x.id]===x.jawaban&&(p+=1)}),console.log(localStorage.getItem("answers"));let y=a.length;return a.forEach(x=>{i[x.id]===x.jawaban&&p++}),fn.fire({title:"Berhasil Submit",text:`nilai kamu adalah ${p/y*100}`,icon:"success"}),{score:p,totalQuestions:y,percentage:p/y*100}};return c.jsxs(c.Fragment,{children:[c.jsx(vl,{}),c.jsx("section",{className:"container mt-5 mb-5",children:c.jsxs("section",{className:"row",children:[c.jsx("section",{className:"col-3",children:c.jsxs("section",{className:"card",children:[c.jsx("section",{className:"card-header fw-medium",children:"No. Soal"}),c.jsxs("section",{className:"card-body",children:[c.jsx("p",{className:"mb-0",children:"Soal Pilihan Ganda"}),c.jsx("section",{className:"card-body row-soal",children:a.map((h,p)=>c.jsx("section",{className:"card d-flex align-items-center justify-content-center border-2",onClick:()=>{window.location.replace(`/quiz?soal=${p+1}`)},children:c.jsx("p",{className:"my-auto p-2 fw-semibold",children:p+1})},h.id))}),c.jsxs("section",{children:[c.jsx("p",{className:"mb-0",children:"Soal Uraian Singkat"}),c.jsx("section",{className:"card-body row-soal",children:a.map((h,p)=>c.jsx("section",{className:"card d-flex align-items-center justify-content-center border-2",onClick:()=>{window.location.replace(`/quiz?soal=${p+1}`)},children:c.jsx("p",{className:"my-auto p-2 fw-semibold",children:p+1})},h.id))})]}),c.jsxs("section",{children:[c.jsx("p",{className:"mb-0",children:"Soal Uraian Panjang"}),c.jsx("section",{className:"card-body row-soal",children:a.map((h,p)=>c.jsx("section",{className:"card d-flex align-items-center justify-content-center border-2",onClick:()=>{window.location.replace(`/quiz?soal=${p+1}`)},children:c.jsx("p",{className:"my-auto p-2 fw-semibold",children:p+1})},h.id))})]})]})]})}),c.jsx("section",{className:"col-9",children:c.jsxs("section",{className:"card",children:[c.jsxs("section",{className:"card-header fw-medium d-flex justify-content-between",children:[(d=a[r-1])==null?void 0:d.soal,c.jsx("section",{children:c.jsx(o,{initialTime:7200})})]}),c.jsxs("section",{className:"card-body",children:[(f=a[r-1])==null?void 0:f.pilihanGanda.map((h,p)=>{var y,x;return c.jsxs("section",{className:"form-check mb-3",children:[c.jsx("input",{className:"form-check-input p-2",type:"radio",name:(y=a[r-1])==null?void 0:y.id,id:`jawaban${p}`,value:h,checked:i[(x=a[r-1])==null?void 0:x.id]===h,onChange:l}),c.jsx("label",{className:"form-check-label ms-1",htmlFor:`jawaban${p}`,children:h})]},p)}),c.jsxs("section",{className:"pt-3",children:[r==a.length?c.jsxs("button",{className:"float-right btn border-1 border-success-subtle bg-success-subtle",onClick:()=>xD("KONFIRMASI","Apakah kamu yakin untuk submit jawaban?").then(h=>{h.isConfirmed&&u(localStorage.getItem("answers"))}),children:["Submit",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:" ms-1 mb-1 bi bi-check-all",viewBox:"0 0 16 16",children:c.jsx("path",{d:"M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486z"})})]}):c.jsxs("button",{className:"float-right btn border-1 border-dark-subtle",onClick:()=>{const h=parseInt(r)+1;window.location.replace(`/quiz?soal=${h}`)},children:["Selanjutnya",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-right-short ms-2",viewBox:"0 0 16 16",children:c.jsx("path",{fillRule:"evenodd",d:"M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8"})})]}),r==1?"":c.jsxs("button",{className:"float-left btn border-1 border-dark-subtle",onClick:()=>{const h=parseInt(r)-1;window.location.replace(`/quiz?soal=${h}`)},children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-left-short me-2",viewBox:"0 0 16 16",children:c.jsx("path",{fillRule:"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5"})}),"Sebelumnya"]})]})]})]})})]})}),c.jsx(yl,{})]})},gr={addUser:HW,dongeng:RW,updateDongeng:MW,updateUser:VW,user:KW,login:JW,logout:QW,register:ZW,detail:uV,dongengView:JY,home:FX,katalog:OX,petunjuk:DX,err404:WX,quiz:VX,forgotPassword:rV,profile:HX,updateProfile:qX,verify:sV,petunjukSiswa:BX,petunjukUmum:UX,petunjukGuru:zX},GX=()=>{const n=sn();async function e(){try{const t=await jt.get("/test",{refreshToken:zn.getCookie("refreshToken")});console.log(t)}catch(t){throw n(Tt())&&(console.log("Get new token success"),e()),t instanceof Dt?t.response?t.response.status:t.message:t}}return ie.useEffect(()=>{e()},[]),c.jsx("div",{children:"test"})},KX=()=>c.jsx(ua,{children:c.jsx("section",{className:"",children:c.jsxs("div",{className:" w-100 d-flex flex-wrap justify-content-between row-cols-2 fs-2 row-gap-4",children:[c.jsx("div",{className:"card col",style:{width:"49%"},children:c.jsx(ct,{to:"./pilihan-ganda",className:"card-body text-decoration-none p-4",children:"Pilihan Ganda"})}),c.jsx("div",{className:"card col",style:{width:"49%"},children:c.jsx(ct,{to:"./uraian-singkat",className:"card-body text-decoration-none p-4",children:"Uraian Singkat"})}),c.jsx("div",{className:"card col",style:{width:"49%"},children:c.jsx(ct,{to:"./uraian-panjang",className:"card-body text-decoration-none p-4",children:"Menulis Dongeng"})})]})})}),YX=async()=>{const{data:n}=await jt.get("/count/dongeng");return n.row},XX=()=>{ie.useState(0);const[n,e]=ie.useState(0);return ie.useState(0),ie.useEffect(()=>{(async()=>{e(await YX())})()}),c.jsxs(ua,{children:["Dashboard",c.jsx(c.Fragment,{children:"jumlah peserta"}),c.jsxs(c.Fragment,{children:["jumlah dongeng:",n]}),c.jsx(c.Fragment,{children:"jumlah soal"})]})},ag=Ut("soalUraianSingkat/getSoalUraianSingkat",async()=>{try{const n=await jt.get("/get-soal-uraian-singkat");if(n)return n.data;throw new Error}catch(n){throw n instanceof Dt?n.response?n.response.status:n.message:n}}),D2=Ut("soalUraianSingkat/deleteSoalUraianSingkat",async n=>{try{if(await jt.delete(`/delete-soal-uraian-singkat/${n}`))return n}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),B2=Ut("soalUraianSingkat/addSoalUraianSingkat",async n=>{try{const e=await jt.post("/set-soal-uraian-singkat",n);if(e)return e.data}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),z2=Ut("soalUraianSingkat/editSoalUraianSingkat",async n=>{try{const e=await jt.patch(`/update-soal-uraian-singkat/${n.id}`,n);if(e)return e.data}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),JX=Ic({name:"soalUraianSingkat",initialState:{soalUraianSingkat:[],isLoading:!1,error:null},reducers:{},extraReducers:n=>{n.addCase(ag.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null,e.soalUraianSingkat=t.payload}).addCase(ag.pending,e=>{e.isLoading=!0}).addCase(ag.rejected,(e,t)=>{e.error!=="401"&&(e.isLoading=!1),e.error=t.error}).addCase(D2.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null,e.soalUraianSingkat=e.soalUraianSingkat.filter(r=>r.id!==t.payload)}).addCase(D2.pending,e=>{e.isLoading=!0}).addCase(D2.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message}).addCase(B2.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null}).addCase(B2.pending,e=>{e.isLoading=!0}).addCase(B2.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message}).addCase(z2.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null}).addCase(z2.pending,e=>{e.isLoading=!0}).addCase(z2.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message})}}),QX=JX.reducer,ZX=ei().shape({soal:xt().required("Soal is required"),idDongeng:xt().required("Dongeng is required"),jawaban:xt().required("Jawaban is required")}),eJ=()=>{const n=sn(),{dongeng:e}=Yt(r=>r.dongeng);async function t(r){var i=await n(B2(r));if(!i.payload)return console.log("getting new access token"),await n(Tt()),t(r);document.getElementById("showModalUraianSingkat").click(),await n(ag())}return c.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Menambahkan Soal Uraian Singkat"})}),c.jsx("div",{className:"modal-body",style:{width:"800px"},children:c.jsx(Qr,{enableReinitialize:!0,initialValues:{soal:"",idDongeng:"",jawaban:""},validationSchema:ZX,onSubmit:r=>{t(r)},children:({errors:r,touched:i,values:s})=>c.jsxs($r,{className:"row",children:[c.jsxs("div",{className:"col",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"soal",className:"form-label",children:"Soal"}),c.jsx(ot,{as:"textarea",name:"soal",className:"form-control",id:"soal",placeholder:"Masukan soal",rows:"4"}),r.soal&&i.soal?c.jsx("div",{className:"text-danger ",children:r.soal}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"idDongeng",className:"form-label",children:"Judul Dongeng"}),c.jsxs(ot,{as:"select",name:"idDongeng",className:"form-select",children:[c.jsx("option",{value:"",children:"Pilih Dongeng"}),e.map(a=>c.jsx("option",{value:a.id,children:a.title},a.id))]}),r.idDongeng&&i.idDongeng?c.jsx("div",{className:"text-danger",children:r.idDongeng}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"jawaban",className:"form-label",children:"Jawaban"}),c.jsx(ot,{as:"textarea",name:"jawaban",className:"form-control",id:"jawaban",placeholder:"Masukan jawaban",rows:"4"}),r.jawaban&&i.jawaban?c.jsx("div",{className:"text-danger ",children:r.jawaban}):null]})]}),c.jsx("button",{type:"submit",id:"btnSubmitAddSoalUraianSingkat",className:"d-none"})]})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{document.getElementById("btnSubmitAddSoalUraianSingkat").click()},children:"Submit"})]})]})})},tJ=ei().shape({soal:xt().required("Soal is required"),idDongeng:xt().required("Dongeng is required"),jawaban:xt().required("Jawaban is required")}),nJ=({id:n})=>{const e=sn(),{dongeng:t}=Yt(o=>o.dongeng),{soalUraianSingkat:r}=Yt(o=>o.soalUraianSingkat),[i,s]=ie.useState({});ie.useEffect(()=>{s(r.find(o=>o.id===n))},[n]),ie.useEffect(()=>{async function o(){var l=await e(ia());if(!l.payload)return console.log("getting new access token"),await e(Tt),o()}o()},[]);async function a(o){var l=await e(z2(o));if(!l.payload)return console.log("getting new access token"),await e(Tt()),a(o);document.getElementById("showModalUraianSingkat").click(),await e(ag())}return c.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Mengedit Soal Uraian Singkat"})}),c.jsx("div",{className:"modal-body",style:{width:"800px"},children:c.jsx(Qr,{enableReinitialize:!0,initialValues:{id:(i==null?void 0:i.id)||"",soal:(i==null?void 0:i.soal)||"",idDongeng:(i==null?void 0:i.idDongeng)||"",jawaban:(i==null?void 0:i.jawaban)||""},validationSchema:tJ,onSubmit:o=>{a(o)},children:({errors:o,touched:l,values:u})=>c.jsxs($r,{className:"row",children:[c.jsxs("div",{className:"col",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"soal",className:"form-label",children:"Soal"}),c.jsx(ot,{as:"textarea",name:"soal",className:"form-control",id:"soal",placeholder:"Masukan soal",rows:"4"}),o.soal&&l.soal?c.jsx("div",{className:"text-danger ",children:o.soal}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"idDongeng",className:"form-label",children:"Judul Dongeng"}),c.jsxs(ot,{as:"select",name:"idDongeng",className:"form-select",children:[c.jsx("option",{value:"",children:"Pilih Dongeng"}),t.map(d=>c.jsx("option",{value:d.id,children:d.title},d.id))]}),o.idDongeng&&l.idDongeng?c.jsx("div",{className:"text-danger",children:o.idDongeng}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"jawaban",className:"form-label",children:"Jawaban"}),c.jsx(ot,{as:"textarea",name:"jawaban",className:"form-control",id:"jawaban",placeholder:"Masukan jawaban",rows:"4"}),o.jawaban&&l.jawaban?c.jsx("div",{className:"text-danger ",children:o.jawaban}):null]})]}),c.jsx("button",{type:"submit",id:"btnSubmitEditSoalUraianSingkat",className:"d-none"})]})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{document.getElementById("btnSubmitEditSoalUraianSingkat").click()},children:"Submit"})]})]})})};function y4({childern:n}){return c.jsxs("div",{children:[c.jsx("button",{type:"button",className:"btn btn-primary d-none","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop_2",id:"showModalUraianSingkat",children:"Launch static backdrop modal"}),c.jsx("div",{className:"modal fade",id:"staticBackdrop_2","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:n})]})}const rJ=({action:n,id:e})=>{switch(n){case"add":return c.jsx(y4,{childern:c.jsx(eJ,{})});default:return c.jsx(y4,{childern:c.jsx(nJ,{id:e})})}},iJ=()=>{const n=["No","Soal","Judul Dongeng","Jawaban",""],[e,t]=ie.useState(),[r,i]=ie.useState(),[s,a]=ie.useState(""),{soalUraianSingkat:o,isLoading:l}=Yt(h=>h.soalUraianSingkat),u=sn(),d=o.filter(h=>s?h.soal.toLowerCase().includes(s.toLowerCase())||h.dongeng.title.toLowerCase().includes(s.toLowerCase())||h.jawaban.toLowerCase().includes(s.toLowerCase()):h);ie.useEffect(()=>{async function h(){var p=await u(ag());if(p.error&&p.error.message!=="401")return console.log("getting new access token"),await u(Tt()),h()}h()},[]);function f(h){fn.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(p=>{if(p.isConfirmed){const y=async()=>{var x=await u(D2(h));if(!x.payload)return console.log("getting new access token"),await u(Tt()),y();fn.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success"})};y()}})}return c.jsxs(ua,{children:[l?c.jsx("section",{className:"d-flex justify-content-center align-items-center h-100",children:c.jsx(Fc,{})}):c.jsxs("div",{className:"",children:[c.jsx("div",{className:"d-flex justify-content-between align-items-center p-0",children:c.jsxs(ct,{to:"/admin/bank-soal",className:"d-flex align-items-center  gap-2 text-decoration-none fs-5 text-black ",children:[c.jsx(Td,{size:24})," Bank Soal List"]})}),c.jsx("hr",{className:"my-3"}),c.jsxs("div",{className:"row mb-3",children:[c.jsxs("div",{className:"input-group col",children:[c.jsx("input",{type:"text",className:"form-control",placeholder:"Search....","aria-label":"Search","aria-describedby":"button-addon2",value:s,onChange:h=>a(h.target.value)}),c.jsx("button",{className:"btn btn-outline-secondary",type:"button",id:"Search",onClick:()=>a(""),children:"Clear"})]}),c.jsx("div",{className:"col d-flex justify-content-end",children:c.jsxs("button",{type:"button",className:"btn btn-secondary d-flex align-items-center gap-1 lh-sm bg-white text-black fs-5",onClick:()=>{t("add"),document.getElementById("showModalUraianSingkat").click()},children:[c.jsx(Ld,{size:24}),"Add"]})})]}),c.jsx("section",{className:"card-body p-0",children:c.jsx("section",{className:"table-responsive",children:c.jsxs("table",{className:"table table-striped m-0 ",children:[c.jsx("thead",{children:c.jsx("tr",{children:n.map((h,p)=>p==n.length-1?c.jsx("th",{style:{width:"120px"},children:h},p):c.jsx("th",{children:h},p))})}),c.jsx("tbody",{children:d.map((h,p)=>{var y;return c.jsxs("tr",{className:"align-middle",children:[c.jsx("td",{children:p+1}),c.jsx("td",{children:h==null?void 0:h.soal}),c.jsx("td",{children:((y=h.dongeng)==null?void 0:y.title)||""}),c.jsx("td",{children:h==null?void 0:h.jawaban}),c.jsxs("td",{className:"d-flex gap-2 justify-content-end",style:{maxWidth:"120px"},children:[c.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{i(h.id),t("edit"),document.getElementById("showModalUraianSingkat").click()},children:c.jsx(Vx,{size:18})}),c.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>f(h.id),children:c.jsx(Ny,{size:18})})]})]},p)})})]})})})]}),c.jsx(rJ,{action:e,id:r})]})},og=Ut("soalUraianPanjang/getSoalUraianPanjang",async()=>{try{const n=await jt.get("/get-soal-uraian-panjang");if(n)return n.data}catch(n){throw n instanceof Dt?n.response?n.response.status:n.message:n}}),U2=Ut("soalUraianPanjang/deleteSoalUraianPanjang",async n=>{try{if(await jt.delete(`/delete-soal-uraian-panjang/${n}`))return n}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),H2=Ut("soalUraianPanjang/addSoalUraianPanjang",async n=>{try{const e=await jt.post("/set-soal-uraian-panjang",n);if(e)return e.data}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),$2=Ut("soalUraianPanjang/editSoalUraianPanjang",async n=>{try{const e=await jt.patch(`/update-soal-uraian-panjang/${n.id}`,n);if(e)return e.data}catch(e){throw e instanceof Dt?e.response?e.response.status:e.message:e}}),sJ=Ic({name:"soalUraianPanjang",initialState:{soalUraianPanjang:[],isLoading:!1,error:null},reducers:{},extraReducers:n=>{n.addCase(og.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null,e.soalUraianPanjang=t.payload}).addCase(og.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(og.pending,e=>{e.isLoading=!0}).addCase(U2.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null,e.soalUraianPanjang=e.soalUraianPanjang.filter(r=>r.id!==t.payload)}).addCase(U2.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(U2.pending,e=>{e.isLoading=!0}).addCase(H2.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null}).addCase(H2.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase(H2.pending,e=>{e.isLoading=!0}).addCase($2.fulfilled,(e,t)=>{e.isLoading=!1,e.error=null}).addCase($2.rejected,(e,t)=>{t.error.message!=="401"&&(e.isLoading=!1),e.error=t.error.message}).addCase($2.pending,e=>{e.isLoading=!0})}}),aJ=sJ.reducer,oJ=ei().shape({idDongeng:xt().required("Dongeng is required"),jawaban:xt()}),lJ=()=>{const n=sn(),{dongeng:e}=Yt(i=>i.dongeng)||[],{soalUraianPanjang:t}=Yt(i=>i.soalUraianPanjang);async function r(o){const s=e.find(u=>u.id===parseInt(o.idDongeng));var a=t.find(u=>u.idDongeng===parseInt(o.idDongeng));if(a)return document.getElementById("showModalUraianPanjang").click(),fn.fire({title:"Failed",text:"Quiz telah ada !!",icon:"error"}),null;var o={soal:`Tulis kembali dongeng ${s.title} dengan bahasamu sendiri !!`,idDongeng:o.idDongeng,jawaban:""},l=await n(H2(o));if(!l.payload)return console.log("getting new access token"),await n(Tt()),r(o);fn.fire({title:"Created!",text:"Quiz berhasil dibuat !!",icon:"success"}),document.getElementById("showModalUraianPanjang").click(),await n(og())}return c.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Menambahkan Soal Uraian Panjang"})}),c.jsx("div",{className:"modal-body",style:{width:"800px"},children:c.jsx(Qr,{enableReinitialize:!0,initialValues:{soal:"",idDongeng:"",jawaban:""},validationSchema:oJ,onSubmit:i=>{r(i)},children:({errors:i,touched:s,values:a})=>c.jsxs($r,{className:"row",children:[c.jsx("div",{className:"col",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"idDongeng",className:"form-label",children:"Judul Dongeng"}),c.jsxs(ot,{as:"select",name:"idDongeng",className:"form-select",children:[c.jsx("option",{value:"",children:"Pilih Dongeng"}),e?e.map(o=>c.jsx("option",{value:o.id,children:o.title},o.id)):null]}),i.idDongeng&&s.idDongeng?c.jsx("div",{className:"text-danger",children:i.idDongeng}):null]})}),c.jsx("button",{type:"submit",id:"btnSubmitAddSoalUraianPanjang",className:"d-none"})]})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{document.getElementById("btnSubmitAddSoalUraianPanjang").click()},children:"Submit"})]})]})})},cJ=ei().shape({soal:xt().required("Soal is required"),idDongeng:xt().required("Dongeng is required"),jawaban:xt().required("Jawaban is required")}),uJ=({id:n})=>{const e=sn(),{dongeng:t}=Yt(o=>o.dongeng),{soalUraianPanjang:r}=Yt(o=>o.soalUraianPanjang),[i,s]=ie.useState({});ie.useEffect(()=>{s(r.find(o=>o.id===n))},[n]),ie.useEffect(()=>{async function o(){var l=await e(ia());if(!l.payload)return console.log("getting new access token"),await e(Tt()),o()}o()},[]);async function a(o){var l=await e($2(o));if(!l.payload)return console.log("getting new access token"),await e(Tt()),a(o);document.getElementById("showModalUraianPanjang").click(),await e(og())}return c.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("div",{className:"modal-header",children:c.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Mengedit Soal Uraian Panjang"})}),c.jsx("div",{className:"modal-body",style:{width:"800px"},children:c.jsx(Qr,{enableReinitialize:!0,initialValues:{id:(i==null?void 0:i.id)||"",soal:(i==null?void 0:i.soal)||"",idDongeng:(i==null?void 0:i.idDongeng)||"",jawaban:(i==null?void 0:i.jawaban)||""},validationSchema:cJ,onSubmit:o=>{a(o)},children:({errors:o,touched:l,values:u})=>c.jsxs($r,{className:"row",children:[c.jsxs("div",{className:"col",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"soal",className:"form-label",children:"Soal"}),c.jsx(ot,{as:"textarea",name:"soal",className:"form-control",id:"soal",placeholder:"Masukan soal",rows:"4"}),o.soal&&l.soal?c.jsx("div",{className:"text-danger ",children:o.soal}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"idDongeng",className:"form-label",children:"Judul Dongeng"}),c.jsxs(ot,{as:"select",name:"idDongeng",className:"form-select",children:[c.jsx("option",{value:"",children:"Pilih Dongeng"}),t.map(d=>c.jsx("option",{value:d.id,children:d.title},d.id))]}),o.idDongeng&&l.idDongeng?c.jsx("div",{className:"text-danger",children:o.idDongeng}):null]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{htmlFor:"jawaban",className:"form-label",children:"Jawaban"}),c.jsx(ot,{as:"textarea",name:"jawaban",className:"form-control",id:"jawaban",placeholder:"Masukan jawaban",rows:"4"}),o.jawaban&&l.jawaban?c.jsx("div",{className:"text-danger ",children:o.jawaban}):null]})]}),c.jsx("button",{type:"submit",id:"btnSubmitEditSoalUraianPanjang",className:"d-none"})]})})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{document.getElementById("btnSubmitEditSoalUraianPanjang").click()},children:"Submit"})]})]})})};function w4({childern:n}){return c.jsxs("div",{children:[c.jsx("button",{type:"button",className:"btn btn-primary d-none","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",id:"showModalUraianPanjang",children:"Launch static backdrop modal"}),c.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:n})]})}const dJ=({action:n,id:e})=>{switch(n){case"add":return c.jsx(w4,{childern:c.jsx(lJ,{})});case"edit":return c.jsx(w4,{childern:c.jsx(uJ,{id:e})})}},hJ=()=>{const n=["No","Soal","Judul Dongeng",""],{soalUraianPanjang:e,isLoading:t}=Yt(h=>h.soalUraianPanjang),[r,i]=ie.useState("add"),[s,a]=ie.useState(null),[o,l]=ie.useState(""),u=sn();ie.useEffect(()=>{async function h(){var p=await u(og());if(!p.payload)return console.log("getting new access token"),await u(Tt()),h()}h()},[]);async function d(h){fn.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(p=>{if(p.isConfirmed){const y=async()=>{var x=await u(U2(h));if(!x.payload)return console.log("getting new access token"),await u(Tt()),y();fn.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success"})};y()}})}const f=e.filter(h=>o?h.soal.toLowerCase().includes(o.toLowerCase())||h.dongeng.title.toLowerCase().includes(o.toLowerCase())||h.jawaban.toLowerCase().includes(o.toLowerCase()):h);return c.jsxs(ua,{children:[t?c.jsx("section",{className:"d-flex justify-content-center align-items-center h-100",children:c.jsx(Fc,{})}):c.jsxs("div",{className:"",children:[c.jsx("div",{className:"d-flex justify-content-between align-items-center p-0",children:c.jsxs(ct,{to:"/admin/bank-soal",className:"d-flex align-items-center  gap-2 text-decoration-none fs-5 text-black ",children:[c.jsx(Td,{size:24})," Bank Soal List"]})}),c.jsx("hr",{className:"my-3"}),c.jsxs("div",{className:"row mb-3",children:[c.jsxs("div",{className:"input-group col",children:[c.jsx("input",{type:"text",className:"form-control",placeholder:"Search....","aria-label":"Search","aria-describedby":"button-addon2",value:o,onChange:h=>{l(h.target.value)}}),c.jsx("button",{className:"btn btn-outline-secondary",type:"button",id:"Search",onClick:()=>{l("")},children:"Clear"})]}),c.jsx("div",{className:"col d-flex justify-content-end",children:c.jsxs("button",{type:"button",className:"btn btn-secondary d-flex align-items-center gap-1 lh-sm bg-white text-black fs-5",onClick:()=>{document.getElementById("showModalUraianPanjang").click(),i("add")},children:[c.jsx(Ld,{size:24}),"Add"]})})]}),c.jsx("section",{className:"card-body p-0",children:c.jsx("section",{className:"table-responsive",children:c.jsxs("table",{className:"table table-striped m-0 ",children:[c.jsx("thead",{children:c.jsx("tr",{children:n.map((h,p)=>p==n.length-1?c.jsx("th",{style:{width:"120px"},children:h},p):c.jsx("th",{children:h},p))})}),c.jsx("tbody",{children:f.map((h,p)=>{var y;return c.jsxs("tr",{className:"align-middle",children:[c.jsx("td",{children:p+1}),c.jsx("td",{children:h==null?void 0:h.soal}),c.jsx("td",{children:((y=h==null?void 0:h.dongeng)==null?void 0:y.title)||""}),c.jsx("td",{className:"d-flex gap-2 justify-content-end",style:{maxWidth:"120px"},children:c.jsx("button",{type:"button",className:"btn btn-danger",onClick:()=>d(h.id),children:c.jsx(Ny,{size:18})})})]},p)})})]})})})]}),c.jsx(dJ,{action:r,id:s})]})};function bn(n){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(n)}var As=Uint8Array,Yi=Uint16Array,F1=Uint32Array,l5=new As([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c5=new As([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_k=new As([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cF=function(n,e){for(var t=new Yi(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new F1(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},uF=cF(l5,2),dF=uF[0],kk=uF[1];dF[28]=258,kk[258]=28;var hF=cF(c5,0),fJ=hF[0],b4=hF[1],Ck=new Yi(32768);for(var Vn=0;Vn<32768;++Vn){var yu=(Vn&43690)>>>1|(Vn&21845)<<1;yu=(yu&52428)>>>2|(yu&13107)<<2,yu=(yu&61680)>>>4|(yu&3855)<<4,Ck[Vn]=((yu&65280)>>>8|(yu&255)<<8)>>>1}var pl=function(n,e,t){for(var r=n.length,i=0,s=new Yi(e);i<r;++i)++s[n[i]-1];var a=new Yi(e);for(i=0;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new Yi(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var u=i<<4|n[i],d=e-n[i],f=a[n[i]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)o[Ck[f]>>>l]=u}else for(o=new Yi(r),i=0;i<r;++i)o[i]=Ck[a[n[i]-1]++]>>>15-n[i];return o},xd=new As(288);for(var Vn=0;Vn<144;++Vn)xd[Vn]=8;for(var Vn=144;Vn<256;++Vn)xd[Vn]=9;for(var Vn=256;Vn<280;++Vn)xd[Vn]=7;for(var Vn=280;Vn<288;++Vn)xd[Vn]=8;var M1=new As(32);for(var Vn=0;Vn<32;++Vn)M1[Vn]=5;var pJ=pl(xd,9,0),gJ=pl(xd,9,1),mJ=pl(M1,5,0),vJ=pl(M1,5,1),jS=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Za=function(n,e,t){var r=e/8>>0;return(n[r]|n[r+1]<<8)>>>(e&7)&t},PS=function(n,e){var t=e/8>>0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>>(e&7)},_E=function(n){return(n/8>>0)+(n&7&&1)},fF=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof Yi?Yi:n instanceof F1?F1:As)(t-e);return r.set(n.subarray(e,t)),r},yJ=function(n,e,t){var r=n.length,i=!e||t,s=!t||t.i;t||(t={}),e||(e=new As(r*3));var a=function(le){var ge=e.length;if(le>ge){var we=new As(Math.max(ge*2,le));we.set(e),e=we}},o=t.f||0,l=t.p||0,u=t.b||0,d=t.l,f=t.d,h=t.m,p=t.n,y=r*8;do{if(!d){t.f=o=Za(n,l,1);var x=Za(n,l+1,3);if(l+=3,x)if(x==1)d=gJ,f=vJ,h=9,p=5;else if(x==2){var S=Za(n,l,31)+257,v=Za(n,l+10,15)+4,C=S+Za(n,l+5,31)+1;l+=14;for(var j=new As(C),T=new As(19),P=0;P<v;++P)T[_k[P]]=Za(n,l+P*3,7);l+=v*3;var z=jS(T),q=(1<<z)-1;if(!s&&l+C*(z+7)>y)break;for(var R=pl(T,z,1),P=0;P<C;){var F=R[Za(n,l,q)];l+=F&15;var _=F>>>4;if(_<16)j[P++]=_;else{var $=0,W=0;for(_==16?(W=3+Za(n,l,3),l+=2,$=j[P-1]):_==17?(W=3+Za(n,l,7),l+=3):_==18&&(W=11+Za(n,l,127),l+=7);W--;)j[P++]=$}}var he=j.subarray(0,S),ne=j.subarray(S);h=jS(he),p=jS(ne),d=pl(he,h,1),f=pl(ne,p,1)}else throw"invalid block type";else{var _=_E(l)+4,w=n[_-4]|n[_-3]<<8,A=_+w;if(A>r){if(s)throw"unexpected EOF";break}i&&a(u+w),e.set(n.subarray(_,A),u),t.b=u+=w,t.p=l=A*8;continue}if(l>y)throw"unexpected EOF"}i&&a(u+131072);for(var X=(1<<h)-1,K=(1<<p)-1,ee=h+p+18;s||l+ee<y;){var $=d[PS(n,l)&X],de=$>>>4;if(l+=$&15,l>y)throw"unexpected EOF";if(!$)throw"invalid length/literal";if(de<256)e[u++]=de;else if(de==256){d=null;break}else{var xe=de-254;if(de>264){var P=de-257,M=l5[P];xe=Za(n,l,(1<<M)-1)+dF[P],l+=M}var J=f[PS(n,l)&K],B=J>>>4;if(!J)throw"invalid distance";l+=J&15;var ne=fJ[B];if(B>3){var M=c5[B];ne+=PS(n,l)&(1<<M)-1,l+=M}if(l>y)throw"unexpected EOF";i&&a(u+131072);for(var ae=u+xe;u<ae;u+=4)e[u]=e[u-ne],e[u+1]=e[u+1-ne],e[u+2]=e[u+2-ne],e[u+3]=e[u+3-ne];u=ae}}t.l=d,t.p=l,t.b=u,d&&(o=1,t.m=h,t.d=f,t.n=p)}while(!o);return u==e.length?e:fF(e,0,u)},Dl=function(n,e,t){t<<=e&7;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8},h0=function(n,e,t){t<<=e&7;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8,n[r+2]|=t>>>16},LS=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return[new As(0),0];if(i==1){var a=new As(t[0].s+1);return a[t[0].s]=1,[a,1]}t.sort(function(C,j){return C.f-j.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],u=0,d=1,f=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=t[t[u].f<t[f].f?u++:f++],l=t[u!=d&&t[u].f<t[f].f?u++:f++],t[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=s[0].s,r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new Yi(h+1),y=Ek(t[d-1],p,0);if(y>e){var r=0,x=0,_=y-e,w=1<<_;for(s.sort(function(j,T){return p[T.s]-p[j.s]||j.f-T.f});r<i;++r){var A=s[r].s;if(p[A]>e)x+=w-(1<<y-p[A]),p[A]=e;else break}for(x>>>=_;x>0;){var S=s[r].s;p[S]<e?x-=1<<e-p[S]++-1:++r}for(;r>=0&&x;--r){var v=s[r].s;p[v]==e&&(--p[v],++x)}y=e}return[new As(p),y]},Ek=function(n,e,t){return n.s==-1?Math.max(Ek(n.l,e,t+1),Ek(n.r,e,t+1)):e[n.s]=t},x4=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Yi(++e),r=0,i=n[0],s=1,a=function(l){t[r++]=l},o=1;o<=e;++o)if(n[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=n[o]}return[t.subarray(0,r),e]},f0=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Nk=function(n,e,t){var r=t.length,i=_E(e+2);n[i]=r&255,n[i+1]=r>>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},S4=function(n,e,t,r,i,s,a,o,l,u,d){Dl(e,d++,t),++i[256];for(var f=LS(i,15),h=f[0],p=f[1],y=LS(s,15),x=y[0],_=y[1],w=x4(h),A=w[0],S=w[1],v=x4(x),C=v[0],j=v[1],T=new Yi(19),P=0;P<A.length;++P)T[A[P]&31]++;for(var P=0;P<C.length;++P)T[C[P]&31]++;for(var z=LS(T,7),q=z[0],R=z[1],F=19;F>4&&!q[_k[F-1]];--F);var $=u+5<<3,W=f0(i,xd)+f0(s,M1)+a,he=f0(i,h)+f0(s,x)+a+14+3*F+f0(T,q)+(2*T[16]+3*T[17]+7*T[18]);if($<=W&&$<=he)return Nk(e,d,n.subarray(l,l+u));var ne,X,K,ee;if(Dl(e,d,1+(he<W)),d+=2,he<W){ne=pl(h,p,0),X=h,K=pl(x,_,0),ee=x;var de=pl(q,R,0);Dl(e,d,S-257),Dl(e,d+5,j-1),Dl(e,d+10,F-4),d+=14;for(var P=0;P<F;++P)Dl(e,d+3*P,q[_k[P]]);d+=3*F;for(var xe=[A,C],M=0;M<2;++M)for(var J=xe[M],P=0;P<J.length;++P){var B=J[P]&31;Dl(e,d,de[B]),d+=q[B],B>15&&(Dl(e,d,J[P]>>>5&127),d+=J[P]>>>12)}}else ne=pJ,X=xd,K=mJ,ee=M1;for(var P=0;P<o;++P)if(r[P]>255){var B=r[P]>>>18&31;h0(e,d,ne[B+257]),d+=X[B+257],B>7&&(Dl(e,d,r[P]>>>23&31),d+=l5[B]);var ae=r[P]&31;h0(e,d,K[ae]),d+=ee[ae],ae>3&&(h0(e,d,r[P]>>>5&8191),d+=c5[ae])}else h0(e,d,ne[r[P]]),d+=X[r[P]];return h0(e,d,ne[256]),d+X[256]},wJ=new F1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bJ=function(n,e,t,r,i,s){var a=n.length,o=new As(r+a+5*(1+Math.floor(a/7e3))+i),l=o.subarray(r,o.length-i),u=0;if(!e||a<8)for(var d=0;d<=a;d+=65535){var f=d+65535;f<a?u=Nk(l,u,n.subarray(d,f)):(l[d]=s,u=Nk(l,u,n.subarray(d,a)))}else{for(var h=wJ[e-1],p=h>>>13,y=h&8191,x=(1<<t)-1,_=new Yi(32768),w=new Yi(x+1),A=Math.ceil(t/3),S=2*A,v=function(Ze){return(n[Ze]^n[Ze+1]<<A^n[Ze+2]<<S)&x},C=new F1(25e3),j=new Yi(288),T=new Yi(32),P=0,z=0,d=0,q=0,R=0,F=0;d<a;++d){var $=v(d),W=d&32767,he=w[$];if(_[W]=he,w[$]=W,R<=d){var ne=a-d;if((P>7e3||q>24576)&&ne>423){u=S4(n,l,0,C,j,T,z,q,F,d-F,u),q=P=z=0,F=d;for(var X=0;X<286;++X)j[X]=0;for(var X=0;X<30;++X)T[X]=0}var K=2,ee=0,de=y,xe=W-he&32767;if(ne>2&&$==v(d-xe))for(var M=Math.min(p,ne)-1,J=Math.min(32767,d),B=Math.min(258,ne);xe<=J&&--de&&W!=he;){if(n[d+K]==n[d+K-xe]){for(var ae=0;ae<B&&n[d+ae]==n[d+ae-xe];++ae);if(ae>K){if(K=ae,ee=xe,ae>M)break;for(var le=Math.min(xe,ae-2),ge=0,X=0;X<le;++X){var we=d-xe+X+32768&32767,Se=_[we],Le=we-Se+32768&32767;Le>ge&&(ge=Le,he=we)}}}W=he,he=_[W],xe+=W-he+32768&32767}if(ee){C[q++]=268435456|kk[K]<<18|b4[ee];var De=kk[K]&31,Ve=b4[ee]&31;z+=l5[De]+c5[Ve],++j[257+De],++T[Ve],R=d+K,++P}else C[q++]=n[d],++j[n[d]]}}u=S4(n,l,s,C,j,T,z,q,F,d-F,u)}return fF(o,0,r+_E(u)+i)},xJ=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length,a=0;a!=s;){for(var o=Math.min(a+5552,s);a<o;++a)r+=t[a],i+=r;r%=65521,i%=65521}n=r,e=i},d:function(){return(n>>>8<<16|(e&255)<<8|e>>>8)+((n&255)<<23)*2}}},SJ=function(n,e,t,r,i){return bJ(n,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):12+e.mem,t,r,!i)},AJ=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},_J=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;n[0]=120,n[1]=r<<6|(r?32-2*r:1)},kJ=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function jk(n,e){e===void 0&&(e={});var t=xJ();t.p(n);var r=SJ(n,e,2,4);return _J(r,e),AJ(r,r.length-4,t.d()),r}function CJ(n,e){return yJ((kJ(n),n.subarray(2,-4)),e)}var St=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function TS(){St.console&&typeof St.console.log=="function"&&St.console.log.apply(St.console,arguments)}var Rn={log:TS,warn:function(n){St.console&&(typeof St.console.warn=="function"?St.console.warn.apply(St.console,arguments):TS.call(null,arguments))},error:function(n){St.console&&(typeof St.console.error=="function"?St.console.error.apply(St.console,arguments):TS(n))}};function RS(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){sh(r.response,e,t)},r.onerror=function(){Rn.error("could not download file")},r.send()}function A4(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Nw(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var t1,Pk,sh=St.saveAs||((typeof window>"u"?"undefined":bn(window))!=="object"||window!==St?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=St.URL||St.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?A4(i.href)?RS(n,e,t):Nw(i,i.target="_blank"):Nw(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Nw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(A4(n))RS(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Nw(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:bn(s)!=="object"&&(Rn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return RS(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(St.HTMLElement)||St.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":bn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(n)}else{var l=St.URL||St.webkitURL,u=l.createObjectURL(n);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function pF(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,a=i.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function IS(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=ki(t,r,i,s,e[0],7,-680876936),s=ki(s,t,r,i,e[1],12,-389564586),i=ki(i,s,t,r,e[2],17,606105819),r=ki(r,i,s,t,e[3],22,-1044525330),t=ki(t,r,i,s,e[4],7,-176418897),s=ki(s,t,r,i,e[5],12,1200080426),i=ki(i,s,t,r,e[6],17,-1473231341),r=ki(r,i,s,t,e[7],22,-45705983),t=ki(t,r,i,s,e[8],7,1770035416),s=ki(s,t,r,i,e[9],12,-1958414417),i=ki(i,s,t,r,e[10],17,-42063),r=ki(r,i,s,t,e[11],22,-1990404162),t=ki(t,r,i,s,e[12],7,1804603682),s=ki(s,t,r,i,e[13],12,-40341101),i=ki(i,s,t,r,e[14],17,-1502002290),t=Ci(t,r=ki(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ci(s,t,r,i,e[6],9,-1069501632),i=Ci(i,s,t,r,e[11],14,643717713),r=Ci(r,i,s,t,e[0],20,-373897302),t=Ci(t,r,i,s,e[5],5,-701558691),s=Ci(s,t,r,i,e[10],9,38016083),i=Ci(i,s,t,r,e[15],14,-660478335),r=Ci(r,i,s,t,e[4],20,-405537848),t=Ci(t,r,i,s,e[9],5,568446438),s=Ci(s,t,r,i,e[14],9,-1019803690),i=Ci(i,s,t,r,e[3],14,-187363961),r=Ci(r,i,s,t,e[8],20,1163531501),t=Ci(t,r,i,s,e[13],5,-1444681467),s=Ci(s,t,r,i,e[2],9,-51403784),i=Ci(i,s,t,r,e[7],14,1735328473),t=Ei(t,r=Ci(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ei(s,t,r,i,e[8],11,-2022574463),i=Ei(i,s,t,r,e[11],16,1839030562),r=Ei(r,i,s,t,e[14],23,-35309556),t=Ei(t,r,i,s,e[1],4,-1530992060),s=Ei(s,t,r,i,e[4],11,1272893353),i=Ei(i,s,t,r,e[7],16,-155497632),r=Ei(r,i,s,t,e[10],23,-1094730640),t=Ei(t,r,i,s,e[13],4,681279174),s=Ei(s,t,r,i,e[0],11,-358537222),i=Ei(i,s,t,r,e[3],16,-722521979),r=Ei(r,i,s,t,e[6],23,76029189),t=Ei(t,r,i,s,e[9],4,-640364487),s=Ei(s,t,r,i,e[12],11,-421815835),i=Ei(i,s,t,r,e[15],16,530742520),t=Ni(t,r=Ei(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ni(s,t,r,i,e[7],10,1126891415),i=Ni(i,s,t,r,e[14],15,-1416354905),r=Ni(r,i,s,t,e[5],21,-57434055),t=Ni(t,r,i,s,e[12],6,1700485571),s=Ni(s,t,r,i,e[3],10,-1894986606),i=Ni(i,s,t,r,e[10],15,-1051523),r=Ni(r,i,s,t,e[1],21,-2054922799),t=Ni(t,r,i,s,e[8],6,1873313359),s=Ni(s,t,r,i,e[15],10,-30611744),i=Ni(i,s,t,r,e[6],15,-1560198380),r=Ni(r,i,s,t,e[13],21,1309151649),t=Ni(t,r,i,s,e[4],6,-145523070),s=Ni(s,t,r,i,e[11],10,-1120210379),i=Ni(i,s,t,r,e[2],15,718787259),r=Ni(r,i,s,t,e[9],21,-343485551),n[0]=rd(t,n[0]),n[1]=rd(r,n[1]),n[2]=rd(i,n[2]),n[3]=rd(s,n[3])}function u5(n,e,t,r,i,s){return e=rd(rd(e,n),rd(r,s)),rd(e<<i|e>>>32-i,t)}function ki(n,e,t,r,i,s,a){return u5(e&t|~e&r,n,e,i,s,a)}function Ci(n,e,t,r,i,s,a){return u5(e&r|t&~r,n,e,i,s,a)}function Ei(n,e,t,r,i,s,a){return u5(e^t^r,n,e,i,s,a)}function Ni(n,e,t,r,i,s,a){return u5(t^(e|~r),n,e,i,s,a)}function gF(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)IS(r,EJ(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(IS(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,IS(r,i),r}function EJ(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}t1=St.atob.bind(St),Pk=St.btoa.bind(St);var _4="0123456789abcdef".split("");function NJ(n){for(var e="",t=0;t<4;t++)e+=_4[n>>8*t+4&15]+_4[n>>8*t&15];return e}function jJ(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Lk(n){return gF(n).map(jJ).join("")}var PJ=function(n){for(var e=0;e<n.length;e++)n[e]=NJ(n[e]);return n.join("")}(gF("hello"))!="5d41402abc4b2a76b9719d911017c592";function rd(n,e){if(PJ){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Tk(n,e){var t,r,i,s;if(n!==t){for(var a=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+a.charCodeAt(l))%256,o[l]=o[u],o[u]=d}t=n,r=o}else o=r;var f=e.length,h=0,p=0,y="";for(l=0;l<f;l++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,a=o[(o[h]+o[p])%256],y+=String.fromCharCode(e.charCodeAt(l)^a);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k4={print:4,modify:8,copy:16,"annot-forms":32};function Ip(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(o){if(k4.perm!==void 0)throw new Error("Invalid permission: "+o);i+=k4[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Lk(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Tk(this.encryptionKey,this.padding)}function Fp(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function C4(n){if(bn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,r)}catch(o){St.console&&Rn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function O1(n){if(!(this instanceof O1))return new O1(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function mF(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Pu(n,e,t,r,i){if(!(this instanceof Pu))return new Pu(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,mF.call(this,r,i)}function fh(n,e,t,r,i){if(!(this instanceof fh))return new fh(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,mF.call(this,r,i)}function bt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",d=null;bn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),u=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var f=n.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=C4;var y="1.3",x=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(E){y=E};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return _};var w=p.__private__.getPageFormat=function(E){return _[E]};i=i||"a4";var A={COMPAT:"compat",ADVANCED:"advanced"},S=A.COMPAT;function v(){this.saveGraphicsState(),ce(new Ke(Ge,0,0,-Ge,0,Ro()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),u="n",S=A.ADVANCED}function C(){this.restoreGraphicsState(),u="S",S=A.COMPAT}var j=p.__private__.combineFontStyleAndFontWeight=function(E,H){if(E=="bold"&&H=="normal"||E=="bold"&&H==400||E=="normal"&&H=="italic"||E=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(E=H==400||H==="normal"?E==="italic"?"italic":"normal":H!=700&&H!=="bold"||E!=="normal"?(H==700?"bold":H)+""+E:"bold"),E};p.advancedAPI=function(E){var H=S===A.COMPAT;return H&&v.call(this),typeof E!="function"||(E(this),H&&C.call(this)),this},p.compatAPI=function(E){var H=S===A.ADVANCED;return H&&C.call(this),typeof E!="function"||(E(this),H&&v.call(this)),this},p.isAdvancedAPI=function(){return S===A.ADVANCED};var T,P=function(E){if(S!==A.ADVANCED)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=p.roundToPrecision=p.__private__.roundToPrecision=function(E,H){var oe=e||H;if(isNaN(E)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(oe).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof l=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return z(E,l)}:l==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return z(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return z(E,16)};var q=p.f2=p.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return z(E,2)},R=p.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return z(E,3)},F=p.scale=p.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return S===A.COMPAT?E*Ge:S===A.ADVANCED?E:void 0},$=function(E){return S===A.COMPAT?Ro()-E:S===A.ADVANCED?E:void 0},W=function(E){return F($(E))};p.__private__.setPrecision=p.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var he,ne="00000000000000000000000000000000",X=p.__private__.getFileId=function(){return ne},K=p.__private__.setFileId=function(E){return ne=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Tr=new Ip(d.userPermissions,d.userPassword,d.ownerPassword,ne)),ne};p.setFileId=function(E){return K(E),this},p.getFileId=function(){return X()};var ee=p.__private__.convertDateToPDFDate=function(E){var H=E.getTimezoneOffset(),oe=H<0?"+":"-",pe=Math.floor(Math.abs(H/60)),Ae=Math.abs(H%60),je=[oe,B(pe),"'",B(Ae),"'"].join("");return["D:",E.getFullYear(),B(E.getMonth()+1),B(E.getDate()),B(E.getHours()),B(E.getMinutes()),B(E.getSeconds()),je].join("")},de=p.__private__.convertPDFDateToDate=function(E){var H=parseInt(E.substr(2,4),10),oe=parseInt(E.substr(6,2),10)-1,pe=parseInt(E.substr(8,2),10),Ae=parseInt(E.substr(10,2),10),je=parseInt(E.substr(12,2),10),$e=parseInt(E.substr(14,2),10);return new Date(H,oe,pe,Ae,je,$e,0)},xe=p.__private__.setCreationDate=function(E){var H;if(E===void 0&&(E=new Date),E instanceof Date)H=ee(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=E}return he=H},M=p.__private__.getCreationDate=function(E){var H=he;return E==="jsDate"&&(H=de(he)),H};p.setCreationDate=function(E){return xe(E),this},p.getCreationDate=function(E){return M(E)};var J,B=p.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},ae=p.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},le=0,ge=[],we=[],Se=0,Le=[],De=[],Ve=!1,Ue=we,Ze=function(){le=0,Se=0,we=[],ge=[],Le=[],Di=Ht(),On=Ht()};p.__private__.setCustomOutputDestination=function(E){Ve=!0,Ue=E};var Ce=function(E){Ve||(Ue=E)};p.__private__.resetCustomOutputDestination=function(){Ve=!1,Ue=we};var ce=p.__private__.out=function(E){return E=E.toString(),Se+=E.length+1,Ue.push(E),Ue},ft=p.__private__.write=function(E){return ce(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},Je=p.__private__.getArrayBuffer=function(E){for(var H=E.length,oe=new ArrayBuffer(H),pe=new Uint8Array(oe);H--;)pe[H]=E.charCodeAt(H);return oe},ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ze};var qe=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(E){return qe=S===A.ADVANCED?E/Ge:E,this};var Me,fe=p.__private__.getFontSize=p.getFontSize=function(){return S===A.COMPAT?qe:qe*Ge},Te=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(E){return Te=E,this},p.__private__.getR2L=p.getR2L=function(){return Te};var Oe,He=p.__private__.setZoomMode=function(E){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))Me=E;else if(isNaN(E)){if(H.indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');Me=E}else Me=parseInt(E,10)};p.__private__.getZoomMode=function(){return Me};var Ye,tt=p.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Oe=E};p.__private__.getPageMode=function(){return Oe};var pt=p.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');Ye=E};p.__private__.getLayoutMode=function(){return Ye},p.__private__.setDisplayMode=p.setDisplayMode=function(E,H,oe){return He(E),pt(H),tt(oe),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(E){if(Object.keys(nt).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[E]},p.__private__.getDocumentProperties=function(){return nt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(E){for(var H in nt)nt.hasOwnProperty(H)&&E[H]&&(nt[H]=E[H]);return this},p.__private__.setDocumentProperty=function(E,H){if(Object.keys(nt).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[E]=H};var yt,Ge,Ar,Ot,_r,an={},pn={},ts=[],on={},Fa={},Mn={},wi={},Ma=null,Vt=0,vt=[],ln=new C4(p),hr=n.hotfixes||[],sr={},Ls={},Ts=[],Ke=function E(H,oe,pe,Ae,je,$e){if(!(this instanceof E))return new E(H,oe,pe,Ae,je,$e);isNaN(H)&&(H=1),isNaN(oe)&&(oe=0),isNaN(pe)&&(pe=0),isNaN(Ae)&&(Ae=1),isNaN(je)&&(je=0),isNaN($e)&&($e=0),this._matrix=[H,oe,pe,Ae,je,$e]};Object.defineProperty(Ke.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Ke.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Ke.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Ke.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Ke.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Ke.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Ke.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Ke.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Ke.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Ke.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Ke.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Ke.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Ke.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ke.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ke.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ke.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ke.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(E)},Ke.prototype.multiply=function(E){var H=E.sx*this.sx+E.shy*this.shx,oe=E.sx*this.shy+E.shy*this.sy,pe=E.shx*this.sx+E.sy*this.shx,Ae=E.shx*this.shy+E.sy*this.sy,je=E.tx*this.sx+E.ty*this.shx+this.tx,$e=E.tx*this.shy+E.ty*this.sy+this.ty;return new Ke(H,oe,pe,Ae,je,$e)},Ke.prototype.decompose=function(){var E=this.sx,H=this.shy,oe=this.shx,pe=this.sy,Ae=this.tx,je=this.ty,$e=Math.sqrt(E*E+H*H),rt=(E/=$e)*oe+(H/=$e)*pe;oe-=E*rt,pe-=H*rt;var gt=Math.sqrt(oe*oe+pe*pe);return rt/=gt,E*(pe/=gt)<H*(oe/=gt)&&(E=-E,H=-H,rt=-rt,$e=-$e),{scale:new Ke($e,0,0,gt,0,0),translate:new Ke(1,0,0,1,Ae,je),rotate:new Ke(E,H,-H,E,0,0),skew:new Ke(1,0,rt,1,0,0)}},Ke.prototype.toString=function(E){return this.join(" ")},Ke.prototype.inversed=function(){var E=this.sx,H=this.shy,oe=this.shx,pe=this.sy,Ae=this.tx,je=this.ty,$e=1/(E*pe-H*oe),rt=pe*$e,gt=-H*$e,Ct=-oe*$e,Rt=E*$e;return new Ke(rt,gt,Ct,Rt,-rt*Ae-Ct*je,-gt*Ae-Rt*je)},Ke.prototype.applyToPoint=function(E){var H=E.x*this.sx+E.y*this.shx+this.tx,oe=E.x*this.shy+E.y*this.sy+this.ty;return new Zc(H,oe)},Ke.prototype.applyToRectangle=function(E){var H=this.applyToPoint(E),oe=this.applyToPoint(new Zc(E.x+E.w,E.y+E.h));return new qd(H.x,H.y,oe.x-H.x,oe.y-H.y)},Ke.prototype.clone=function(){var E=this.sx,H=this.shy,oe=this.shx,pe=this.sy,Ae=this.tx,je=this.ty;return new Ke(E,H,oe,pe,Ae,je)},p.Matrix=Ke;var ar=p.matrixMult=function(E,H){return H.multiply(E)},Lr=new Ke(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Lr;var or=function(E,H){if(!Fa[E]){var oe=(H instanceof Pu?"Sh":"P")+(Object.keys(on).length+1).toString(10);H.id=oe,Fa[E]=oe,on[oe]=H,ln.publish("addPattern",H)}};p.ShadingPattern=Pu,p.TilingPattern=fh,p.addShadingPattern=function(E,H){return P("addShadingPattern()"),or(E,H),this},p.beginTilingPattern=function(E){P("beginTilingPattern()"),cp(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},p.endTilingPattern=function(E,H){P("endTilingPattern()"),H.stream=De[J].join(`
`),or(E,H),ln.publish("endTilingPattern",H),Ts.pop().restore()};var Bt=p.__private__.newObject=function(){var E=Ht();return ni(E,!0),E},Ht=p.__private__.newObjectDeferred=function(){return le++,ge[le]=function(){return Se},le},ni=function(E,H){return H=typeof H=="boolean"&&H,ge[E]=Se,H&&ce(E+" 0 obj"),E},Sl=p.__private__.newAdditionalObject=function(){var E={objId:Ht(),content:""};return Le.push(E),E},Di=Ht(),On=Ht(),Rs=p.__private__.decodeColorString=function(E){var H=E.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var oe=parseFloat(H[0]);H=[oe,oe,oe,"r"]}for(var pe="#",Ae=0;Ae<3;Ae++)pe+=("0"+Math.floor(255*parseFloat(H[Ae])).toString(16)).slice(-2);return pe},ns=p.__private__.encodeColorString=function(E){var H;typeof E=="string"&&(E={ch1:E});var oe=E.ch1,pe=E.ch2,Ae=E.ch3,je=E.ch4,$e=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var rt=new pF(oe);if(rt.ok)oe=rt.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var gt=parseInt(oe.substr(1),16);oe=gt>>16&255,pe=gt>>8&255,Ae=255&gt}if(pe===void 0||je===void 0&&oe===pe&&pe===Ae)if(typeof oe=="string")H=oe+" "+$e[0];else switch(E.precision){case 2:H=q(oe/255)+" "+$e[0];break;case 3:default:H=R(oe/255)+" "+$e[0]}else if(je===void 0||bn(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return H=["1.","1.","1.",$e[1]].join(" ");if(typeof oe=="string")H=[oe,pe,Ae,$e[1]].join(" ");else switch(E.precision){case 2:H=[q(oe/255),q(pe/255),q(Ae/255),$e[1]].join(" ");break;default:case 3:H=[R(oe/255),R(pe/255),R(Ae/255),$e[1]].join(" ")}}else if(typeof oe=="string")H=[oe,pe,Ae,je,$e[2]].join(" ");else switch(E.precision){case 2:H=[q(oe),q(pe),q(Ae),q(je),$e[2]].join(" ");break;case 3:default:H=[R(oe),R(pe),R(Ae),R(je),$e[2]].join(" ")}return H},Is=p.__private__.getFilters=function(){return a},bi=p.__private__.putStream=function(E){var H=(E=E||{}).data||"",oe=E.filters||Is(),pe=E.alreadyAppliedFilters||[],Ae=E.addLength1||!1,je=H.length,$e=E.objectId,rt=function(fr){return fr};if(d!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(rt=Tr.encryptor($e,0));var gt={};oe===!0&&(oe=["FlateEncode"]);var Ct=E.additionalKeyValues||[],Rt=(gt=bt.API.processDataByFilters!==void 0?bt.API.processDataByFilters(H,oe):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(gt.data.length!==0&&(Ct.push({key:"Length",value:gt.data.length}),Ae===!0&&Ct.push({key:"Length1",value:je})),Rt.length!=0)if(Rt.split("/").length-1==1)Ct.push({key:"Filter",value:Rt});else{Ct.push({key:"Filter",value:"["+Rt+"]"});for(var Gt=0;Gt<Ct.length;Gt+=1)if(Ct[Gt].key==="DecodeParms"){for(var Hn=[],$n=0;$n<gt.reverseChain.split("/").length-1;$n+=1)Hn.push("null");Hn.push(Ct[Gt].value),Ct[Gt].value="["+Hn.join(" ")+"]"}}ce("<<");for(var Qn=0;Qn<Ct.length;Qn++)ce("/"+Ct[Qn].key+" "+Ct[Qn].value);ce(">>"),gt.data.length!==0&&(ce("stream"),ce(rt(gt.data)),ce("endstream"))},ha=p.__private__.putPage=function(E){var H=E.number,oe=E.data,pe=E.objId,Ae=E.contentsObjId;ni(pe,!0),ce("<</Type /Page"),ce("/Parent "+E.rootDictionaryObjId+" 0 R"),ce("/Resources "+E.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(T(E.mediaBox.bottomLeftX))+" "+parseFloat(T(E.mediaBox.bottomLeftY))+" "+T(E.mediaBox.topRightX)+" "+T(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&ce("/CropBox ["+T(E.cropBox.bottomLeftX)+" "+T(E.cropBox.bottomLeftY)+" "+T(E.cropBox.topRightX)+" "+T(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&ce("/BleedBox ["+T(E.bleedBox.bottomLeftX)+" "+T(E.bleedBox.bottomLeftY)+" "+T(E.bleedBox.topRightX)+" "+T(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&ce("/TrimBox ["+T(E.trimBox.bottomLeftX)+" "+T(E.trimBox.bottomLeftY)+" "+T(E.trimBox.topRightX)+" "+T(E.trimBox.topRightY)+"]"),E.artBox!==null&&ce("/ArtBox ["+T(E.artBox.bottomLeftX)+" "+T(E.artBox.bottomLeftY)+" "+T(E.artBox.topRightX)+" "+T(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&ce("/UserUnit "+E.userUnit),ln.publish("putPage",{objId:pe,pageContext:vt[H],pageNumber:H,page:oe}),ce("/Contents "+Ae+" 0 R"),ce(">>"),ce("endobj");var je=oe.join(`
`);return S===A.ADVANCED&&(je+=`
Q`),ni(Ae,!0),bi({data:je,filters:Is(),objectId:Ae}),ce("endobj"),pe},Lo=p.__private__.putPages=function(){var E,H,oe=[];for(E=1;E<=Vt;E++)vt[E].objId=Ht(),vt[E].contentsObjId=Ht();for(E=1;E<=Vt;E++)oe.push(ha({number:E,data:De[E],objId:vt[E].objId,contentsObjId:vt[E].contentsObjId,mediaBox:vt[E].mediaBox,cropBox:vt[E].cropBox,bleedBox:vt[E].bleedBox,trimBox:vt[E].trimBox,artBox:vt[E].artBox,userUnit:vt[E].userUnit,rootDictionaryObjId:Di,resourceDictionaryObjId:On}));ni(Di,!0),ce("<</Type /Pages");var pe="/Kids [";for(H=0;H<Vt;H++)pe+=oe[H]+" 0 R ";ce(pe+"]"),ce("/Count "+Vt),ce(">>"),ce("endobj"),ln.publish("postPutPages")},Oc=function(E){ln.publish("putFont",{font:E,out:ce,newObject:Bt,putStream:bi}),E.isAlreadyPutted!==!0&&(E.objectNumber=Bt(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+Fp(E.postScriptName)),ce("/Subtype /Type1"),typeof E.encoding=="string"&&ce("/Encoding /"+E.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},Dc=function(){for(var E in an)an.hasOwnProperty(E)&&(f===!1||f===!0&&h.hasOwnProperty(E))&&Oc(an[E])},rs=function(E){E.objectNumber=Bt();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[T(E.x),T(E.y),T(E.x+E.width),T(E.y+E.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var oe=E.pages[1].join(`
`);bi({data:oe,additionalKeyValues:H,objectId:E.objectNumber}),ce("endobj")},Bc=function(){for(var E in sr)sr.hasOwnProperty(E)&&rs(sr[E])},Yf=function(E,H){var oe,pe=[],Ae=1/(H-1);for(oe=0;oe<1;oe+=Ae)pe.push(oe);if(pe.push(1),E[0].offset!=0){var je={offset:0,color:E[0].color};E.unshift(je)}if(E[E.length-1].offset!=1){var $e={offset:1,color:E[E.length-1].color};E.push($e)}for(var rt="",gt=0,Ct=0;Ct<pe.length;Ct++){for(oe=pe[Ct];oe>E[gt+1].offset;)gt++;var Rt=E[gt].offset,Gt=(oe-Rt)/(E[gt+1].offset-Rt),Hn=E[gt].color,$n=E[gt+1].color;rt+=ae(Math.round((1-Gt)*Hn[0]+Gt*$n[0]).toString(16))+ae(Math.round((1-Gt)*Hn[1]+Gt*$n[1]).toString(16))+ae(Math.round((1-Gt)*Hn[2]+Gt*$n[2]).toString(16))}return rt.trim()},xm=function(E,H){H||(H=21);var oe=Bt(),pe=Yf(E.colors,H),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+H+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bi({data:pe,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),ce("endobj"),E.objectNumber=Bt(),ce("<< /ShadingType "+E.type),ce("/ColorSpace /DeviceRGB");var je="/Coords ["+T(parseFloat(E.coords[0]))+" "+T(parseFloat(E.coords[1]))+" ";E.type===2?je+=T(parseFloat(E.coords[2]))+" "+T(parseFloat(E.coords[3])):je+=T(parseFloat(E.coords[2]))+" "+T(parseFloat(E.coords[3]))+" "+T(parseFloat(E.coords[4]))+" "+T(parseFloat(E.coords[5])),ce(je+="]"),E.matrix&&ce("/Matrix ["+E.matrix.toString()+"]"),ce("/Function "+oe+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},Sm=function(E,H){var oe=Ht(),pe=Bt();H.push({resourcesOid:oe,objectOid:pe}),E.objectNumber=pe;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+E.boundingBox.map(T).join(" ")+"]"}),Ae.push({key:"XStep",value:T(E.xStep)}),Ae.push({key:"YStep",value:T(E.yStep)}),Ae.push({key:"Resources",value:oe+" 0 R"}),E.matrix&&Ae.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),bi({data:E.stream,additionalKeyValues:Ae,objectId:E.objectNumber}),ce("endobj")},zc=function(E){var H;for(H in on)on.hasOwnProperty(H)&&(on[H]instanceof Pu?xm(on[H]):on[H]instanceof fh&&Sm(on[H],E))},Uc=function(E){for(var H in E.objectNumber=Bt(),ce("<<"),E)switch(H){case"opacity":ce("/ca "+q(E[H]));break;case"stroke-opacity":ce("/CA "+q(E[H]))}ce(">>"),ce("endobj")},Am=function(){var E;for(E in Mn)Mn.hasOwnProperty(E)&&Uc(Mn[E])},Id=function(){for(var E in ce("/XObject <<"),sr)sr.hasOwnProperty(E)&&sr[E].objectNumber>=0&&ce("/"+E+" "+sr[E].objectNumber+" 0 R");ln.publish("putXobjectDict"),ce(">>")},Oa=function(){Tr.oid=Bt(),ce("<<"),ce("/Filter /Standard"),ce("/V "+Tr.v),ce("/R "+Tr.r),ce("/U <"+Tr.toHexString(Tr.U)+">"),ce("/O <"+Tr.toHexString(Tr.O)+">"),ce("/P "+Tr.P),ce(">>"),ce("endobj")},Xf=function(){for(var E in ce("/Font <<"),an)an.hasOwnProperty(E)&&(f===!1||f===!0&&h.hasOwnProperty(E))&&ce("/"+E+" "+an[E].objectNumber+" 0 R");ce(">>")},_m=function(){if(Object.keys(on).length>0){for(var E in ce("/Shading <<"),on)on.hasOwnProperty(E)&&on[E]instanceof Pu&&on[E].objectNumber>=0&&ce("/"+E+" "+on[E].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),ce(">>")}},Hc=function(E){if(Object.keys(on).length>0){for(var H in ce("/Pattern <<"),on)on.hasOwnProperty(H)&&on[H]instanceof p.TilingPattern&&on[H].objectNumber>=0&&on[H].objectNumber<E&&ce("/"+H+" "+on[H].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),ce(">>")}},Fd=function(){if(Object.keys(Mn).length>0){var E;for(E in ce("/ExtGState <<"),Mn)Mn.hasOwnProperty(E)&&Mn[E].objectNumber>=0&&ce("/"+E+" "+Mn[E].objectNumber+" 0 R");ln.publish("putGStateDict"),ce(">>")}},Jn=function(E){ni(E.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Xf(),_m(),Hc(E.objectOid),Fd(),Id(),ce(">>"),ce("endobj")},Jf=function(){var E=[];Dc(),Am(),Bc(),zc(E),ln.publish("putResources"),E.forEach(Jn),Jn({resourcesOid:On,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources")},Qf=function(){ln.publish("putAdditionalObjects");for(var E=0;E<Le.length;E++){var H=Le[E];ni(H.objId,!0),ce(H.content),ce("endobj")}ln.publish("postPutAdditionalObjects")},Zf=function(E){pn[E.fontName]=pn[E.fontName]||{},pn[E.fontName][E.fontStyle]=E.id},Md=function(E,H,oe,pe,Ae){var je={id:"F"+(Object.keys(an).length+1).toString(10),postScriptName:E,fontName:H,fontStyle:oe,encoding:pe,isStandardFont:Ae||!1,metadata:{}};return ln.publish("addFont",{font:je,instance:this}),an[je.id]=je,Zf(je),je.id},hn=function(E){for(var H=0,oe=ze.length;H<oe;H++){var pe=Md.call(this,E[H][0],E[H][1],E[H][2],ze[H][3],!0);f===!1&&(h[pe]=!0);var Ae=E[H][0].split("-");Zf({id:pe,fontName:Ae[0],fontStyle:Ae[1]||""})}ln.publish("addFonts",{fonts:an,dictionary:pn})},Fs=function(E){return E.foo=function(){try{return E.apply(this,arguments)}catch(pe){var H=pe.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var oe="Error in function "+H.split(`
`)[0].split("<")[0]+": "+pe.message;if(!St.console)throw new Error(oe);St.console.error(oe,pe),St.alert&&alert(oe)}},E.foo.bar=E,E.foo},$c=function(E,H){var oe,pe,Ae,je,$e,rt,gt,Ct,Rt;if(Ae=(H=H||{}).sourceEncoding||"Unicode",$e=H.outputEncoding,(H.autoencode||$e)&&an[yt].metadata&&an[yt].metadata[Ae]&&an[yt].metadata[Ae].encoding&&(je=an[yt].metadata[Ae].encoding,!$e&&an[yt].encoding&&($e=an[yt].encoding),!$e&&je.codePages&&($e=je.codePages[0]),typeof $e=="string"&&($e=je[$e]),$e)){for(gt=!1,rt=[],oe=0,pe=E.length;oe<pe;oe++)(Ct=$e[E.charCodeAt(oe)])?rt.push(String.fromCharCode(Ct)):rt.push(E[oe]),rt[oe].charCodeAt(0)>>8&&(gt=!0);E=rt.join("")}for(oe=E.length;gt===void 0&&oe!==0;)E.charCodeAt(oe-1)>>8&&(gt=!0),oe--;if(!gt)return E;for(rt=H.noBOM?[]:[254,255],oe=0,pe=E.length;oe<pe;oe++){if((Rt=(Ct=E.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+E+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rt.push(Rt),rt.push(Ct-(Rt<<8))}return String.fromCharCode.apply(void 0,rt)},xi=p.__private__.pdfEscape=p.pdfEscape=function(E,H){return $c(E,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Od=p.__private__.beginPage=function(E){De[++Vt]=[],vt[Vt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},qc(Vt),Ce(De[J])},ep=function(E,H){var oe,pe,Ae;switch(t=H||t,typeof E=="string"&&(oe=w(E.toLowerCase()),Array.isArray(oe)&&(pe=oe[0],Ae=oe[1])),Array.isArray(E)&&(pe=E[0]*Ge,Ae=E[1]*Ge),isNaN(pe)&&(pe=i[0],Ae=i[1]),(pe>14400||Ae>14400)&&(Rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Ae=Math.min(14400,Ae)),i=[pe,Ae],t.substr(0,1)){case"l":Ae>pe&&(i=[Ae,pe]);break;case"p":pe>Ae&&(i=[Ae,pe])}Od(i),sp(Xc),ce(ss),Hd!==0&&ce(Hd+" J"),$d!==0&&ce($d+" j"),ln.publish("addPage",{pageNumber:Vt})},km=function(E){E>0&&E<=Vt&&(De.splice(E,1),vt.splice(E,1),Vt--,J>Vt&&(J=Vt),this.setPage(J))},qc=function(E){E>0&&E<=Vt&&(J=E)},Al=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return De.length-1},Dd=function(E,H,oe){var pe,Ae=void 0;return oe=oe||{},E=E!==void 0?E:an[yt].fontName,H=H!==void 0?H:an[yt].fontStyle,pe=E.toLowerCase(),pn[pe]!==void 0&&pn[pe][H]!==void 0?Ae=pn[pe][H]:pn[E]!==void 0&&pn[E][H]!==void 0?Ae=pn[E][H]:oe.disableWarning===!1&&Rn.warn("Unable to look up font label for font '"+E+"', '"+H+"'. Refer to getFontList() for available fonts."),Ae||oe.noFallback||(Ae=pn.times[H])==null&&(Ae=pn.times.normal),Ae},Wc=p.__private__.putInfo=function(){var E=Bt(),H=function(pe){return pe};for(var oe in d!==null&&(H=Tr.encryptor(E,0)),ce("<<"),ce("/Producer ("+xi(H("jsPDF "+bt.version))+")"),nt)nt.hasOwnProperty(oe)&&nt[oe]&&ce("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+xi(H(nt[oe]))+")");ce("/CreationDate ("+xi(H(he))+")"),ce(">>"),ce("endobj")},jn=p.__private__.putCatalog=function(E){var H=(E=E||{}).rootDictionaryObjId||Di;switch(Bt(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+H+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+Me;oe.substr(oe.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+q(Me)+"]")}switch(Ye||(Ye="continuous"),Ye){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}Oe&&ce("/PageMode /"+Oe),ln.publish("putCatalog"),ce(">>"),ce("endobj")},Cm=p.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(le+1)),ce("/Root "+le+" 0 R"),ce("/Info "+(le-1)+" 0 R"),d!==null&&ce("/Encrypt "+Tr.oid+" 0 R"),ce("/ID [ <"+ne+"> <"+ne+"> ]"),ce(">>")},Em=p.__private__.putHeader=function(){ce("%PDF-"+y),ce("%")},Nm=p.__private__.putXRef=function(){var E="0000000000";ce("xref"),ce("0 "+(le+1)),ce("0000000000 65535 f ");for(var H=1;H<=le;H++)typeof ge[H]=="function"?ce((E+ge[H]()).slice(-10)+" 00000 n "):ge[H]!==void 0?ce((E+ge[H]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},fa=p.__private__.buildDocument=function(){Ze(),Ce(we),ln.publish("buildDocument"),Em(),Lo(),Qf(),Jf(),d!==null&&Oa(),Wc(),jn();var E=Se;return Nm(),Cm(),ce("startxref"),ce(""+E),ce("%%EOF"),Ce(De[J]),we.join(`
`)},Vc=p.__private__.getBlob=function(E){return new Blob([Je(E)],{type:"application/pdf"})},Gc=p.output=p.__private__.output=Fs(function(E,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",E){case void 0:return fa();case"save":p.save(H.filename);break;case"arraybuffer":return Je(fa());case"blob":return Vc(fa());case"bloburi":case"bloburl":if(St.URL!==void 0&&typeof St.URL.createObjectURL=="function")return St.URL&&St.URL.createObjectURL(Vc(fa()))||void 0;Rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",pe=fa();try{oe=Pk(pe)}catch{oe=Pk(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+H.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Ae=H.pdfObjectUrl,je="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",rt=St.open();return rt!==null&&rt.document.write($e),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Ct=St.open();if(Ct!==null){Ct.document.write(gt);var Rt=this;Ct.document.documentElement.querySelector("#pdfViewer").onload=function(){Ct.document.title=H.filename,Ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Rt.output("bloburl"))}}return Ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(St)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Hn=St.open();if(Hn!==null&&(Hn.document.write(Gt),Hn.document.title=H.filename),Hn||typeof safari>"u")return Hn;break;case"datauri":case"dataurl":return St.document.location.href=this.output("datauristring",H);default:return null}}),tp=function(E){return Array.isArray(hr)===!0&&hr.indexOf(E)>-1};switch(r){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=tp("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ge=r}var Tr=null;xe(),K();var jm=function(E){return d!==null?Tr.encryptor(E,0):function(H){return H}},Bd=p.__private__.getPageInfo=p.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[E].objId,pageNumber:E,pageContext:vt[E]}},_t=p.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in vt)if(vt[H].objId===E)break;return Bd(H)},Pm=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:vt[J].objId,pageNumber:J,pageContext:vt[J]}};p.addPage=function(){return ep.apply(this,arguments),this},p.setPage=function(){return qc.apply(this,arguments),Ce.call(this,De[J]),this},p.insertPage=function(E){return this.addPage(),this.movePage(J,E),this},p.movePage=function(E,H){var oe,pe;if(E>H){oe=De[E],pe=vt[E];for(var Ae=E;Ae>H;Ae--)De[Ae]=De[Ae-1],vt[Ae]=vt[Ae-1];De[H]=oe,vt[H]=pe,this.setPage(H)}else if(E<H){oe=De[E],pe=vt[E];for(var je=E;je<H;je++)De[je]=De[je+1],vt[je]=vt[je+1];De[H]=oe,vt[H]=pe,this.setPage(H)}return this},p.deletePage=function(){return km.apply(this,arguments),this},p.__private__.text=p.text=function(E,H,oe,pe,Ae){var je,$e,rt,gt,Ct,Rt,Gt,Hn,$n,Qn=(pe=pe||{}).scope||this;if(typeof E=="number"&&typeof H=="number"&&(typeof oe=="string"||Array.isArray(oe))){var fr=oe;oe=H,H=E,E=fr}if(arguments[3]instanceof Ke?(P("The transform parameter of text() with a Matrix value"),$n=Ae):(rt=arguments[4],gt=arguments[5],bn(Gt=arguments[3])==="object"&&Gt!==null||(typeof rt=="string"&&(gt=rt,rt=null),typeof Gt=="string"&&(gt=Gt,Gt=null),typeof Gt=="number"&&(rt=Gt,Gt=null),pe={flags:Gt,angle:rt,align:gt})),isNaN(H)||isNaN(oe)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return Qn;var kr="",Ms=!1,zi=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:Ba,ma=Qn.internal.scaleFactor;function up(An){return An=An.split("	").join(Array(pe.TabLen||9).join(" ")),xi(An,Gt)}function kl(An){for(var _n,Kn=An.concat(),pr=[],Ga=Kn.length;Ga--;)typeof(_n=Kn.shift())=="string"?pr.push(_n):Array.isArray(An)&&(_n.length===1||_n[1]===void 0&&_n[2]===void 0)?pr.push(_n[0]):pr.push([_n[0],_n[1],_n[2]]);return pr}function nu(An,_n){var Kn;if(typeof An=="string")Kn=_n(An)[0];else if(Array.isArray(An)){for(var pr,Ga,Bo=An.concat(),uu=[],Kd=Bo.length;Kd--;)typeof(pr=Bo.shift())=="string"?uu.push(_n(pr)[0]):Array.isArray(pr)&&typeof pr[0]=="string"&&(Ga=_n(pr[0],pr[1],pr[2]),uu.push([Ga[0],Ga[1],Ga[2]]));Kn=uu}return Kn}var Cl=!1,El=!0;if(typeof E=="string")Cl=!0;else if(Array.isArray(E)){var Io=E.concat();$e=[];for(var ru,ri=Io.length;ri--;)(typeof(ru=Io.shift())!="string"||Array.isArray(ru)&&typeof ru[0]!="string")&&(El=!1);Cl=El}if(Cl===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Nl=qe/Qn.internal.scaleFactor,jl=Nl*(zi-1);switch(pe.baseline){case"bottom":oe-=jl;break;case"top":oe+=Nl-jl;break;case"hanging":oe+=Nl-2*jl;break;case"middle":oe+=Nl/2-jl}if((Rt=pe.maxWidth||0)>0&&(typeof E=="string"?E=Qn.splitTextToSize(E,Rt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(An,_n){return An.concat(Qn.splitTextToSize(_n,Rt))},[]))),je={text:E,x:H,y:oe,options:pe,mutex:{pdfEscape:xi,activeFontKey:yt,fonts:an,activeFontSize:qe}},ln.publish("preProcessText",je),E=je.text,rt=(pe=je.options).angle,!($n instanceof Ke)&&rt&&typeof rt=="number"){rt*=Math.PI/180,pe.rotationDirection===0&&(rt=-rt),S===A.ADVANCED&&(rt=-rt);var Pl=Math.cos(rt),iu=Math.sin(rt);$n=new Ke(Pl,iu,-iu,Pl,0,0)}else rt&&rt instanceof Ke&&($n=rt);S!==A.ADVANCED||$n||($n=Lr),(Ct=pe.charSpace||Qc)!==void 0&&(kr+=T(F(Ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Hn=pe.horizontalScale)!==void 0&&(kr+=T(100*Hn)+` Tz
`),pe.lang;var ii=-1,dp=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,su=Qn.internal.getCurrentPageInfo().pageContext;switch(dp){case 0:case!1:case"fill":ii=0;break;case 1:case!0:case"stroke":ii=1;break;case 2:case"fillThenStroke":ii=2;break;case 3:case"invisible":ii=3;break;case 4:case"fillAndAddForClipping":ii=4;break;case 5:case"strokeAndAddPathForClipping":ii=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ii=6;break;case 7:case"addToPathForClipping":ii=7}var Vd=su.usedRenderingMode!==void 0?su.usedRenderingMode:-1;ii!==-1?kr+=ii+` Tr
`:Vd!==-1&&(kr+=`0 Tr
`),ii!==-1&&(su.usedRenderingMode=ii),gt=pe.align||"left";var qr,Gd=qe*zi,Dm=Qn.internal.pageSize.getWidth(),Bm=an[yt];Ct=pe.charSpace||Qc,Rt=pe.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var qa=[];if(Object.prototype.toString.call(E)==="[object Array]"){var Ui;$e=kl(E),gt!=="left"&&(qr=$e.map(function(An){return Qn.getStringUnitWidth(An,{font:Bm,charSpace:Ct,fontSize:qe,doKerning:!1})*qe/ma}));var as,Fo=0;if(gt==="right"){H-=qr[0],E=[],ri=$e.length;for(var va=0;va<ri;va++)va===0?(as=za(H),Ui=Bi(oe)):(as=F(Fo-qr[va]),Ui=-Gd),E.push([$e[va],as,Ui]),Fo=qr[va]}else if(gt==="center"){H-=qr[0]/2,E=[],ri=$e.length;for(var Wa=0;Wa<ri;Wa++)Wa===0?(as=za(H),Ui=Bi(oe)):(as=F((Fo-qr[Wa])/2),Ui=-Gd),E.push([$e[Wa],as,Ui]),Fo=qr[Wa]}else if(gt==="left"){E=[],ri=$e.length;for(var au=0;au<ri;au++)E.push($e[au])}else{if(gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');E=[],ri=$e.length,Rt=Rt!==0?Rt:Dm;for(var os=0;os<ri;os++)Ui=os===0?Bi(oe):-Gd,as=os===0?za(H):0,os<ri-1?qa.push(T(F((Rt-qr[os])/($e[os].split(" ").length-1)))):qa.push(0),E.push([$e[os],as,Ui])}}var ou=typeof pe.R2L=="boolean"?pe.R2L:Te;ou===!0&&(E=nu(E,function(An,_n,Kn){return[An.split("").reverse().join(""),_n,Kn]})),je={text:E,x:H,y:oe,options:pe,mutex:{pdfEscape:xi,activeFontKey:yt,fonts:an,activeFontSize:qe}},ln.publish("postProcessText",je),E=je.text,Ms=je.mutex.isHex||!1;var lu=an[yt].encoding;lu!=="WinAnsiEncoding"&&lu!=="StandardEncoding"||(E=nu(E,function(An,_n,Kn){return[up(An),_n,Kn]})),$e=kl(E),E=[];for(var Mo,ls,Os,Ll=0,cu=1,Tl=Array.isArray($e[0])?cu:Ll,Oo="",Do=function(An,_n,Kn){var pr="";return Kn instanceof Ke?(Kn=typeof pe.angle=="number"?ar(Kn,new Ke(1,0,0,1,An,_n)):ar(new Ke(1,0,0,1,An,_n),Kn),S===A.ADVANCED&&(Kn=ar(new Ke(1,0,0,-1,0,0),Kn)),pr=Kn.join(" ")+` Tm
`):pr=T(An)+" "+T(_n)+` Td
`,pr},cs=0;cs<$e.length;cs++){switch(Oo="",Tl){case cu:Os=(Ms?"<":"(")+$e[cs][0]+(Ms?">":")"),Mo=parseFloat($e[cs][1]),ls=parseFloat($e[cs][2]);break;case Ll:Os=(Ms?"<":"(")+$e[cs]+(Ms?">":")"),Mo=za(H),ls=Bi(oe)}qa!==void 0&&qa[cs]!==void 0&&(Oo=qa[cs]+` Tw
`),cs===0?E.push(Oo+Do(Mo,ls,$n)+Os):Tl===Ll?E.push(Oo+Os):Tl===cu&&E.push(Oo+Do(Mo,ls,$n)+Os)}E=Tl===Ll?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Va=`BT
/`;return Va+=yt+" "+qe+` Tf
`,Va+=T(qe*zi)+` TL
`,Va+=_l+`
`,Va+=kr,Va+=E,ce(Va+="ET"),h[yt]=!0,Qn};var Lm=p.__private__.clip=p.clip=function(E){return ce(E==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Lm("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ce("n"),this};var pa=p.__private__.isValidStyle=function(E){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(H=!0),H};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(E){return pa(E)&&(u=E),this};var np=p.__private__.getStyle=p.getStyle=function(E){var H=u;switch(E){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=E}return H},rp=p.close=function(){return ce("h"),this};p.stroke=function(){return ce("S"),this},p.fill=function(E){return Kc("f",E),this},p.fillEvenOdd=function(E){return Kc("f*",E),this},p.fillStroke=function(E){return Kc("B",E),this},p.fillStrokeEvenOdd=function(E){return Kc("B*",E),this};var Kc=function(E,H){bn(H)==="object"?ip(H,E):ce(E)},Yc=function(E){E===null||S===A.ADVANCED&&E===void 0||(E=np(E),ce(E))};function Tm(E,H,oe,pe,Ae){var je=new fh(H||this.boundingBox,oe||this.xStep,pe||this.yStep,this.gState,Ae||this.matrix);je.stream=this.stream;var $e=E+"$$"+this.cloneIndex+++"$$";return or($e,je),je}var ip=function(E,H){var oe=Fa[E.key],pe=on[oe];if(pe instanceof Pu)ce("q"),ce(Rm(H)),pe.gState&&p.setGState(pe.gState),ce(E.matrix.toString()+" cm"),ce("/"+oe+" sh"),ce("Q");else if(pe instanceof fh){var Ae=new Ke(1,0,0,-1,0,Ro());E.matrix&&(Ae=Ae.multiply(E.matrix||Lr),oe=Tm.call(pe,E.key,E.boundingBox,E.xStep,E.yStep,Ae).id),ce("q"),ce("/Pattern cs"),ce("/"+oe+" scn"),pe.gState&&p.setGState(pe.gState),ce(H),ce("Q")}},Rm=function(E){switch(E){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},zd=p.moveTo=function(E,H){return ce(T(F(E))+" "+T(W(H))+" m"),this},is=p.lineTo=function(E,H){return ce(T(F(E))+" "+T(W(H))+" l"),this},Da=p.curveTo=function(E,H,oe,pe,Ae,je){return ce([T(F(E)),T(W(H)),T(F(oe)),T(W(pe)),T(F(Ae)),T(W(je)),"c"].join(" ")),this};p.__private__.line=p.line=function(E,H,oe,pe,Ae){if(isNaN(E)||isNaN(H)||isNaN(oe)||isNaN(pe)||!pa(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return S===A.COMPAT?this.lines([[oe-E,pe-H]],E,H,[1,1],Ae||"S"):this.lines([[oe-E,pe-H]],E,H,[1,1]).stroke()},p.__private__.lines=p.lines=function(E,H,oe,pe,Ae,je){var $e,rt,gt,Ct,Rt,Gt,Hn,$n,Qn,fr,kr,Ms;if(typeof E=="number"&&(Ms=oe,oe=H,H=E,E=Ms),pe=pe||[1,1],je=je||!1,isNaN(H)||isNaN(oe)||!Array.isArray(E)||!Array.isArray(pe)||!pa(Ae)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(zd(H,oe),$e=pe[0],rt=pe[1],Ct=E.length,fr=H,kr=oe,gt=0;gt<Ct;gt++)(Rt=E[gt]).length===2?(fr=Rt[0]*$e+fr,kr=Rt[1]*rt+kr,is(fr,kr)):(Gt=Rt[0]*$e+fr,Hn=Rt[1]*rt+kr,$n=Rt[2]*$e+fr,Qn=Rt[3]*rt+kr,fr=Rt[4]*$e+fr,kr=Rt[5]*rt+kr,Da(Gt,Hn,$n,Qn,fr,kr));return je&&rp(),Yc(Ae),this},p.path=function(E){for(var H=0;H<E.length;H++){var oe=E[H],pe=oe.c;switch(oe.op){case"m":zd(pe[0],pe[1]);break;case"l":is(pe[0],pe[1]);break;case"c":Da.apply(this,pe);break;case"h":rp()}}return this},p.__private__.rect=p.rect=function(E,H,oe,pe,Ae){if(isNaN(E)||isNaN(H)||isNaN(oe)||isNaN(pe)||!pa(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return S===A.COMPAT&&(pe=-pe),ce([T(F(E)),T(W(H)),T(F(oe)),T(F(pe)),"re"].join(" ")),Yc(Ae),this},p.__private__.triangle=p.triangle=function(E,H,oe,pe,Ae,je,$e){if(isNaN(E)||isNaN(H)||isNaN(oe)||isNaN(pe)||isNaN(Ae)||isNaN(je)||!pa($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-E,pe-H],[Ae-oe,je-pe],[E-Ae,H-je]],E,H,[1,1],$e,!0),this},p.__private__.roundedRect=p.roundedRect=function(E,H,oe,pe,Ae,je,$e){if(isNaN(E)||isNaN(H)||isNaN(oe)||isNaN(pe)||isNaN(Ae)||isNaN(je)||!pa($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*oe),je=Math.min(je,.5*pe),this.lines([[oe-2*Ae,0],[Ae*rt,0,Ae,je-je*rt,Ae,je],[0,pe-2*je],[0,je*rt,-Ae*rt,je,-Ae,je],[2*Ae-oe,0],[-Ae*rt,0,-Ae,-je*rt,-Ae,-je],[0,2*je-pe],[0,-je*rt,Ae*rt,-je,Ae,-je]],E+Ae,H,[1,1],$e,!0),this},p.__private__.ellipse=p.ellipse=function(E,H,oe,pe,Ae){if(isNaN(E)||isNaN(H)||isNaN(oe)||isNaN(pe)||!pa(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*oe,$e=4/3*(Math.SQRT2-1)*pe;return zd(E+oe,H),Da(E+oe,H-$e,E+je,H-pe,E,H-pe),Da(E-je,H-pe,E-oe,H-$e,E-oe,H),Da(E-oe,H+$e,E-je,H+pe,E,H+pe),Da(E+je,H+pe,E+oe,H+$e,E+oe,H),Yc(Ae),this},p.__private__.circle=p.circle=function(E,H,oe,pe){if(isNaN(E)||isNaN(H)||isNaN(oe)||!pa(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,H,oe,oe,pe)},p.setFont=function(E,H,oe){return oe&&(H=j(H,oe)),yt=Dd(E,H,{disableWarning:!1}),this};var Im=p.__private__.getFont=p.getFont=function(){return an[Dd.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var E,H,oe={};for(E in pn)if(pn.hasOwnProperty(E))for(H in oe[E]=[],pn[E])pn[E].hasOwnProperty(H)&&oe[E].push(H);return oe},p.addFont=function(E,H,oe,pe,Ae){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(oe=j(oe,pe)),Ae=Ae||"Identity-H",Md.call(this,E,H,oe,Ae)};var Ba,Xc=n.lineWidth||.200025,Jc=p.__private__.getLineWidth=p.getLineWidth=function(){return Xc},sp=p.__private__.setLineWidth=p.setLineWidth=function(E){return Xc=E,ce(T(F(E))+" w"),this};p.__private__.setLineDash=bt.API.setLineDash=bt.API.setLineDashPattern=function(E,H){if(E=E||[],H=H||0,isNaN(H)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(oe){return T(F(oe))}).join(" "),H=T(F(H)),ce("["+E+"] "+H+" d"),this};var ap=p.__private__.getLineHeight=p.getLineHeight=function(){return qe*Ba};p.__private__.getLineHeight=p.getLineHeight=function(){return qe*Ba};var op=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Ba=E),this},lp=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ba};op(n.lineHeight);var za=p.__private__.getHorizontalCoordinate=function(E){return F(E)},Bi=p.__private__.getVerticalCoordinate=function(E){return S===A.ADVANCED?E:vt[J].mediaBox.topRightY-vt[J].mediaBox.bottomLeftY-F(E)},Fm=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(E){return T(za(E))},Ua=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(E){return T(Bi(E))},ss=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Rs(ss)},p.__private__.setStrokeColor=p.setDrawColor=function(E,H,oe,pe){return ss=ns({ch1:E,ch2:H,ch3:oe,ch4:pe,pdfColorType:"draw",precision:2}),ce(ss),this};var Ud=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Rs(Ud)},p.__private__.setFillColor=p.setFillColor=function(E,H,oe,pe){return Ud=ns({ch1:E,ch2:H,ch3:oe,ch4:pe,pdfColorType:"fill",precision:2}),ce(Ud),this};var _l=n.textColor||"0 g",Mm=p.__private__.getTextColor=p.getTextColor=function(){return Rs(_l)};p.__private__.setTextColor=p.setTextColor=function(E,H,oe,pe){return _l=ns({ch1:E,ch2:H,ch3:oe,ch4:pe,pdfColorType:"text",precision:3}),this};var Qc=n.charSpace,Om=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Qc||0)};p.__private__.setCharSpace=p.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qc=E,this};var Hd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(E){var H=p.CapJoinStyles[E];if(H===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hd=H,ce(H+" J"),this};var $d=0;p.__private__.setLineJoin=p.setLineJoin=function(E){var H=p.CapJoinStyles[E];if(H===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $d=H,ce(H+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(T(F(E))+" M"),this},p.GState=O1,p.setGState=function(E){(E=typeof E=="string"?Mn[wi[E]]:Ha(null,E)).equals(Ma)||(ce("/"+E.id+" gs"),Ma=E)};var Ha=function(E,H){if(!E||!wi[E]){var oe=!1;for(var pe in Mn)if(Mn.hasOwnProperty(pe)&&Mn[pe].equals(H)){oe=!0;break}if(oe)H=Mn[pe];else{var Ae="GS"+(Object.keys(Mn).length+1).toString(10);Mn[Ae]=H,H.id=Ae}return E&&(wi[E]=H.id),ln.publish("addGState",H),H}};p.addGState=function(E,H){return Ha(E,H),this},p.saveGraphicsState=function(){return ce("q"),ts.push({key:yt,size:qe,color:_l}),this},p.restoreGraphicsState=function(){ce("Q");var E=ts.pop();return yt=E.key,qe=E.size,_l=E.color,Ma=null,this},p.setCurrentTransformationMatrix=function(E){return ce(E.toString()+" cm"),this},p.comment=function(E){return ce("#"+E),this};var Zc=function(E,H){var oe=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(je){isNaN(je)||(oe=parseFloat(je))}});var pe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(je){isNaN(je)||(pe=parseFloat(je))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(je){Ae=je.toString()}}),this},qd=function(E,H,oe,pe){Zc.call(this,E,H),this.type="rect";var Ae=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function($e){isNaN($e)||(Ae=parseFloat($e))}});var je=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function($e){isNaN($e)||(je=parseFloat($e))}}),this},eu=function(){this.page=Vt,this.currentPage=J,this.pages=De.slice(0),this.pagesContext=vt.slice(0),this.x=Ar,this.y=Ot,this.matrix=_r,this.width=To(J),this.height=Ro(J),this.outputDestination=Ue,this.id="",this.objectNumber=-1};eu.prototype.restore=function(){Vt=this.page,J=this.currentPage,vt=this.pagesContext,De=this.pages,Ar=this.x,Ot=this.y,_r=this.matrix,$a(J,this.width),Wd(J,this.height),Ue=this.outputDestination};var cp=function(E,H,oe,pe,Ae){Ts.push(new eu),Vt=J=0,De=[],Ar=E,Ot=H,_r=Ae,Od([oe,pe])},ga=function(E){if(Ls[E])Ts.pop().restore();else{var H=new eu,oe="Xo"+(Object.keys(sr).length+1).toString(10);H.id=oe,Ls[E]=oe,sr[oe]=H,ln.publish("addFormObject",H),Ts.pop().restore()}};for(var tu in p.beginFormObject=function(E,H,oe,pe,Ae){return cp(E,H,oe,pe,Ae),this},p.endFormObject=function(E){return ga(E),this},p.doFormObject=function(E,H){var oe=sr[Ls[E]];return ce("q"),ce(H.toString()+" cm"),ce("/"+oe.id+" Do"),ce("Q"),this},p.getFormObject=function(E){var H=sr[Ls[E]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},p.save=function(E,H){return E=E||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(sh(Vc(fa()),E),typeof sh.unload=="function"&&St.setTimeout&&setTimeout(sh.unload,911),this):new Promise(function(oe,pe){try{var Ae=sh(Vc(fa()),E);typeof sh.unload=="function"&&St.setTimeout&&setTimeout(sh.unload,911),oe(Ae)}catch(je){pe(je.message)}})},bt.API)bt.API.hasOwnProperty(tu)&&(tu==="events"&&bt.API.events.length?function(E,H){var oe,pe,Ae;for(Ae=H.length-1;Ae!==-1;Ae--)oe=H[Ae][0],pe=H[Ae][1],E.subscribe.apply(E,[oe].concat(typeof pe=="function"?[pe]:pe))}(ln,bt.API.events):p[tu]=bt.API[tu]);var To=p.getPageWidth=function(E){return(vt[E=E||J].mediaBox.topRightX-vt[E].mediaBox.bottomLeftX)/Ge},$a=p.setPageWidth=function(E,H){vt[E].mediaBox.topRightX=H*Ge+vt[E].mediaBox.bottomLeftX},Ro=p.getPageHeight=function(E){return(vt[E=E||J].mediaBox.topRightY-vt[E].mediaBox.bottomLeftY)/Ge},Wd=p.setPageHeight=function(E,H){vt[E].mediaBox.topRightY=H*Ge+vt[E].mediaBox.bottomLeftY};return p.internal={pdfEscape:xi,getStyle:np,getFont:Im,getFontSize:fe,getCharSpace:Om,getTextColor:Mm,getLineHeight:ap,getLineHeightFactor:lp,getLineWidth:Jc,write:ft,getHorizontalCoordinate:za,getVerticalCoordinate:Bi,getCoordinateString:Fm,getVerticalCoordinateString:Ua,collections:{},newObject:Bt,newAdditionalObject:Sl,newObjectDeferred:Ht,newObjectDeferredBegin:ni,getFilters:Is,putStream:bi,events:ln,scaleFactor:Ge,pageSize:{getWidth:function(){return To(J)},setWidth:function(E){$a(J,E)},getHeight:function(){return Ro(J)},setHeight:function(E){Wd(J,E)}},encryptionOptions:d,encryption:Tr,getEncryptor:jm,output:Gc,getNumberOfPages:Al,pages:De,out:ce,f2:q,f3:R,getPageInfo:Bd,getPageInfoByObjId:_t,getCurrentPageInfo:Pm,getPDFVersion:x,Point:Zc,Rectangle:qd,Matrix:Ke,hasHotfix:tp},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return To(J)},set:function(E){$a(J,E)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ro(J)},set:function(E){Wd(J,E)},enumerable:!0,configurable:!0}),hn.call(p,ze),yt="F1",ep(i,t),ln.publish("initialized"),p}Ip.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Ip.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ip.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Ip.prototype.processOwnerPassword=function(n,e){return Tk(Lk(e).substr(0,5),n)},Ip.prototype.encryptor=function(n,e){var t=Lk(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Tk(t,r)}},O1.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||bn(n)!==bn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},bt.API={events:[]},bt.version="2.5.1";var ur=bt.API,kE=1,Kf=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cp=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pt=function(n){return n.toFixed(2)},wu=function(n){return n.toFixed(5)};ur.__acroform__={};var Ps=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},E4=function(n){return n*kE},qo=function(n){var e=new yF,t=ut.internal.getHeight(n)||0,r=ut.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Pt(r)),Number(Pt(t))],e},LJ=ur.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},TJ=ur.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},RJ=ur.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},yr=ur.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return RJ(n,e-1)},wr=ur.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return LJ(n,e-1)},br=ur.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return TJ(n,e-1)},IJ=ur.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],a=n[2],o=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=t(i+a)||0,l.upperRight_Y=r(s)||0,[Number(Pt(l.lowerLeft_X)),Number(Pt(l.lowerLeft_Y)),Number(Pt(l.upperRight_X)),Number(Pt(l.upperRight_Y))]},FJ=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Rk(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Pt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=qo(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},Rk=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(R){return R.split(`
`)}):i.map(function(R){return[R]});var s=t,a=ut.internal.getHeight(n)||0;a=a<0?-a:a;var o=ut.internal.getWidth(n)||0;o=o<0?-o:o;var l=function(R,F,$){if(R+1<i.length){var W=F+" "+i[R+1][0];return jw(W,n,$).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,f=jw("3",n,s).height,h=n.multiline?a-s:(a-f)/2,p=h+=2,y=0,x=0,_=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+jw(e,n,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",A=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var v=!1;if(i[S].length!==1&&_!==i[S].length-1){if((f+2)*(A+2)+2>a)continue e;w+=i[S][_],v=!0,x=S,S--}else{w=(w+=i[S][_]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var C=parseInt(S),j=l(C,w,s),T=S>=i.length-1;if(j&&!T){w+=" ",_=0;continue}if(j||T){if(T)x=C;else if(n.multiline&&(f+2)*(A+2)+2>a)continue e}else{if(!n.multiline||(f+2)*(A+2)+2>a)continue e;x=C}}for(var P="",z=y;z<=x;z++){var q=i[z];if(n.multiline){if(z===x){P+=q[_]+" ",_=(_+1)%q.length;continue}if(z===y){P+=q[q.length-1]+" ";continue}}P+=q[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,d=jw(P,n,s).width,n.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}e+=Pt(u)+" "+Pt(p)+` Td
`,e+="("+Kf(P)+`) Tj
`,e+=-Pt(u)+` 0 Td
`,p=-(s+2),d=0,y=v?x:x+1,A++,w=""}break}return r.text=e,r.fontSize=s,r},jw=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},MJ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},OJ=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},DJ=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),bn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},BJ=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(jo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(MJ)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");kE=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new wF,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&OJ(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=IJ(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ut.createDefaultAppearanceStream(o),bn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=FJ(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var y=p[a];typeof y=="function"&&(y=y.call(i,o)),f+="/"+a+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(i,o)),f+="/"+a+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&DJ(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},vF=ur.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(a){return a};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),bn(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Kf(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},FS=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Kf(r(n))+")"},ul=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ul.prototype.toString=function(){return this.objId+" 0 R"},ul.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ul.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:vF(i,this.objId,this.scope)}):i instanceof ul?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var yF=function(){ul.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ps(yF,ul);var wF=function(){ul.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Kf(t(n))+")"}},set:function(t){n=t}})};Ps(wF,ul);var jo=function n(){ul.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yr(e,3)},set:function(w){w?this.F=wr(e,3):this.F=br(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Mb)return;s="FieldObject"+n.FieldNum++}var w=function(A){return A};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Kf(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/kE:u},set:function(w){u=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Mb||this instanceof gd))return FS(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof zr?h:FS(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=this instanceof zr?w:w.substr(0,1)==="("?Cp(w.substr(1,w.length-2)):Cp(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr?Cp(h.substr(1,h.length-1)):h},set:function(w){w=w.toString(),h=this instanceof zr?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof zr?p:FS(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof zr?w:w.substr(0,1)==="("?Cp(w.substr(1,w.length-2)):Cp(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr?Cp(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof zr?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(w){w=!!w,x=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,1)},set:function(w){w?this.Ff=wr(this.Ff,1):this.Ff=br(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,2)},set:function(w){w?this.Ff=wr(this.Ff,2):this.Ff=br(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,3)},set:function(w){w?this.Ff=wr(this.Ff,3):this.Ff=br(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');_=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(_){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};Ps(jo,ul);var mf=function(){jo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return vF(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,18)},set:function(t){t?this.Ff=wr(this.Ff,18):this.Ff=br(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=wr(this.Ff,19):this.Ff=br(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,20)},set:function(t){t?(this.Ff=wr(this.Ff,20),e.sort()):this.Ff=br(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,22)},set:function(t){t?this.Ff=wr(this.Ff,22):this.Ff=br(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(t){t?this.Ff=wr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,27)},set:function(t){t?this.Ff=wr(this.Ff,27):this.Ff=br(this.Ff,27)}}),this.hasAppearanceStream=!1};Ps(mf,jo);var vf=function(){mf.call(this),this.fontName="helvetica",this.combo=!1};Ps(vf,mf);var yf=function(){vf.call(this),this.combo=!0};Ps(yf,vf);var n1=function(){yf.call(this),this.edit=!0};Ps(n1,yf);var zr=function(){jo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,15)},set:function(t){t?this.Ff=wr(this.Ff,15):this.Ff=br(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,16)},set:function(t){t?this.Ff=wr(this.Ff,16):this.Ff=br(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,17)},set:function(t){t?this.Ff=wr(this.Ff,17):this.Ff=br(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(t){t?this.Ff=wr(this.Ff,26):this.Ff=br(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Kf(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){bn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ps(zr,jo);var r1=function(){zr.call(this),this.pushButton=!0};Ps(r1,zr);var wf=function(){zr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ps(wf,zr);var Mb=function(){var n,e;jo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Kf(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){bn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ps(Mb,jo),wf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},wf.prototype.createOption=function(n){var e=new Mb;return e.Parent=this,e.optionName=n,this.Kids.push(e),zJ.call(this.scope,e),e};var i1=function(){zr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ut.CheckBox.createAppearanceStream()};Ps(i1,zr);var gd=function(){jo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,13)},set:function(e){e?this.Ff=wr(this.Ff,13):this.Ff=br(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,21)},set:function(e){e?this.Ff=wr(this.Ff,21):this.Ff=br(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(e){e?this.Ff=wr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,24)},set:function(e){e?this.Ff=wr(this.Ff,24):this.Ff=br(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,25)},set:function(e){e?this.Ff=wr(this.Ff,25):this.Ff=br(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(e){e?this.Ff=wr(this.Ff,26):this.Ff=br(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ps(gd,jo);var s1=function(){gd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,14)},set:function(n){n?this.Ff=wr(this.Ff,14):this.Ff=br(this.Ff,14)}}),this.password=!0};Ps(s1,gd);var ut={CheckBox:{createAppearanceStream:function(){return{N:{On:ut.CheckBox.YesNormal},D:{On:ut.CheckBox.YesPushDown,Off:ut.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=qo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=Rk(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Pt(ut.internal.getWidth(n))+" "+Pt(ut.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Pt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=qo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=ut.internal.getHeight(n),a=ut.internal.getWidth(n),o=Rk(n,n.caption);return i.push("1 g"),i.push("0 0 "+Pt(a)+" "+Pt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Pt(a-1)+" "+Pt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Pt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=qo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Pt(ut.internal.getWidth(n))+" "+Pt(ut.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:ut.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=ut.RadioButton.Circle.YesNormal,e.D[n]=ut.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=qo(n);e.scope=n.scope;var t=[],r=ut.internal.getWidth(n)<=ut.internal.getHeight(n)?ut.internal.getWidth(n)/4:ut.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=ut.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+wu(ut.internal.getWidth(n)/2)+" "+wu(ut.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=qo(n);e.scope=n.scope;var t=[],r=ut.internal.getWidth(n)<=ut.internal.getHeight(n)?ut.internal.getWidth(n)/4:ut.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ut.internal.Bezier_C).toFixed(5)),a=Number((r*ut.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+wu(ut.internal.getWidth(n)/2)+" "+wu(ut.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+wu(ut.internal.getWidth(n)/2)+" "+wu(ut.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=qo(n);e.scope=n.scope;var t=[],r=ut.internal.getWidth(n)<=ut.internal.getHeight(n)?ut.internal.getWidth(n)/4:ut.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ut.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+wu(ut.internal.getWidth(n)/2)+" "+wu(ut.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:ut.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=ut.RadioButton.Cross.YesNormal,e.D[n]=ut.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=qo(n);e.scope=n.scope;var t=[],r=ut.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Pt(ut.internal.getWidth(n)-2)+" "+Pt(ut.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Pt(r.x1.x)+" "+Pt(r.x1.y)+" m"),t.push(Pt(r.x2.x)+" "+Pt(r.x2.y)+" l"),t.push(Pt(r.x4.x)+" "+Pt(r.x4.y)+" m"),t.push(Pt(r.x3.x)+" "+Pt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=qo(n);e.scope=n.scope;var t=ut.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Pt(ut.internal.getWidth(n))+" "+Pt(ut.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Pt(ut.internal.getWidth(n)-2)+" "+Pt(ut.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Pt(t.x1.x)+" "+Pt(t.x1.y)+" m"),r.push(Pt(t.x2.x)+" "+Pt(t.x2.y)+" l"),r.push(Pt(t.x4.x)+" "+Pt(t.x4.y)+" m"),r.push(Pt(t.x3.x)+" "+Pt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=qo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Pt(ut.internal.getWidth(n))+" "+Pt(ut.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};ut.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=ut.internal.getWidth(n),t=ut.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},ut.internal.getWidth=function(n){var e=0;return bn(n)==="object"&&(e=E4(n.Rect[2])),e},ut.internal.getHeight=function(n){var e=0;return bn(n)==="object"&&(e=E4(n.Rect[3])),e};var zJ=ur.addField=function(n){if(BJ(this,n),!(n instanceof jo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ur.AcroFormChoiceField=mf,ur.AcroFormListBox=vf,ur.AcroFormComboBox=yf,ur.AcroFormEditBox=n1,ur.AcroFormButton=zr,ur.AcroFormPushButton=r1,ur.AcroFormRadioButton=wf,ur.AcroFormCheckBox=i1,ur.AcroFormTextField=gd,ur.AcroFormPasswordField=s1,ur.AcroFormAppearance=ut,ur.AcroForm={ChoiceField:mf,ListBox:vf,ComboBox:yf,EditBox:n1,Button:zr,PushButton:r1,RadioButton:wf,CheckBox:i1,TextField:gd,PasswordField:s1,Appearance:ut},bt.AcroForm={ChoiceField:mf,ListBox:vf,ComboBox:yf,EditBox:n1,Button:zr,PushButton:r1,RadioButton:wf,CheckBox:i1,TextField:gd,PasswordField:s1,Appearance:ut};var UJ=bt.AcroForm;function bF(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(R,F){var $,W,he,ne,X,K=e;if((F=F||e)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(j(R))for(X in t)for(he=t[X],$=0;$<he.length;$+=1){for(ne=!0,W=0;W<he[$].length;W+=1)if(he[$][W]!==void 0&&he[$][W]!==R[W]){ne=!1;break}if(ne===!0){K=X;break}}else for(X in t)for(he=t[X],$=0;$<he.length;$+=1){for(ne=!0,W=0;W<he[$].length;W+=1)if(he[$][W]!==void 0&&he[$][W]!==R.charCodeAt(W)){ne=!1;break}if(ne===!0){K=X;break}}return K===e&&F!==e&&(K=F),K},i=function R(F){for(var $=this.internal.write,W=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:F.width}),ne.push({key:"Height",value:F.height}),F.colorSpace===_.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===_.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var X="",K=0,ee=F.transparency.length;K<ee;K++)X+=F.transparency[K]+" "+F.transparency[K]+" ";ne.push({key:"Mask",value:"["+X+"]"})}F.sMask!==void 0&&ne.push({key:"SMask",value:F.objectId+1+" 0 R"});var de=F.filter!==void 0?["/"+F.filter]:void 0;if(W({data:F.data,additionalKeyValues:ne,alreadyAppliedFilters:de,objectId:F.objectId}),$("endobj"),"sMask"in F&&F.sMask!==void 0){var xe="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,M={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:xe,data:F.sMask};"filter"in F&&(M.filter=F.filter),R.call(this,M)}if(F.colorSpace===_.INDEXED){var J=this.internal.newObject();W({data:P(new Uint8Array(F.palette)),objectId:J}),$("endobj")}},s=function(){var R=this.internal.collections.addImage_images;for(var F in R)i.call(this,R[F])},a=function(){var R,F=this.internal.collections.addImage_images,$=this.internal.write;for(var W in F)$("/I"+(R=F[W]).index,R.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var R=this.internal.collections.addImage_images;return o.call(this),R},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(R){return typeof n["process"+R.toUpperCase()]=="function"},f=function(R){return bn(R)==="object"&&R.nodeType===1},h=function(R,F){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var $=""+R.getAttribute("src");if($.indexOf("data:image/")===0)return t1(unescape($).split("base64,").pop());var W=n.loadFile($,!0);if(W!==void 0)return W}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var he;switch(F){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;case"JPEG":case"JPG":default:he="image/jpeg"}return t1(R.toDataURL(he,1).split("base64,").pop())}},p=function(R){var F=this.internal.collections.addImage_images;if(F){for(var $ in F)if(R===F[$].alias)return F[$]}},y=function(R,F,$){return R||F||(R=-96,F=-96),R<0&&(R=-1*$.width*72/R/this.internal.scaleFactor),F<0&&(F=-1*$.height*72/F/this.internal.scaleFactor),R===0&&(R=F*$.width/$.height),F===0&&(F=R*$.height/$.width),[R,F]},x=function(R,F,$,W,he,ne){var X=y.call(this,$,W,he),K=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,de=l.call(this);if($=X[0],W=X[1],de[he.index]=he,ne){ne*=Math.PI/180;var xe=Math.cos(ne),M=Math.sin(ne),J=function(ae){return ae.toFixed(4)},B=[J(xe),J(M),J(-1*M),J(xe),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,K(R),ee(F+W),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([K($),"0","0",K(W),"0","0","cm"].join(" "))):this.internal.write([K($),"0","0",K(W),K(R),ee(F+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},_=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=n.__addimage__.sHashCode=function(R){var F,$,W=0;if(typeof R=="string")for($=R.length,F=0;F<$;F++)W=(W<<5)-W+R.charCodeAt(F),W|=0;else if(j(R))for($=R.byteLength/2,F=0;F<$;F++)W=(W<<5)-W+R[F],W|=0;return W},S=n.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var F=!0;return R.length===0&&(F=!1),R.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(F=!1),F},v=n.__addimage__.extractImageFromDataUrl=function(R){var F=(R=R||"").split("base64,"),$=null;if(F.length===2){var W=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(F[0]);Array.isArray(W)&&($={mimeType:W[1],charset:W[2],data:F[1]})}return $},C=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(R){return C()&&R instanceof ArrayBuffer};var j=n.__addimage__.isArrayBufferView=function(R){return C()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},T=n.__addimage__.binaryStringToUint8Array=function(R){for(var F=R.length,$=new Uint8Array(F),W=0;W<F;W++)$[W]=R.charCodeAt(W);return $},P=n.__addimage__.arrayBufferToBinaryString=function(R){for(var F="",$=j(R)?R:new Uint8Array(R),W=0;W<$.length;W+=8192)F+=String.fromCharCode.apply(null,$.subarray(W,W+8192));return F};n.addImage=function(){var R,F,$,W,he,ne,X,K,ee;if(typeof arguments[1]=="number"?(F=e,$=arguments[1],W=arguments[2],he=arguments[3],ne=arguments[4],X=arguments[5],K=arguments[6],ee=arguments[7]):(F=arguments[1],$=arguments[2],W=arguments[3],he=arguments[4],ne=arguments[5],X=arguments[6],K=arguments[7],ee=arguments[8]),bn(R=arguments[0])==="object"&&!f(R)&&"imageData"in R){var de=R;R=de.imageData,F=de.format||F||e,$=de.x||$||0,W=de.y||W||0,he=de.w||de.width||he,ne=de.h||de.height||ne,X=de.alias||X,K=de.compression||K,ee=de.rotation||de.angle||ee}var xe=this.internal.getFilters();if(K===void 0&&xe.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN($)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var M=z.call(this,R,F,X,K);return x.call(this,$,W,he,ne,M,ee),this};var z=function(R,F,$,W){var he,ne,X;if(typeof R=="string"&&r(R)===e){R=unescape(R);var K=q(R,!1);(K!==""||(K=n.loadFile(R,!0))!==void 0)&&(R=K)}if(f(R)&&(R=h(R,F)),F=r(R,F),!d(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((X=$)==null||X.length===0)&&($=function(ee){return typeof ee=="string"||j(ee)?A(ee):j(ee.data)?A(ee.data):null}(R)),(he=p.call(this,$))||(C()&&(R instanceof Uint8Array||F==="RGBA"||(ne=R,R=T(R))),he=this["process"+F.toUpperCase()](R,u.call(this),$,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in n.image_compression?ee:w.NONE}(W),ne)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},q=n.__addimage__.convertBase64ToBinaryString=function(R,F){var $;F=typeof F!="boolean"||F;var W,he="";if(typeof R=="string"){W=($=v(R))!==null?$.data:R;try{he=t1(W)}catch(ne){if(F)throw S(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return he};n.getImageProperties=function(R){var F,$,W="";if(f(R)&&(R=h(R)),typeof R=="string"&&r(R)===e&&((W=q(R,!1))===""&&(W=n.loadFile(R)||""),R=W),$=r(R),!d($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(!C()||R instanceof Uint8Array||(R=T(R)),!(F=this["process"+$.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=$,F}})(bt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};bt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){r=u[h];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(x.objId),A=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(A))+") >>",x.content=s;var S=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(x.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var v=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(y(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var j=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+j+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:u(r),w:l(t+i),h:u(r+s)},options:a,type:"link"})},n.textWithLink=function(t,r,i,s){var a,o,l=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(t,o).length;a=Math.ceil(u*d)}else o=l,a=u;return this.text(t,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,o,a,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(bt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=n.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&i.indexOf(x.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var u=n.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length==4},f=n.__arabicParser__.resolveLigatures=function(x){var _=0,w=t,A="",S=0;for(_=0;_<x.length;_+=1)w[x.charCodeAt(_)]!==void 0?(S++,typeof(w=w[x.charCodeAt(_)])=="number"&&(A+=String.fromCharCode(w),w=t,S=0),_===x.length-1&&(w=t,A+=x.charAt(_-(S-1)),_-=S-1,S=0)):(w=t,A+=x.charAt(_-S),_-=S,S=0);return A};n.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var h=n.__arabicParser__.getCorrectForm=function(x,_,w){return a(x)?s(x)===!1?-1:!u(x)||!a(_)&&!a(w)||!a(w)&&o(_)||o(x)&&!a(_)||o(x)&&l(_)||o(x)&&o(_)?0:d(x)&&a(_)&&!o(_)&&a(w)&&u(w)?3:o(x)||!a(w)?1:2:-1},p=function(x){var _=0,w=0,A=0,S="",v="",C="",j=(x=x||"").split("\\s+"),T=[];for(_=0;_<j.length;_+=1){for(T.push(""),w=0;w<j[_].length;w+=1)S=j[_][w],v=j[_][w-1],C=j[_][w+1],a(S)?(A=h(S,v,C),T[_]+=A!==-1?String.fromCharCode(e[S.charCodeAt(0)][A]):S):T[_]+=S;T[_]=f(T[_])}return T.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var x,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(_)){var A=0;for(w=[],A=0;A<_.length;A+=1)Array.isArray(_[A])?w.push([p(_[A][0]),_[A][1],_[A][2]]):w.push([p(_[A])]);x=w}else x=p(_);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};n.events.push(["preProcessText",y])}(bt.API),bt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(bt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(x){y=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,y=0,x=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,v){return S.concat(_.splitTextToSize(v,w))},[])):l=Array.isArray(l)?l:[l];for(var A=0;A<l.length;A++)p<(x=this.getStringUnitWidth(l[A],{font:f})*d)&&(p=x);return p!==0&&(y=l.length),{w:p/=h,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};n.table=function(l,u,d,f,h){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,y,x,_,w=[],A=[],S=[],v={},C={},j=[],T=[],P=(h=h||{}).autoSize||!1,z=h.printHeaders!==!1,q=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,R=h.margins||Object.assign({width:this.getPageWidth()},e),F=typeof h.padding=="number"?h.padding:3,$=h.headerBackgroundColor||"#c8c8c8",W=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=W,this.setFontSize(q),f==null)A=w=Object.keys(d[0]),S=w.map(function(){return"left"});else if(Array.isArray(f)&&bn(f[0])==="object")for(w=f.map(function(de){return de.name}),A=f.map(function(de){return de.prompt||de.name||""}),S=f.map(function(de){return de.align||"left"}),p=0;p<f.length;p+=1)C[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(A=w=f,S=w.map(function(){return"left"}));if(P||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<w.length;p+=1){for(v[_=w[p]]=d.map(function(de){return de[_]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(A[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=v[_],this.setFont(void 0,"normal"),x=0;x<y.length;x+=1)j.push(this.getTextDimensions(y[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[_]=Math.max.apply(null,j)+F+F,j=[]}if(z){var he={};for(p=0;p<w.length;p+=1)he[w[p]]={},he[w[p]].text=A[p],he[w[p]].align=S[p];var ne=o.call(this,he,C);T=w.map(function(de){return new s(l,u,C[de],ne,he[de].text,void 0,he[de].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var X=f.reduce(function(de,xe){return de[xe.name]=xe.align,de},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var K=o.call(this,d[p],C);for(x=0;x<w.length;x+=1){var ee=d[p][w[x]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:x,data:ee},this),a.call(this,new s(l,u,C[w[x]],K,ee,p+2,X[w[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var y=l[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,y){return Math.max(p,y)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(y)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}}(bt.API);var xF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},SF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ik=bF(SF),AF=[100,200,300,400,500,600,700,800,900],HJ=bF(AF);function Fk(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return xF[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof Ik[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function N4(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var $J={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},j4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function P4(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function qJ(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},$J,t.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=Fk(e[o])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){a=n[s.family];break}if(!(a=a||n[r]))throw new Error("Could not find a font-family for the rule '"+P4(s)+"' and default family '"+r+"'.");if(a=function(l,u){if(u[l])return u[l];var d=Ik[l],f=d<=Ik.normal?-1:1,h=N4(u,SF,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(s.stretch,a),a=function(l,u){if(u[l])return u[l];for(var d=xF[l],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=HJ[l],f=N4(u,AF,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+P4(s)+"'.");return a}function L4(n){return n.trimLeft()}function WJ(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function VJ(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Pw,T4,R4,MS=["times"];(function(n){var e,t,r,i,s,a,o,l,u,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new a,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new a,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=M;Object.defineProperty(this,"pdf",{get:function(){return J}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(Ce){B=!!Ce}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(Ce){ae=!!Ce}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(Ce){isNaN(Ce)||(le=Ce)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Ce){isNaN(Ce)||(ge=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ce){var ce;typeof Ce=="number"?ce=[Ce,Ce,Ce,Ce]:((ce=new Array(4))[0]=Ce[0],ce[1]=Ce.length>=2?Ce[1]:ce[0],ce[2]=Ce.length>=3?Ce[2]:ce[0],ce[3]=Ce.length>=4?Ce[3]:ce[1]),u.margin=ce}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Ce){we=Ce}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(Ce){Se=Ce}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(Ce){Le=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ce){Ce instanceof d&&(u=Ce)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ce){u.path=Ce}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Ce){De=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var ce;ce=h(Ce),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var ce=h(Ce);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var Ve=null;function Ue(Ce,ce){if(Ve===null){var ft=function(Je){var ze=[];return Object.keys(Je).forEach(function(qe){Je[qe].forEach(function(Me){var fe=null;switch(Me){case"bold":fe={family:qe,weight:"bold"};break;case"italic":fe={family:qe,style:"italic"};break;case"bolditalic":fe={family:qe,weight:"bold",style:"italic"};break;case"":case"normal":fe={family:qe}}fe!==null&&(fe.ref={name:qe,style:Me},ze.push(fe))})}),ze}(Ce.getFontList());Ve=function(Je){for(var ze={},qe=0;qe<Je.length;++qe){var Me=Fk(Je[qe]),fe=Me.family,Te=Me.stretch,Oe=Me.style,He=Me.weight;ze[fe]=ze[fe]||{},ze[fe][Te]=ze[fe][Te]||{},ze[fe][Te][Oe]=ze[fe][Te][Oe]||{},ze[fe][Te][Oe][He]=Me}return ze}(ft.concat(ce))}return Ve}var Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(Ce){Ve=null,Ze=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var ce;if(this.ctx.font=Ce,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var ft=ce[1],Je=(ce[2],ce[3]),ze=ce[4],qe=(ce[5],ce[6]),Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(Me==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var fe=function(nt){var yt,Ge,Ar=[],Ot=nt.trim();if(Ot==="")return MS;if(Ot in j4)return[j4[Ot]];for(;Ot!=="";){switch(Ge=null,yt=(Ot=L4(Ot)).charAt(0)){case'"':case"'":Ge=WJ(Ot.substring(1),yt);break;default:Ge=VJ(Ot)}if(Ge===null||(Ar.push(Ge[0]),(Ot=L4(Ge[1]))!==""&&Ot.charAt(0)!==","))return MS;Ot=Ot.replace(/^,/,"")}return Ar}(qe);if(this.fontFaces){var Te=qJ(Ue(this.pdf,this.fontFaces),fe.map(function(nt){return{family:nt,stretch:"normal",weight:Je,style:ft}}));this.pdf.setFont(Te.ref.name,Te.ref.style)}else{var Oe="";(Je==="bold"||parseInt(Je,10)>=700||ft==="bold")&&(Oe="bold"),ft==="italic"&&(Oe+="italic"),Oe.length===0&&(Oe="normal");for(var He="",Ye={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tt=0;tt<fe.length;tt++){if(this.pdf.internal.getFont(fe[tt],Oe,{noFallback:!0,disableWarning:!0})!==void 0){He=fe[tt];break}if(Oe==="bolditalic"&&this.pdf.internal.getFont(fe[tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=fe[tt],Oe="bold";else if(this.pdf.internal.getFont(fe[tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=fe[tt],Oe="normal";break}}if(He===""){for(var pt=0;pt<fe.length;pt++)if(Ye[fe[pt]]){He=Ye[fe[pt]];break}}He=He===""?"Times":He,this.pdf.setFont(He,Oe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){v.call(this,"fill",!1)},f.prototype.stroke=function(){v.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,J){if(isNaN(M)||isNaN(J))throw Rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new a(M,J));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new a(M,J)},f.prototype.closePath=function(){var M=new a(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&bn(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){M=new a(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(M.x,M.y)},f.prototype.lineTo=function(M,J){if(isNaN(M)||isNaN(J))throw Rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new a(M,J));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new a(B.x,B.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,J,B,ae){if(isNaN(B)||isNaN(ae)||isNaN(M)||isNaN(J))throw Rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new a(B,ae)),ge=this.ctx.transform.applyToPoint(new a(M,J));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:le.x,y:le.y}),this.ctx.lastPoint=new a(le.x,le.y)},f.prototype.bezierCurveTo=function(M,J,B,ae,le,ge){if(isNaN(le)||isNaN(ge)||isNaN(M)||isNaN(J)||isNaN(B)||isNaN(ae))throw Rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new a(le,ge)),Se=this.ctx.transform.applyToPoint(new a(M,J)),Le=this.ctx.transform.applyToPoint(new a(B,ae));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:Le.x,y2:Le.y,x:we.x,y:we.y}),this.ctx.lastPoint=new a(we.x,we.y)},f.prototype.arc=function(M,J,B,ae,le,ge){if(isNaN(M)||isNaN(J)||isNaN(B)||isNaN(ae)||isNaN(le))throw Rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new a(M,J));M=we.x,J=we.y;var Se=this.ctx.transform.applyToPoint(new a(0,B)),Le=this.ctx.transform.applyToPoint(new a(0,0));B=Math.sqrt(Math.pow(Se.x-Le.x,2)+Math.pow(Se.y-Le.y,2))}Math.abs(le-ae)>=2*Math.PI&&(ae=0,le=2*Math.PI),this.path.push({type:"arc",x:M,y:J,radius:B,startAngle:ae,endAngle:le,counterclockwise:ge})},f.prototype.arcTo=function(M,J,B,ae,le){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,J,B,ae){if(isNaN(M)||isNaN(J)||isNaN(B)||isNaN(ae))throw Rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,J),this.lineTo(M+B,J),this.lineTo(M+B,J+ae),this.lineTo(M,J+ae),this.lineTo(M,J),this.lineTo(M+B,J),this.lineTo(M,J)},f.prototype.fillRect=function(M,J,B,ae){if(isNaN(M)||isNaN(J)||isNaN(B)||isNaN(ae))throw Rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,J,B,ae),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},f.prototype.strokeRect=function(M,J,B,ae){if(isNaN(M)||isNaN(J)||isNaN(B)||isNaN(ae))throw Rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(M,J,B,ae),this.stroke())},f.prototype.clearRect=function(M,J,B,ae){if(isNaN(M)||isNaN(J)||isNaN(B)||isNaN(ae))throw Rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,J,B,ae))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(J),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(M){var J,B,ae,le;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))J=0,B=0,ae=0,le=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ge!==null)J=parseInt(ge[1]),B=parseInt(ge[2]),ae=parseInt(ge[3]),le=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)J=parseInt(ge[1]),B=parseInt(ge[2]),ae=parseInt(ge[3]),le=parseFloat(ge[4]);else{if(le=1,typeof M=="string"&&M.charAt(0)!=="#"){var we=new pF(M);M=we.ok?we.toHex():"#000000"}M.length===4?(J=M.substring(1,2),J+=J,B=M.substring(2,3),B+=B,ae=M.substring(3,4),ae+=ae):(J=M.substring(1,3),B=M.substring(3,5),ae=M.substring(5,7)),J=parseInt(J,16),B=parseInt(B,16),ae=parseInt(ae,16)}}return{r:J,g:B,b:ae,a:le,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,J,B,ae){if(isNaN(J)||isNaN(B)||typeof M!="string")throw Rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!p.call(this)){var le=K(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;F.call(this,{text:M,x:J,y:B,scale:ge,angle:le,align:this.textAlign,maxWidth:ae})}},f.prototype.strokeText=function(M,J,B,ae){if(isNaN(J)||isNaN(B)||typeof M!="string")throw Rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ae=isNaN(ae)?void 0:ae;var le=K(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;F.call(this,{text:M,x:J,y:B,scale:ge,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:ae})}},f.prototype.measureText=function(M){if(typeof M!="string")throw Rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,B=this.pdf.internal.scaleFactor,ae=J.internal.getFontSize(),le=J.getStringUnitWidth(M)*ae/J.internal.scaleFactor,ge=function(we){var Se=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this};return new ge({width:le*=Math.round(96*B/72*1e4)/1e4})},f.prototype.scale=function(M,J){if(isNaN(M)||isNaN(J))throw Rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new l(M,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.rotate=function(M){if(isNaN(M))throw Rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.translate=function(M,J){if(isNaN(M)||isNaN(J))throw Rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new l(1,0,0,1,M,J);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.transform=function(M,J,B,ae,le,ge){if(isNaN(M)||isNaN(J)||isNaN(B)||isNaN(ae)||isNaN(le)||isNaN(ge))throw Rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new l(M,J,B,ae,le,ge);this.ctx.transform=this.ctx.transform.multiply(we)},f.prototype.setTransform=function(M,J,B,ae,le,ge){M=isNaN(M)?1:M,J=isNaN(J)?0:J,B=isNaN(B)?0:B,ae=isNaN(ae)?1:ae,le=isNaN(le)?0:le,ge=isNaN(ge)?0:ge,this.ctx.transform=new l(M,J,B,ae,le,ge)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,J,B,ae,le,ge,we,Se,Le){var De=this.pdf.getImageProperties(M),Ve=1,Ue=1,Ze=1,Ce=1;ae!==void 0&&Se!==void 0&&(Ze=Se/ae,Ce=Le/le,Ve=De.width/ae*Se/ae,Ue=De.height/le*Le/le),ge===void 0&&(ge=J,we=B,J=0,B=0),ae!==void 0&&Se===void 0&&(Se=ae,Le=le),ae===void 0&&Se===void 0&&(Se=De.width,Le=De.height);for(var ce,ft=this.ctx.transform.decompose(),Je=K(ft.rotate.shx),ze=new l,qe=(ze=(ze=(ze=ze.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new o(ge-J*Ze,we-B*Ce,ae*Ve,le*Ue)),Me=_.call(this,qe),fe=[],Te=0;Te<Me.length;Te+=1)fe.indexOf(Me[Te])===-1&&fe.push(Me[Te]);if(S(fe),this.autoPaging)for(var Oe=fe[0],He=fe[fe.length-1],Ye=Oe;Ye<He+1;Ye++){this.pdf.setPage(Ye);var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=Ye===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Ye===1?0:nt+(Ye-2)*yt;if(this.ctx.clip_path.length!==0){var Ar=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(ce,this.posX+this.margin[3],-Ge+pt+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Ar}var Ot=JSON.parse(JSON.stringify(qe));Ot=A([Ot],this.posX+this.margin[3],-Ge+pt+this.ctx.prevPageLastElemOffset)[0];var _r=(Ye>Oe||Ye<He)&&x.call(this);_r&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,yt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Ot.x,Ot.y,Ot.w,Ot.h,null,null,Je),_r&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Je)};var _=function(M,J,B){var ae=[];J=J||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ae.push(Math.floor((M.y+le)/B)+1);break;case"arc":ae.push(Math.floor((M.y+le-M.radius)/B)+1),ae.push(Math.floor((M.y+le+M.radius)/B)+1);break;case"qct":var ge=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ae.push(Math.floor((ge.y+le)/B)+1),ae.push(Math.floor((ge.y+ge.h+le)/B)+1);break;case"bct":var we=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ae.push(Math.floor((we.y+le)/B)+1),ae.push(Math.floor((we.y+we.h+le)/B)+1);break;case"rect":ae.push(Math.floor((M.y+le)/B)+1),ae.push(Math.floor((M.y+M.h+le)/B)+1)}for(var Se=0;Se<ae.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<ae[Se];)w.call(this);return ae},w=function(){var M=this.fillStyle,J=this.strokeStyle,B=this.font,ae=this.lineCap,le=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=J,this.font=B,this.lineCap=ae,this.lineWidth=le,this.lineJoin=ge},A=function(M,J,B){for(var ae=0;ae<M.length;ae++)switch(M[ae].type){case"bct":M[ae].x2+=J,M[ae].y2+=B;case"qct":M[ae].x1+=J,M[ae].y1+=B;case"mt":case"lt":case"arc":default:M[ae].x+=J,M[ae].y+=B}return M},S=function(M){return M.sort(function(J,B){return J-B})},v=function(M,J){for(var B,ae,le=this.fillStyle,ge=this.strokeStyle,we=this.lineCap,Se=this.lineWidth,Le=Math.abs(Se*this.ctx.transform.scaleX),De=this.lineJoin,Ve=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),Ze=[],Ce=0;Ce<Ue.length;Ce++)if(Ue[Ce].x!==void 0)for(var ce=_.call(this,Ue[Ce]),ft=0;ft<ce.length;ft+=1)Ze.indexOf(ce[ft])===-1&&Ze.push(ce[ft]);for(var Je=0;Je<Ze.length;Je++)for(;this.pdf.internal.getNumberOfPages()<Ze[Je];)w.call(this);if(S(Ze),this.autoPaging)for(var ze=Ze[0],qe=Ze[Ze.length-1],Me=ze;Me<qe+1;Me++){this.pdf.setPage(Me),this.fillStyle=le,this.strokeStyle=ge,this.lineCap=we,this.lineWidth=Le,this.lineJoin=De;var fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=Me===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=Me===1?0:Oe+(Me-2)*He;if(this.ctx.clip_path.length!==0){var tt=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(B,this.posX+this.margin[3],-Ye+Te+this.ctx.prevPageLastElemOffset),C.call(this,M,!0),this.path=tt}if(ae=JSON.parse(JSON.stringify(Ve)),this.path=A(ae,this.posX+this.margin[3],-Ye+Te+this.ctx.prevPageLastElemOffset),J===!1||Me===0){var pt=(Me>ze||Me<qe)&&x.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],fe,He,null).clip().discardPath()),C.call(this,M,J),pt&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}else this.lineWidth=Le,C.call(this,M,J),this.lineWidth=Se;this.path=Ve},C=function(M,J){if((M!=="stroke"||J||!y.call(this))&&(M==="stroke"||J||!p.call(this))){for(var B,ae,le=[],ge=this.path,we=0;we<ge.length;we++){var Se=ge[we];switch(Se.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Se,deltas:[],abs:[]});break;case"lt":var Le=le.length;if(ge[we-1]&&!isNaN(ge[we-1].x)&&(B=[Se.x-ge[we-1].x,Se.y-ge[we-1].y],Le>0)){for(;Le>=0;Le--)if(le[Le-1].close!==!0&&le[Le-1].begin!==!0){le[Le-1].deltas.push(B),le[Le-1].abs.push(Se);break}}break;case"bct":B=[Se.x1-ge[we-1].x,Se.y1-ge[we-1].y,Se.x2-ge[we-1].x,Se.y2-ge[we-1].y,Se.x-ge[we-1].x,Se.y-ge[we-1].y],le[le.length-1].deltas.push(B);break;case"qct":var De=ge[we-1].x+2/3*(Se.x1-ge[we-1].x),Ve=ge[we-1].y+2/3*(Se.y1-ge[we-1].y),Ue=Se.x+2/3*(Se.x1-Se.x),Ze=Se.y+2/3*(Se.y1-Se.y),Ce=Se.x,ce=Se.y;B=[De-ge[we-1].x,Ve-ge[we-1].y,Ue-ge[we-1].x,Ze-ge[we-1].y,Ce-ge[we-1].x,ce-ge[we-1].y],le[le.length-1].deltas.push(B);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Se)}}ae=J?null:M==="stroke"?"stroke":"fill";for(var ft=!1,Je=0;Je<le.length;Je++)if(le[Je].arc)for(var ze=le[Je].abs,qe=0;qe<ze.length;qe++){var Me=ze[qe];Me.type==="arc"?P.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,J,!ft):$.call(this,Me.x,Me.y),ft=!0}else if(le[Je].close===!0)this.pdf.internal.out("h"),ft=!1;else if(le[Je].begin!==!0){var fe=le[Je].start.x,Te=le[Je].start.y;W.call(this,le[Je].deltas,fe,Te),ft=!0}ae&&z.call(this,ae),J&&q.call(this)}},j=function(M){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-B;case"top":return M+J-B;case"hanging":return M+J-2*B;case"middle":return M+J/2-B;case"ideographic":return M;case"alphabetic":default:return M}},T=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(J,B){this.colorStops.push([J,B])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(M,J,B,ae,le,ge,we,Se,Le){for(var De=ne.call(this,B,ae,le,ge),Ve=0;Ve<De.length;Ve++){var Ue=De[Ve];Ve===0&&(Le?R.call(this,Ue.x1+M,Ue.y1+J):$.call(this,Ue.x1+M,Ue.y1+J)),he.call(this,M,J,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}Se?q.call(this):z.call(this,we)},z=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(M,J){this.pdf.internal.out(t(M)+" "+r(J)+" m")},F=function(M){var J;switch(M.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var B=this.pdf.getTextDimensions(M.text),ae=j.call(this,M.y),le=T.call(this,ae)-B.h,ge=this.ctx.transform.applyToPoint(new a(M.x,ae)),we=this.ctx.transform.decompose(),Se=new l;Se=(Se=(Se=Se.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var Le,De,Ve,Ue=this.ctx.transform.applyToRectangle(new o(M.x,ae,B.w,B.h)),Ze=Se.applyToRectangle(new o(M.x,le,B.w,B.h)),Ce=_.call(this,Ze),ce=[],ft=0;ft<Ce.length;ft+=1)ce.indexOf(Ce[ft])===-1&&ce.push(Ce[ft]);if(S(ce),this.autoPaging)for(var Je=ce[0],ze=ce[ce.length-1],qe=Je;qe<ze+1;qe++){this.pdf.setPage(qe);var Me=qe===1?this.posY+this.margin[0]:this.margin[0],fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[2],Oe=Te-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],Ye=He-this.margin[3],tt=qe===1?0:fe+(qe-2)*Oe;if(this.ctx.clip_path.length!==0){var pt=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(Le,this.posX+this.margin[3],-1*tt+Me),C.call(this,"fill",!0),this.path=pt}var nt=A([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-tt+Me+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*M.scale),Ve=this.lineWidth,this.lineWidth=Ve*M.scale);var yt=this.autoPaging!=="text";if(yt||nt.y+nt.h<=Te){if(yt||nt.y>=Me&&nt.x<=He){var Ge=yt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||He-nt.x)[0],Ar=A([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-tt+Me+this.ctx.prevPageLastElemOffset)[0],Ot=yt&&(qe>Je||qe<ze)&&x.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,Oe,null).clip().discardPath()),this.pdf.text(Ge,Ar.x,Ar.y,{angle:M.angle,align:J,renderingMode:M.renderingMode}),Ot&&this.pdf.restoreGraphicsState()}}else nt.y<Te&&(this.ctx.prevPageLastElemOffset+=Te-nt.y);M.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Ve)}else M.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*M.scale),Ve=this.lineWidth,this.lineWidth=Ve*M.scale),this.pdf.text(M.text,ge.x+this.posX,ge.y+this.posY,{angle:M.angle,align:J,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Ve)},$=function(M,J,B,ae){B=B||0,ae=ae||0,this.pdf.internal.out(t(M+B)+" "+r(J+ae)+" l")},W=function(M,J,B){return this.pdf.lines(M,J,B,null,null)},he=function(M,J,B,ae,le,ge,we,Se){this.pdf.internal.out([e(i(B+M)),e(s(ae+J)),e(i(le+M)),e(s(ge+J)),e(i(we+M)),e(s(Se+J)),"c"].join(" "))},ne=function(M,J,B,ae){for(var le=2*Math.PI,ge=Math.PI/2;J>B;)J-=le;var we=Math.abs(B-J);we<le&&ae&&(we=le-we);for(var Se=[],Le=ae?-1:1,De=J;we>1e-5;){var Ve=De+Le*Math.min(we,ge);Se.push(X.call(this,M,De,Ve)),we-=Math.abs(Ve-De),De=Ve}return Se},X=function(M,J,B){var ae=(B-J)/2,le=M*Math.cos(ae),ge=M*Math.sin(ae),we=le,Se=-ge,Le=we*we+Se*Se,De=Le+we*le+Se*ge,Ve=4/3*(Math.sqrt(2*Le*De)-De)/(we*ge-Se*le),Ue=we-Ve*Se,Ze=Se+Ve*we,Ce=Ue,ce=-Ze,ft=ae+J,Je=Math.cos(ft),ze=Math.sin(ft);return{x1:M*Math.cos(J),y1:M*Math.sin(J),x2:Ue*Je-Ze*ze,y2:Ue*ze+Ze*Je,x3:Ce*Je-ce*ze,y3:Ce*ze+ce*Je,x4:M*Math.cos(B),y4:M*Math.sin(B)}},K=function(M){return 180*M/Math.PI},ee=function(M,J,B,ae,le,ge){var we=M+.5*(B-M),Se=J+.5*(ae-J),Le=le+.5*(B-le),De=ge+.5*(ae-ge),Ve=Math.min(M,le,we,Le),Ue=Math.max(M,le,we,Le),Ze=Math.min(J,ge,Se,De),Ce=Math.max(J,ge,Se,De);return new o(Ve,Ze,Ue-Ve,Ce-Ze)},de=function(M,J,B,ae,le,ge,we,Se){var Le,De,Ve,Ue,Ze,Ce,ce,ft,Je,ze,qe,Me,fe,Te,Oe=B-M,He=ae-J,Ye=le-B,tt=ge-ae,pt=we-le,nt=Se-ge;for(De=0;De<41;De++)Je=(ce=(Ve=M+(Le=De/40)*Oe)+Le*((Ze=B+Le*Ye)-Ve))+Le*(Ze+Le*(le+Le*pt-Ze)-ce),ze=(ft=(Ue=J+Le*He)+Le*((Ce=ae+Le*tt)-Ue))+Le*(Ce+Le*(ge+Le*nt-Ce)-ft),De==0?(qe=Je,Me=ze,fe=Je,Te=ze):(qe=Math.min(qe,Je),Me=Math.min(Me,ze),fe=Math.max(fe,Je),Te=Math.max(Te,ze));return new o(Math.round(qe),Math.round(Me),Math.round(fe-qe),Math.round(Te-Me))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,J,B=(M=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:J}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(bt.API),function(n){var e=function(s){var a,o,l,u,d,f,h,p,y,x;for(o=[],l=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(x=d%85))/85)-(y=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,o.push(f+33,h+33,p+33,y+33,x+33)):o.push(122);return function(_,w){for(var A=w;A>0;A--)_.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},t=function(s){var a,o,l,u,d,f=String,h="length",p=255,y="charCodeAt",x="slice",_="replace";for(s[x](-2),s=s[x](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),l=[],u=0,d=(s+=a="uuuuu"[x](s[h]%5||5))[h];d>u;u+=5)o=52200625*(s[y](u)-33)+614125*(s[y](u+1)-33)+7225*(s[y](u+2)-33)+85*(s[y](u+3)-33)+(s[y](u+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(w,A){for(var S=A;S>0;S--)w.pop()}(l,a[h]),f.fromCharCode.apply(f,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=jk(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};n.processDataByFilters=function(s,a){var o=0,l=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(bt.API),function(n){n.loadFile=function(e,t,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,d){var f=new XMLHttpRequest,h=0,p=function(y){var x=y.length,_=[],w=String.fromCharCode;for(h=0;h<x;h+=1)_.push(w(255&y.charCodeAt(h)));return _.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(i,s,a)}catch{}return o}(e,t,r)},n.loadImageFile=n.loadFile}(bt.API),function(n){function e(){return(St.html2canvas?Promise.resolve(St.html2canvas):hh(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(St.DOMPurify?Promise.resolve(St.DOMPurify):hh(()=>import("./purify.es-DGIRlouP.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=bn(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],y=p.src.find(function(x){return x.format==="truetype"});y&&l.addFont(y.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,u){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,d).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(u,a,o);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,bt.getPageSize=function(a,o,l){if(bn(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var p,y=0,x=0;if(h.hasOwnProperty(f))y=h[f][1]/d,x=h[f][0]/d;else try{y=l[1],x=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",x>y&&(p=x,x=y,y=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>x&&(p=x,x=y,y=p)}return{width:x,height:y,unit:o,k:d,orientation:a}},n.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Fk):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(bt.API),bt.API.addJS=function(n){return R4=n,this.internal.events.subscribe("postPutResources",function(){Pw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),T4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+R4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Pw!==void 0&&T4!==void 0&&this.internal.out("/Names <</JavaScript "+Pw+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=t.internal.newObject();d.push(f);var h=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<d.length;s++)t.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(bt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,a,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,x={width:0,height:0,numcomponents:1},_=4;_<y;_+=2){if(_+=p,e.indexOf(f.charCodeAt(_+1))!==-1){h=256*f.charCodeAt(_+5)+f.charCodeAt(_+6),x={width:256*f.charCodeAt(_+7)+f.charCodeAt(_+8),height:h,numcomponents:f.charCodeAt(_+9)};break}p=256*f.charCodeAt(_+2)+f.charCodeAt(_+3)}return x}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:i}}return d}}(bt.API);var Ep,Lw,I4,F4,M4,GJ=function(){var n,e,t;function r(s){var a,o,l,u,d,f,h,p,y,x,_,w,A,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(a=this.readUInt32(),y=(function(){var v,C;for(C=[],v=0;v<4;++v)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,a-=4),s=(f!=null?f.data:void 0)||this.imgData,w=0;0<=a?w<a:w>a;0<=a?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((x=l-this.transparency.indexed.length)>0)for(A=0;0<=x?A<x:A>x;0<=x?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":h=(_=this.read(a)).indexOf(0),p=String.fromCharCode.apply(String,_.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,_.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(f,h,p,y){var x,_,w,A,S,v,C,j,T,P,z,q,R,F,$,W,he,ne,X,K,ee,de=Math.ceil((u.width-f)/p),xe=Math.ceil((u.height-h)/y),M=u.width==de&&u.height==xe;for(F=a*de,q=M?o:new Uint8Array(F*xe),v=s.length,R=0,_=0;R<xe&&l<v;){switch(s[l++]){case 0:for(A=he=0;he<F;A=he+=1)q[_++]=s[l++];break;case 1:for(A=ne=0;ne<F;A=ne+=1)x=s[l++],S=A<a?0:q[_-a],q[_++]=(x+S)%256;break;case 2:for(A=X=0;X<F;A=X+=1)x=s[l++],w=(A-A%a)/a,$=R&&q[(R-1)*F+w*a+A%a],q[_++]=($+x)%256;break;case 3:for(A=K=0;K<F;A=K+=1)x=s[l++],w=(A-A%a)/a,S=A<a?0:q[_-a],$=R&&q[(R-1)*F+w*a+A%a],q[_++]=(x+Math.floor((S+$)/2))%256;break;case 4:for(A=ee=0;ee<F;A=ee+=1)x=s[l++],w=(A-A%a)/a,S=A<a?0:q[_-a],R===0?$=W=0:($=q[(R-1)*F+w*a+A%a],W=w&&q[(R-1)*F+(w-1)*a+A%a]),C=S+$-W,j=Math.abs(C-S),P=Math.abs(C-$),z=Math.abs(C-W),T=j<=P&&j<=z?S:P<=z?$:W,q[_++]=(x+T)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!M){var J=((h+R*y)*u.width+f)*a,B=R*F;for(A=0;A<de;A+=1){for(var ae=0;ae<a;ae+=1)o[J++]=q[B++];J+=(p-1)*a}}R++}}return s=CJ(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,u,d,f,h,p;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),l=0,s=0,a=f=0,h=o.length;f<h;a=f+=3)u[l++]=o[a],u[l++]=o[a+1],u[l++]=o[a+2],u[l++]=(p=d[s++])!=null?p:255;return u},r.prototype.copyToImageData=function(s,a){var o,l,u,d,f,h,p,y,x,_,w;if(l=this.colors,x=null,o=this.hasAlphaChannel,this.palette.length&&(x=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,o=!0),y=(u=s.data||s).length,f=x||a,d=h=0,l===1)for(;d<y;)p=x?4*a[d/4]:h,_=f[p++],u[d++]=_,u[d++]=_,u[d++]=_,u[d++]=o?f[p++]:255,h=p;else for(;d<y;)p=x?4*a[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=o?f[p++]:255,h=p},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(St)==="[object Window]"){try{e=St.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var a;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,u,d,f,h,p;if(this.animation){for(p=[],o=d=0,f=(h=this.animation.frames).length;d<f;o=++d)a=h[o],l=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,u),a.imageData=l,p.push(a.image=n(l));return p}},r.prototype.renderFrame=function(s,a){var o,l,u;return o=(l=this.animation.frames)[a],u=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,u,d,f,h=this;return o=0,f=this.animation,u=f.numFrames,l=f.frames,d=f.numPlays,(a=function(){var p,y;if(p=o++%u,y=l[p],h.renderFrame(s,p),u>1&&o/u<d)return h.animation._timeout=setTimeout(a,y.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function KJ(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,a=1<<(7&i)+1;n[e++],n[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,d=[],f=0,h=null,p=0,y=null;for(this.width=t,this.height=r;u&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,y=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=n[e++];f=n[e++]|n[e++]<<8,h=n[e++],!(1&x)&&(h=null),p=x>>2&7,e++;break;case 254:for(;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var _=n[e++]|n[e++]<<8,w=n[e++]|n[e++]<<8,A=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,v=n[e++],C=v>>6&1,j=1<<(7&v)+1,T=o,P=l,z=!1;v>>7&&(z=!0,T=e,P=j,e+=3*j);var q=e;for(e++;;){var R;if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}d.push({x:_,y:w,width:A,height:S,has_local_palette:z,palette_offset:T,palette_size:P,data_offset:q,data_length:e-q,transparent_index:h,interlaced:!!C,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(F){if(F<0||F>=d.length)throw new Error("Frame index out of range.");return d[F]},this.decodeAndBlitFrameBGRA=function(F,$){var W=this.frameInfo(F),he=W.width*W.height,ne=new Uint8Array(he);O4(n,W.data_offset,ne,he);var X=W.palette_offset,K=W.transparent_index;K===null&&(K=256);var ee=W.width,de=t-ee,xe=ee,M=4*(W.y*t+W.x),J=4*((W.y+W.height)*t+W.x),B=M,ae=4*de;W.interlaced===!0&&(ae+=4*t*7);for(var le=8,ge=0,we=ne.length;ge<we;++ge){var Se=ne[ge];if(xe===0&&(xe=ee,(B+=ae)>=J&&(ae=4*de+4*t*(le-1),B=M+(ee+de)*(le<<1),le>>=1)),Se===K)B+=4;else{var Le=n[X+3*Se],De=n[X+3*Se+1],Ve=n[X+3*Se+2];$[B++]=Ve,$[B++]=De,$[B++]=Le,$[B++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(F,$){var W=this.frameInfo(F),he=W.width*W.height,ne=new Uint8Array(he);O4(n,W.data_offset,ne,he);var X=W.palette_offset,K=W.transparent_index;K===null&&(K=256);var ee=W.width,de=t-ee,xe=ee,M=4*(W.y*t+W.x),J=4*((W.y+W.height)*t+W.x),B=M,ae=4*de;W.interlaced===!0&&(ae+=4*t*7);for(var le=8,ge=0,we=ne.length;ge<we;++ge){var Se=ne[ge];if(xe===0&&(xe=ee,(B+=ae)>=J&&(ae=4*de+4*t*(le-1),B=M+(ee+de)*(le<<1),le>>=1)),Se===K)B+=4;else{var Le=n[X+3*Se],De=n[X+3*Se+1],Ve=n[X+3*Se+2];$[B++]=Le,$[B++]=De,$[B++]=Ve,$[B++]=255}--xe}}}function O4(n,e,t,r){for(var i=n[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,d=0,f=0,h=0,p=n[e++],y=new Int32Array(4096),x=null;;){for(;d<16&&p!==0;)f|=n[e++]<<d,d+=8,p===1?p=n[e++]:--p;if(d<l)break;var _=f&u;if(f>>=l,d-=l,_!==s){if(_===a)break;for(var w=_<o?_:x,A=0,S=w;S>s;)S=y[S]>>8,++A;var v=S;if(h+A+(w!==_?1:0)>r)return void Rn.log("Warning, gif stream longer than expected.");t[h++]=v;var C=h+=A;for(w!==_&&(t[h++]=v),S=w;A--;)S=y[S],t[--C]=255&S,S>>=8;x!==null&&o<4096&&(y[o++]=x<<8|v,o>=u+1&&l<12&&(++l,u=u<<1|1)),x=_}else o=a+1,u=(1<<(l=i+1))-1,x=null}return h!==r&&Rn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function OS(n){var e,t,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),y=new Array(64),x=[],_=0,w=7,A=new Array(64),S=new Array(64),v=new Array(64),C=new Array(256),j=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(M,J){for(var B=0,ae=0,le=new Array,ge=1;ge<=16;ge++){for(var we=1;we<=M[ge];we++)le[J[ae]]=[],le[J[ae]][0]=B,le[J[ae]][1]=ge,ae++,B++;B*=2}return le}function X(M){for(var J=M[0],B=M[1]-1;B>=0;)J&1<<B&&(_|=1<<w),B--,--w<0&&(_==255?(K(255),K(0)):K(_),w=7,_=0)}function K(M){x.push(M)}function ee(M){K(M>>8&255),K(255&M)}function de(M,J,B,ae,le){for(var ge,we=le[0],Se=le[240],Le=function(ze,qe){var Me,fe,Te,Oe,He,Ye,tt,pt,nt,yt,Ge=0;for(nt=0;nt<8;++nt){Me=ze[Ge],fe=ze[Ge+1],Te=ze[Ge+2],Oe=ze[Ge+3],He=ze[Ge+4],Ye=ze[Ge+5],tt=ze[Ge+6];var Ar=Me+(pt=ze[Ge+7]),Ot=Me-pt,_r=fe+tt,an=fe-tt,pn=Te+Ye,ts=Te-Ye,on=Oe+He,Fa=Oe-He,Mn=Ar+on,wi=Ar-on,Ma=_r+pn,Vt=_r-pn;ze[Ge]=Mn+Ma,ze[Ge+4]=Mn-Ma;var vt=.707106781*(Vt+wi);ze[Ge+2]=wi+vt,ze[Ge+6]=wi-vt;var ln=.382683433*((Mn=Fa+ts)-(Vt=an+Ot)),hr=.5411961*Mn+ln,sr=1.306562965*Vt+ln,Ls=.707106781*(Ma=ts+an),Ts=Ot+Ls,Ke=Ot-Ls;ze[Ge+5]=Ke+hr,ze[Ge+3]=Ke-hr,ze[Ge+1]=Ts+sr,ze[Ge+7]=Ts-sr,Ge+=8}for(Ge=0,nt=0;nt<8;++nt){Me=ze[Ge],fe=ze[Ge+8],Te=ze[Ge+16],Oe=ze[Ge+24],He=ze[Ge+32],Ye=ze[Ge+40],tt=ze[Ge+48];var ar=Me+(pt=ze[Ge+56]),Lr=Me-pt,or=fe+tt,Bt=fe-tt,Ht=Te+Ye,ni=Te-Ye,Sl=Oe+He,Di=Oe-He,On=ar+Sl,Rs=ar-Sl,ns=or+Ht,Is=or-Ht;ze[Ge]=On+ns,ze[Ge+32]=On-ns;var bi=.707106781*(Is+Rs);ze[Ge+16]=Rs+bi,ze[Ge+48]=Rs-bi;var ha=.382683433*((On=Di+ni)-(Is=Bt+Lr)),Lo=.5411961*On+ha,Oc=1.306562965*Is+ha,Dc=.707106781*(ns=ni+Bt),rs=Lr+Dc,Bc=Lr-Dc;ze[Ge+40]=Bc+Lo,ze[Ge+24]=Bc-Lo,ze[Ge+8]=rs+Oc,ze[Ge+56]=rs-Oc,Ge++}for(nt=0;nt<64;++nt)yt=ze[nt]*qe[nt],p[nt]=yt>0?yt+.5|0:yt-.5|0;return p}(M,J),De=0;De<64;++De)y[T[De]]=Le[De];var Ve=y[0]-B;B=y[0],Ve==0?X(ae[0]):(X(ae[h[ge=32767+Ve]]),X(f[ge]));for(var Ue=63;Ue>0&&y[Ue]==0;)Ue--;if(Ue==0)return X(we),B;for(var Ze,Ce=1;Ce<=Ue;){for(var ce=Ce;y[Ce]==0&&Ce<=Ue;)++Ce;var ft=Ce-ce;if(ft>=16){Ze=ft>>4;for(var Je=1;Je<=Ze;++Je)X(Se);ft&=15}ge=32767+y[Ce],X(le[(ft<<4)+h[ge]]),X(f[ge]),Ce++}return Ue!=63&&X(we),B}function xe(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(J){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var le=a((B[ae]*J+50)/100);le=Math.min(Math.max(le,1),255),o[T[ae]]=le}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Se=a((ge[we]*J+50)/100);Se=Math.min(Math.max(Se,1),255),l[T[we]]=Se}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Ve=0;Ve<8;Ve++)for(var Ue=0;Ue<8;Ue++)u[De]=1/(o[T[De]]*Le[Ve]*Le[Ue]*8),d[De]=1/(l[T[De]]*Le[Ve]*Le[Ue]*8),De++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,J){J&&xe(J),x=new Array,_=0,w=7,ee(65496),ee(65504),ee(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),ee(1),ee(1),K(0),K(0),function(){ee(65499),ee(132),K(0);for(var fe=0;fe<64;fe++)K(o[fe]);K(1);for(var Te=0;Te<64;Te++)K(l[Te])}(),function(fe,Te){ee(65472),ee(17),K(8),ee(Te),ee(fe),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(M.width,M.height),function(){ee(65476),ee(418),K(0);for(var fe=0;fe<16;fe++)K(P[fe+1]);for(var Te=0;Te<=11;Te++)K(z[Te]);K(16);for(var Oe=0;Oe<16;Oe++)K(q[Oe+1]);for(var He=0;He<=161;He++)K(R[He]);K(1);for(var Ye=0;Ye<16;Ye++)K(F[Ye+1]);for(var tt=0;tt<=11;tt++)K($[tt]);K(17);for(var pt=0;pt<16;pt++)K(W[pt+1]);for(var nt=0;nt<=161;nt++)K(he[nt])}(),ee(65498),ee(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var B=0,ae=0,le=0;_=0,w=7,this.encode.displayName="_encode_";for(var ge,we,Se,Le,De,Ve,Ue,Ze,Ce,ce=M.data,ft=M.width,Je=M.height,ze=4*ft,qe=0;qe<Je;){for(ge=0;ge<ze;){for(De=ze*qe+ge,Ue=-1,Ze=0,Ce=0;Ce<64;Ce++)Ve=De+(Ze=Ce>>3)*ze+(Ue=4*(7&Ce)),qe+Ze>=Je&&(Ve-=ze*(qe+1+Ze-Je)),ge+Ue>=ze&&(Ve-=ge+Ue-ze+4),we=ce[Ve++],Se=ce[Ve++],Le=ce[Ve++],A[Ce]=(j[we]+j[Se+256>>0]+j[Le+512>>0]>>16)-128,S[Ce]=(j[we+768>>0]+j[Se+1024>>0]+j[Le+1280>>0]>>16)-128,v[Ce]=(j[we+1280>>0]+j[Se+1536>>0]+j[Le+1792>>0]>>16)-128;B=de(A,u,B,e,r),ae=de(S,d,ae,t,i),le=de(v,d,le,t,i),ge+=32}qe+=8}if(w>=0){var Me=[];Me[1]=w+1,Me[0]=(1<<w+1)-1,X(Me)}return ee(65497),new Uint8Array(x)},n=n||50,function(){for(var M=String.fromCharCode,J=0;J<256;J++)C[J]=M(J)}(),e=ne(P,z),t=ne(F,$),r=ne(q,R),i=ne(W,he),function(){for(var M=1,J=2,B=1;B<=15;B++){for(var ae=M;ae<J;ae++)h[32767+ae]=B,f[32767+ae]=[],f[32767+ae][1]=B,f[32767+ae][0]=ae;for(var le=-(J-1);le<=-M;le++)h[32767+le]=B,f[32767+le]=[],f[32767+le][1]=B,f[32767+le][0]=J-1+le;M<<=1,J<<=1}}(),function(){for(var M=0;M<256;M++)j[M]=19595*M,j[M+256>>0]=38470*M,j[M+512>>0]=7471*M+32768,j[M+768>>0]=-11059*M,j[M+1024>>0]=-21709*M,j[M+1280>>0]=32768*M+8421375,j[M+1536>>0]=-27439*M,j[M+1792>>0]=-5329*M}(),xe(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function eo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function D4(n){function e(P){if(!P)throw Error("assert :P")}function t(P,z,q){for(var R=0;4>R;R++)if(P[z+R]!=q.charCodeAt(R))return!0;return!1}function r(P,z,q,R,F){for(var $=0;$<F;$++)P[z+$]=q[R+$]}function i(P,z,q,R){for(var F=0;F<R;F++)P[z+F]=q}function s(P){return new Int32Array(P)}function a(P,z){for(var q=[],R=0;R<P;R++)q.push(new z);return q}function o(P,z){var q=[];return function R(F,$,W){for(var he=W[$],ne=0;ne<he&&(F.push(W.length>$+1?[]:new z),!(W.length<$+1));ne++)R(F[ne],$+1,W)}(q,0,P),q}var l=function(){var P=this;function z(g,b){for(var N=1<<b-1>>>0;g&N;)N>>>=1;return N?(g&N-1)+N:g}function q(g,b,N,I,U){e(!(I%N));do g[b+(I-=N)]=U;while(0<I)}function R(g,b,N,I,U){if(e(2328>=U),512>=U)var V=s(512);else if((V=s(U))==null)return 0;return function(G,Q,re,se,me,_e){var ke,be,Fe=Q,Ne=1<<re,ve=s(16),ye=s(16);for(e(me!=0),e(se!=null),e(G!=null),e(0<re),be=0;be<me;++be){if(15<se[be])return 0;++ve[se[be]]}if(ve[0]==me)return 0;for(ye[1]=0,ke=1;15>ke;++ke){if(ve[ke]>1<<ke)return 0;ye[ke+1]=ye[ke]+ve[ke]}for(be=0;be<me;++be)ke=se[be],0<se[be]&&(_e[ye[ke]++]=be);if(ye[15]==1)return(se=new F).g=0,se.value=_e[0],q(G,Fe,1,Ne,se),Ne;var Re,Be=-1,Ie=Ne-1,at=0,Qe=1,wt=1,et=1<<re;for(be=0,ke=1,me=2;ke<=re;++ke,me<<=1){if(Qe+=wt<<=1,0>(wt-=ve[ke]))return 0;for(;0<ve[ke];--ve[ke])(se=new F).g=ke,se.value=_e[be++],q(G,Fe+at,me,et,se),at=z(at,ke)}for(ke=re+1,me=2;15>=ke;++ke,me<<=1){if(Qe+=wt<<=1,0>(wt-=ve[ke]))return 0;for(;0<ve[ke];--ve[ke]){if(se=new F,(at&Ie)!=Be){for(Fe+=et,Re=1<<(Be=ke)-re;15>Be&&!(0>=(Re-=ve[Be]));)++Be,Re<<=1;Ne+=et=1<<(Re=Be-re),G[Q+(Be=at&Ie)].g=Re+re,G[Q+Be].value=Fe-Q-Be}se.g=ke-re,se.value=_e[be++],q(G,Fe+(at>>re),me,et,se),at=z(at,ke)}}return Qe!=2*ye[15]-1?0:Ne}(g,b,N,I,U,V)}function F(){this.value=this.g=0}function $(){this.value=this.g=0}function W(){this.G=a(5,F),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(ri,$)}function he(g,b,N,I){e(g!=null),e(b!=null),e(2147483648>I),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=b,g.pa=N,g.Jd=b,g.Yc=N+I,g.Zc=4<=I?N+I-4+1:N,ge(g)}function ne(g,b){for(var N=0;0<b--;)N|=Se(g,128)<<b;return N}function X(g,b){var N=ne(g,b);return we(g)?-N:N}function K(g,b,N,I){var U,V=0;for(e(g!=null),e(b!=null),e(4294967288>I),g.Sb=I,g.Ra=0,g.u=0,g.h=0,4<I&&(I=4),U=0;U<I;++U)V+=b[N+U]<<8*U;g.Ra=V,g.bb=I,g.oa=b,g.pa=N}function ee(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Pl-8>>>0,++g.bb,g.u-=8;B(g)&&(g.h=1,g.u=0)}function de(g,b){if(e(0<=b),!g.h&&b<=jl){var N=J(g)&Nl[b];return g.u+=b,ee(g),N}return g.h=1,g.u=0}function xe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(g){return g.Ra>>>(g.u&Pl-1)>>>0}function B(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Pl}function ae(g,b){g.u=b,g.h=B(g)}function le(g){g.u>=iu&&(e(g.u>=iu),ee(g))}function ge(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function we(g){return ne(g,1)}function Se(g,b){var N=g.Ca;0>g.b&&ge(g);var I=g.b,U=N*b>>>8,V=(g.I>>>I>U)+0;for(V?(N-=U,g.I-=U+1<<I>>>0):N=U+1,I=N,U=0;256<=I;)U+=8,I>>=8;return I=7^U+ii[I],g.b-=I,g.Ca=(N<<I)-1,V}function Le(g,b,N){g[b+0]=N>>24&255,g[b+1]=N>>16&255,g[b+2]=N>>8&255,g[b+3]=N>>0&255}function De(g,b){return g[b+0]<<0|g[b+1]<<8}function Ve(g,b){return De(g,b)|g[b+2]<<16}function Ue(g,b){return De(g,b)|De(g,b+2)<<16}function Ze(g,b){var N=1<<b;return e(g!=null),e(0<b),g.X=s(N),g.X==null?0:(g.Mb=32-b,g.Xa=b,1)}function Ce(g,b){e(g!=null),e(b!=null),e(g.Xa==b.Xa),r(b.X,0,g.X,0,1<<b.Xa)}function ce(){this.X=[],this.Xa=this.Mb=0}function ft(g,b,N,I){e(N!=null),e(I!=null);var U=N[0],V=I[0];return U==0&&(U=(g*V+b/2)/b),V==0&&(V=(b*U+g/2)/g),0>=U||0>=V?0:(N[0]=U,I[0]=V,1)}function Je(g,b){return g+(1<<b)-1>>>b}function ze(g,b){return((4278255360&g)+(4278255360&b)>>>0&4278255360)+((16711935&g)+(16711935&b)>>>0&16711935)>>>0}function qe(g,b){P[b]=function(N,I,U,V,G,Q,re){var se;for(se=0;se<G;++se){var me=P[g](Q[re+se-1],U,V+se);Q[re+se]=ze(N[I+se],me)}}}function Me(){this.ud=this.hd=this.jd=0}function fe(g,b){return((4278124286&(g^b))>>>1)+(g&b)>>>0}function Te(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Oe(g,b){return Te(g+(g-b+.5>>1))}function He(g,b,N){return Math.abs(b-N)-Math.abs(g-N)}function Ye(g,b,N,I,U,V,G){for(I=V[G-1],N=0;N<U;++N)V[G+N]=I=ze(g[b+N],I)}function tt(g,b,N,I,U){var V;for(V=0;V<N;++V){var G=g[b+V],Q=G>>8&255,re=16711935&(re=(re=16711935&G)+((Q<<16)+Q));I[U+V]=(4278255360&G)+re>>>0}}function pt(g,b){b.jd=g>>0&255,b.hd=g>>8&255,b.ud=g>>16&255}function nt(g,b,N,I,U,V){var G;for(G=0;G<I;++G){var Q=b[N+G],re=Q>>>8,se=Q,me=255&(me=(me=Q>>>16)+((g.jd<<24>>24)*(re<<24>>24)>>>5));se=255&(se=(se=se+((g.hd<<24>>24)*(re<<24>>24)>>>5))+((g.ud<<24>>24)*(me<<24>>24)>>>5)),U[V+G]=(4278255360&Q)+(me<<16)+se}}function yt(g,b,N,I,U){P[b]=function(V,G,Q,re,se,me,_e,ke,be){for(re=_e;re<ke;++re)for(_e=0;_e<be;++_e)se[me++]=U(Q[I(V[G++])])},P[g]=function(V,G,Q,re,se,me,_e){var ke=8>>V.b,be=V.Ea,Fe=V.K[0],Ne=V.w;if(8>ke)for(V=(1<<V.b)-1,Ne=(1<<ke)-1;G<Q;++G){var ve,ye=0;for(ve=0;ve<be;++ve)ve&V||(ye=I(re[se++])),me[_e++]=U(Fe[ye&Ne]),ye>>=ke}else P["VP8LMapColor"+N](re,se,Fe,Ne,me,_e,G,Q,be)}}function Ge(g,b,N,I,U){for(N=b+N;b<N;){var V=g[b++];I[U++]=V>>16&255,I[U++]=V>>8&255,I[U++]=V>>0&255}}function Ar(g,b,N,I,U){for(N=b+N;b<N;){var V=g[b++];I[U++]=V>>16&255,I[U++]=V>>8&255,I[U++]=V>>0&255,I[U++]=V>>24&255}}function Ot(g,b,N,I,U){for(N=b+N;b<N;){var V=(G=g[b++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;I[U++]=V,I[U++]=G}}function _r(g,b,N,I,U){for(N=b+N;b<N;){var V=(G=g[b++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;I[U++]=V,I[U++]=G}}function an(g,b,N,I,U){for(N=b+N;b<N;){var V=g[b++];I[U++]=V>>0&255,I[U++]=V>>8&255,I[U++]=V>>16&255}}function pn(g,b,N,I,U,V){if(V==0)for(N=b+N;b<N;)Le(I,((V=g[b++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),U+=32;else r(I,U,g,b,N)}function ts(g,b){P[b][0]=P[g+"0"],P[b][1]=P[g+"1"],P[b][2]=P[g+"2"],P[b][3]=P[g+"3"],P[b][4]=P[g+"4"],P[b][5]=P[g+"5"],P[b][6]=P[g+"6"],P[b][7]=P[g+"7"],P[b][8]=P[g+"8"],P[b][9]=P[g+"9"],P[b][10]=P[g+"10"],P[b][11]=P[g+"11"],P[b][12]=P[g+"12"],P[b][13]=P[g+"13"],P[b][14]=P[g+"0"],P[b][15]=P[g+"0"]}function on(g){return g==qm||g==Wm||g==vp||g==Ka}function Fa(){this.eb=[],this.size=this.A=this.fb=0}function Mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Fa,this.f.kb=new Mn,this.sd=null}function Ma(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function ln(g,b){var N=g.T,I=b.ba.f.RGBA,U=I.eb,V=I.fb+g.ka*I.A,G=O[b.ba.S],Q=g.y,re=g.O,se=g.f,me=g.N,_e=g.ea,ke=g.W,be=b.cc,Fe=b.dc,Ne=b.Mc,ve=b.Nc,ye=g.ka,Re=g.ka+g.T,Be=g.U,Ie=Be+1>>1;for(ye==0?G(Q,re,null,null,se,me,_e,ke,se,me,_e,ke,U,V,null,null,Be):(G(b.ec,b.fc,Q,re,be,Fe,Ne,ve,se,me,_e,ke,U,V-I.A,U,V,Be),++N);ye+2<Re;ye+=2)be=se,Fe=me,Ne=_e,ve=ke,me+=g.Rc,ke+=g.Rc,V+=2*I.A,G(Q,(re+=2*g.fa)-g.fa,Q,re,be,Fe,Ne,ve,se,me,_e,ke,U,V-I.A,U,V,Be);return re+=g.fa,g.j+Re<g.o?(r(b.ec,b.fc,Q,re,Be),r(b.cc,b.dc,se,me,Ie),r(b.Mc,b.Nc,_e,ke,Ie),N--):1&Re||G(Q,re,null,null,se,me,_e,ke,se,me,_e,ke,U,V+I.A,null,null,Be),N}function hr(g,b,N){var I=g.F,U=[g.J];if(I!=null){var V=g.U,G=b.ba.S,Q=G==mp||G==vp;b=b.ba.f.RGBA;var re=[0],se=g.ka;re[0]=g.T,g.Kb&&(se==0?--re[0]:(--se,U[0]-=g.width),g.j+g.ka+g.T==g.o&&(re[0]=g.o-g.j-se));var me=b.eb;se=b.fb+se*b.A,g=Kd(I,U[0],g.width,V,re,me,se+(Q?0:3),b.A),e(N==re),g&&on(G)&&Bo(me,se,Q,V,re,b.A)}return 0}function sr(g){var b=g.ma,N=b.ba.S,I=11>N,U=N==pp||N==gp||N==mp||N==$m||N==12||on(N);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!El(b.Oa,g,U?11:12))return 0;if(U&&on(N)&&$e(),g.da)alert("todo:use_scaling");else{if(I){if(b.Ib=vt,g.Kb){if(N=g.U+1>>1,b.memory=s(g.U+2*N),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+g.U,b.Mc=b.cc,b.Nc=b.dc+N,b.Ib=ln,$e()}}else alert("todo:EmitYUV");U&&(b.Jb=hr,I&&Ae())}if(I&&!LE){for(g=0;256>g;++g)EF[g]=89858*(g-128)+Pn>>At,PF[g]=-22014*(g-128)+Pn,jF[g]=-45773*(g-128),NF[g]=113618*(g-128)+Pn>>At;for(g=Xa;g<b5;++g)b=76283*(g-16)+Pn>>At,LF[g-Xa]=zi(b,255),TF[g-Xa]=zi(b+8>>4,15);LE=1}return 1}function Ls(g){var b=g.ma,N=g.U,I=g.T;return e(!(1&g.ka)),0>=N||0>=I?0:(N=b.Ib(g,b),b.Jb!=null&&b.Jb(g,b,N),b.Dc+=N,1)}function Ts(g){g.ma.memory=null}function Ke(g,b,N,I){return de(g,8)!=47?0:(b[0]=de(g,14)+1,N[0]=de(g,14)+1,I[0]=de(g,1),de(g,3)!=0?0:!g.h)}function ar(g,b){if(4>g)return g+1;var N=g-2>>1;return(2+(1&g)<<N)+de(b,N)+1}function Lr(g,b){return 120<b?b-120:1<=(N=((N=p5[b-1])>>4)*g+(8-(15&N)))?N:1;var N}function or(g,b,N){var I=J(N),U=g[b+=255&I].g-8;return 0<U&&(ae(N,N.u+8),I=J(N),b+=g[b].value,b+=I&(1<<U)-1),ae(N,N.u+g[b].g),g[b].value}function Bt(g,b,N){return N.g+=g.g,N.value+=g.value<<b>>>0,e(8>=N.g),g.g}function Ht(g,b,N){var I=g.xc;return e((b=I==0?0:g.vc[g.md*(N>>I)+(b>>I)])<g.Wb),g.Ya[b]}function ni(g,b,N,I){var U=g.ab,V=g.c*b,G=g.C;b=G+b;var Q=N,re=I;for(I=g.Ta,N=g.Ua;0<U--;){var se=g.gc[U],me=G,_e=b,ke=Q,be=re,Fe=(re=I,Q=N,se.Ea);switch(e(me<_e),e(_e<=se.nc),se.hc){case 2:Vd(ke,be,(_e-me)*Fe,re,Q);break;case 0:var Ne=me,ve=_e,ye=re,Re=Q,Be=(et=se).Ea;Ne==0&&(dp(ke,be,null,null,1,ye,Re),Ye(ke,be+1,0,0,Be-1,ye,Re+1),be+=Be,Re+=Be,++Ne);for(var Ie=1<<et.b,at=Ie-1,Qe=Je(Be,et.b),wt=et.K,et=et.w+(Ne>>et.b)*Qe;Ne<ve;){var un=wt,gn=et,tn=1;for(su(ke,be,ye,Re-Be,1,ye,Re);tn<Be;){var Kt=(tn&~at)+Ie;Kt>Be&&(Kt=Be),(0,qa[un[gn++]>>8&15])(ke,be+ +tn,ye,Re+tn-Be,Kt-tn,ye,Re+tn),tn=Kt}be+=Be,Re+=Be,++Ne&at||(et+=Qe)}_e!=se.nc&&r(re,Q-Fe,re,Q+(_e-me-1)*Fe,Fe);break;case 1:for(Fe=ke,ve=be,Be=(ke=se.Ea)-(Re=ke&~(ye=(be=1<<se.b)-1)),Ne=Je(ke,se.b),Ie=se.K,se=se.w+(me>>se.b)*Ne;me<_e;){for(at=Ie,Qe=se,wt=new Me,et=ve+Re,un=ve+ke;ve<et;)pt(at[Qe++],wt),Ui(wt,Fe,ve,be,re,Q),ve+=be,Q+=be;ve<un&&(pt(at[Qe++],wt),Ui(wt,Fe,ve,Be,re,Q),ve+=Be,Q+=Be),++me&ye||(se+=Ne)}break;case 3:if(ke==re&&be==Q&&0<se.b){for(ve=re,ke=Fe=Q+(_e-me)*Fe-(Re=(_e-me)*Je(se.Ea,se.b)),be=re,ye=Q,Ne=[],Re=(Be=Re)-1;0<=Re;--Re)Ne[Re]=be[ye+Re];for(Re=Be-1;0<=Re;--Re)ve[ke+Re]=Ne[Re];qr(se,me,_e,re,Fe,re,Q)}else qr(se,me,_e,ke,be,re,Q)}Q=I,re=N}re!=N&&r(I,N,Q,re,V)}function Sl(g,b){var N=g.V,I=g.Ba+g.c*g.C,U=b-g.C;if(e(b<=g.l.o),e(16>=U),0<U){var V=g.l,G=g.Ta,Q=g.Ua,re=V.width;if(ni(g,U,N,I),U=Q=[Q],e((N=g.C)<(I=b)),e(V.v<V.va),I>V.o&&(I=V.o),N<V.j){var se=V.j-N;N=V.j,U[0]+=se*re}if(N>=I?N=0:(U[0]+=4*V.v,V.ka=N-V.j,V.U=V.va-V.v,V.T=I-N,N=1),N){if(Q=Q[0],11>(N=g.ca).S){var me=N.f.RGBA,_e=(I=N.S,U=V.U,V=V.T,se=me.eb,me.A),ke=V;for(me=me.fb+g.Ma*me.A;0<ke--;){var be=G,Fe=Q,Ne=U,ve=se,ye=me;switch(I){case Yd:as(be,Fe,Ne,ve,ye);break;case pp:Fo(be,Fe,Ne,ve,ye);break;case qm:Fo(be,Fe,Ne,ve,ye),Bo(ve,ye,0,Ne,1,0);break;case Dy:au(be,Fe,Ne,ve,ye);break;case gp:pn(be,Fe,Ne,ve,ye,1);break;case Wm:pn(be,Fe,Ne,ve,ye,1),Bo(ve,ye,0,Ne,1,0);break;case mp:pn(be,Fe,Ne,ve,ye,0);break;case vp:pn(be,Fe,Ne,ve,ye,0),Bo(ve,ye,1,Ne,1,0);break;case $m:va(be,Fe,Ne,ve,ye);break;case Ka:va(be,Fe,Ne,ve,ye),uu(ve,ye,Ne,1,0);break;case By:Wa(be,Fe,Ne,ve,ye);break;default:e(0)}Q+=re,me+=_e}g.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=N.height)}}g.C=b,e(g.C<=g.i)}function Di(g){var b;if(0<g.ua)return 0;for(b=0;b<g.Wb;++b){var N=g.Ya[b].G,I=g.Ya[b].H;if(0<N[1][I[1]+0].g||0<N[2][I[2]+0].g||0<N[3][I[3]+0].g)return 0}return 1}function On(g,b,N,I,U,V){if(g.Z!=0){var G=g.qd,Q=g.rd;for(e(Bs[g.Z]!=null);b<N;++b)Bs[g.Z](G,Q,I,U,I,U,V),G=I,Q=U,U+=V;g.qd=G,g.rd=Q}}function Rs(g,b){var N=g.l.ma,I=N.Z==0||N.Z==1?g.l.j:g.C;if(I=g.C<I?I:g.C,e(b<=g.l.o),b>I){var U=g.l.width,V=N.ca,G=N.tb+U*I,Q=g.V,re=g.Ba+g.c*I,se=g.gc;e(g.ab==1),e(se[0].hc==3),Dm(se[0],I,b,Q,re,V,G),On(N,I,b,V,G,U)}g.C=g.Ma=b}function ns(g,b,N,I,U,V,G){var Q=g.$/I,re=g.$%I,se=g.m,me=g.s,_e=N+g.$,ke=_e;U=N+I*U;var be=N+I*V,Fe=280+me.ua,Ne=g.Pb?Q:16777216,ve=0<me.ua?me.Wa:null,ye=me.wc,Re=_e<be?Ht(me,re,Q):null;e(g.C<V),e(be<=U);var Be=!1;e:for(;;){for(;Be||_e<be;){var Ie=0;if(Q>=Ne){var at=_e-N;e((Ne=g).Pb),Ne.wd=Ne.m,Ne.xd=at,0<Ne.s.ua&&Ce(Ne.s.Wa,Ne.s.vb),Ne=Q+g5}if(re&ye||(Re=Ht(me,re,Q)),e(Re!=null),Re.Qb&&(b[_e]=Re.qb,Be=!0),!Be)if(le(se),Re.jc){Ie=se,at=b;var Qe=_e,wt=Re.pd[J(Ie)&ri-1];e(Re.jc),256>wt.g?(ae(Ie,Ie.u+wt.g),at[Qe]=wt.value,Ie=0):(ae(Ie,Ie.u+wt.g-256),e(256<=wt.value),Ie=wt.value),Ie==0&&(Be=!0)}else Ie=or(Re.G[0],Re.H[0],se);if(se.h)break;if(Be||256>Ie){if(!Be)if(Re.nd)b[_e]=(Re.qb|Ie<<8)>>>0;else{if(le(se),Be=or(Re.G[1],Re.H[1],se),le(se),at=or(Re.G[2],Re.H[2],se),Qe=or(Re.G[3],Re.H[3],se),se.h)break;b[_e]=(Qe<<24|Be<<16|Ie<<8|at)>>>0}if(Be=!1,++_e,++re>=I&&(re=0,++Q,G!=null&&Q<=V&&!(Q%16)&&G(g,Q),ve!=null))for(;ke<_e;)Ie=b[ke++],ve.X[(506832829*Ie&4294967295)>>>ve.Mb]=Ie}else if(280>Ie){if(Ie=ar(Ie-256,se),at=or(Re.G[4],Re.H[4],se),le(se),at=Lr(I,at=ar(at,se)),se.h)break;if(_e-N<at||U-_e<Ie)break e;for(Qe=0;Qe<Ie;++Qe)b[_e+Qe]=b[_e+Qe-at];for(_e+=Ie,re+=Ie;re>=I;)re-=I,++Q,G!=null&&Q<=V&&!(Q%16)&&G(g,Q);if(e(_e<=U),re&ye&&(Re=Ht(me,re,Q)),ve!=null)for(;ke<_e;)Ie=b[ke++],ve.X[(506832829*Ie&4294967295)>>>ve.Mb]=Ie}else{if(!(Ie<Fe))break e;for(Be=Ie-280,e(ve!=null);ke<_e;)Ie=b[ke++],ve.X[(506832829*Ie&4294967295)>>>ve.Mb]=Ie;Ie=_e,e(!(Be>>>(at=ve).Xa)),b[Ie]=at.X[Be],Be=!0}Be||e(se.h==B(se))}if(g.Pb&&se.h&&_e<U)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ce(g.s.vb,g.s.Wa);else{if(se.h)break e;G!=null&&G(g,Q>V?V:Q),g.a=0,g.$=_e-N}return 1}return g.a=3,0}function Is(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var b=g.Wa;b!=null&&(b.X=null),g.vb=null,e(g!=null)}function bi(){var g=new ga;return g==null?null:(g.a=0,g.xb=Km,ts("Predictor","VP8LPredictors"),ts("Predictor","VP8LPredictors_C"),ts("PredictorAdd","VP8LPredictorsAdd"),ts("PredictorAdd","VP8LPredictorsAdd_C"),Vd=tt,Ui=nt,as=Ge,Fo=Ar,va=Ot,Wa=_r,au=an,P.VP8LMapColor32b=Gd,P.VP8LMapColor8b=Bm,g)}function ha(g,b,N,I,U){var V=1,G=[g],Q=[b],re=I.m,se=I.s,me=null,_e=0;e:for(;;){if(N)for(;V&&de(re,1);){var ke=G,be=Q,Fe=I,Ne=1,ve=Fe.m,ye=Fe.gc[Fe.ab],Re=de(ve,2);if(Fe.Oc&1<<Re)V=0;else{switch(Fe.Oc|=1<<Re,ye.hc=Re,ye.Ea=ke[0],ye.nc=be[0],ye.K=[null],++Fe.ab,e(4>=Fe.ab),Re){case 0:case 1:ye.b=de(ve,3)+2,Ne=ha(Je(ye.Ea,ye.b),Je(ye.nc,ye.b),0,Fe,ye.K),ye.K=ye.K[0];break;case 3:var Be,Ie=de(ve,8)+1,at=16<Ie?0:4<Ie?1:2<Ie?2:3;if(ke[0]=Je(ye.Ea,at),ye.b=at,Be=Ne=ha(Ie,1,0,Fe,ye.K)){var Qe,wt=Ie,et=ye,un=1<<(8>>et.b),gn=s(un);if(gn==null)Be=0;else{var tn=et.K[0],Kt=et.w;for(gn[0]=et.K[0][0],Qe=1;Qe<1*wt;++Qe)gn[Qe]=ze(tn[Kt+Qe],gn[Qe-1]);for(;Qe<4*un;++Qe)gn[Qe]=0;et.K[0]=null,et.K[0]=gn,Be=1}}Ne=Be;break;case 2:break;default:e(0)}V=Ne}}if(G=G[0],Q=Q[0],V&&de(re,1)&&!(V=1<=(_e=de(re,4))&&11>=_e)){I.a=3;break e}var Ln;if(Ln=V)t:{var kn,It,Cr,ds=I,Er=G,hs=Q,mn=_e,zs=N,Us=ds.m,Wr=ds.s,si=[null],$i=1,ya=0,Uo=Hy[mn];n:for(;;){if(zs&&de(Us,1)){var Vr=de(Us,3)+2,Rl=Je(Er,Vr),Xd=Je(hs,Vr),wp=Rl*Xd;if(!ha(Rl,Xd,0,ds,si))break n;for(si=si[0],Wr.xc=Vr,kn=0;kn<wp;++kn){var du=si[kn]>>8&65535;si[kn]=du,du>=$i&&($i=du+1)}}if(Us.h)break n;for(It=0;5>It;++It){var lr=Uy[It];!It&&0<mn&&(lr+=1<<mn),ya<lr&&(ya=lr)}var x5=a($i*Uo,F),IE=$i,FE=a(IE,W);if(FE==null)var Vy=null;else e(65536>=IE),Vy=FE;var Ym=s(ya);if(Vy==null||Ym==null||x5==null){ds.a=1;break n}var Gy=x5;for(kn=Cr=0;kn<$i;++kn){var Ja=Vy[kn],bp=Ja.G,xp=Ja.H,ME=0,Ky=1,OE=0;for(It=0;5>It;++It){lr=Uy[It],bp[It]=Gy,xp[It]=Cr,!It&&0<mn&&(lr+=1<<mn);i:{var Yy,S5=lr,Xy=ds,Xm=Ym,FF=Gy,MF=Cr,A5=0,hu=Xy.m,OF=de(hu,1);if(i(Xm,0,0,S5),OF){var DF=de(hu,1)+1,BF=de(hu,1),DE=de(hu,BF==0?1:8);Xm[DE]=1,DF==2&&(Xm[DE=de(hu,8)]=1);var Jy=1}else{var BE=s(19),zE=de(hu,4)+4;if(19<zE){Xy.a=3;var Qy=0;break i}for(Yy=0;Yy<zE;++Yy)BE[f5[Yy]]=de(hu,3);var _5=void 0,Jm=void 0,UE=Xy,zF=BE,Zy=S5,HE=Xm,k5=0,fu=UE.m,$E=8,qE=a(128,F);r:for(;R(qE,0,7,zF,19);){if(de(fu,1)){var UF=2+2*de(fu,3);if((_5=2+de(fu,UF))>Zy)break r}else _5=Zy;for(Jm=0;Jm<Zy&&_5--;){le(fu);var WE=qE[0+(127&J(fu))];ae(fu,fu.u+WE.g);var Sp=WE.value;if(16>Sp)HE[Jm++]=Sp,Sp!=0&&($E=Sp);else{var HF=Sp==16,VE=Sp-16,$F=d5[VE],GE=de(fu,zy[VE])+$F;if(Jm+GE>Zy)break r;for(var qF=HF?$E:0;0<GE--;)HE[Jm++]=qF}}k5=1;break r}k5||(UE.a=3),Jy=k5}(Jy=Jy&&!hu.h)&&(A5=R(FF,MF,8,Xm,S5)),Jy&&A5!=0?Qy=A5:(Xy.a=3,Qy=0)}if(Qy==0)break n;if(Ky&&h5[It]==1&&(Ky=Gy[Cr].g==0),ME+=Gy[Cr].g,Cr+=Qy,3>=It){var Qm,C5=Ym[0];for(Qm=1;Qm<lr;++Qm)Ym[Qm]>C5&&(C5=Ym[Qm]);OE+=C5}}if(Ja.nd=Ky,Ja.Qb=0,Ky&&(Ja.qb=(bp[3][xp[3]+0].value<<24|bp[1][xp[1]+0].value<<16|bp[2][xp[2]+0].value)>>>0,ME==0&&256>bp[0][xp[0]+0].value&&(Ja.Qb=1,Ja.qb+=bp[0][xp[0]+0].value<<8)),Ja.jc=!Ja.Qb&&6>OE,Ja.jc){var ew,Il=Ja;for(ew=0;ew<ri;++ew){var pu=ew,gu=Il.pd[pu],tw=Il.G[0][Il.H[0]+pu];256<=tw.value?(gu.g=tw.g+256,gu.value=tw.value):(gu.g=0,gu.value=0,pu>>=Bt(tw,8,gu),pu>>=Bt(Il.G[1][Il.H[1]+pu],16,gu),pu>>=Bt(Il.G[2][Il.H[2]+pu],0,gu),Bt(Il.G[3][Il.H[3]+pu],24,gu))}}}Wr.vc=si,Wr.Wb=$i,Wr.Ya=Vy,Wr.yc=x5,Ln=1;break t}Ln=0}if(!(V=Ln)){I.a=3;break e}if(0<_e){if(se.ua=1<<_e,!Ze(se.Wa,_e)){I.a=1,V=0;break e}}else se.ua=0;var E5=I,KE=G,WF=Q,N5=E5.s,j5=N5.xc;if(E5.c=KE,E5.i=WF,N5.md=Je(KE,j5),N5.wc=j5==0?-1:(1<<j5)-1,N){I.xb=qy;break e}if((me=s(G*Q))==null){I.a=1,V=0;break e}V=(V=ns(I,me,0,G,Q,Q,null))&&!re.h;break e}return V?(U!=null?U[0]=me:(e(me==null),e(N)),I.$=0,N||Is(se)):Is(se),V}function Lo(g,b){var N=g.c*g.i,I=N+b+16*b;return e(g.c<=b),g.V=s(I),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+N+b,1)}function Oc(g,b){var N=g.C,I=b-N,U=g.V,V=g.Ba+g.c*N;for(e(b<=g.l.o);0<I;){var G=16<I?16:I,Q=g.l.ma,re=g.l.width,se=re*G,me=Q.ca,_e=Q.tb+re*N,ke=g.Ta,be=g.Ua;ni(g,G,U,V),zm(ke,be,me,_e,se),On(Q,N,N+G,me,_e,re),I-=G,U+=G*g.c,N+=G}e(N==b),g.C=g.Ma=b}function Dc(){this.ub=this.yd=this.td=this.Rb=0}function rs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Yf(){this.Yb=function(){var g=[];return function b(N,I,U){for(var V=U[I],G=0;G<V&&(N.push(U.length>I+1?[]:0),!(U.length<I+1));G++)b(N[G],I+1,U)}(g,0,[3,11]),g}()}function xm(){this.jb=s(3),this.Wc=o([4,8],Yf),this.Xc=o([4,17],Yf)}function Sm(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function zc(){this.ld=this.La=this.dd=this.tc=0}function Uc(){this.Na=this.la=0}function Am(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Id(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Oa(){this.uc=this.M=this.Nb=0,this.wa=Array(new zc),this.Y=0,this.ya=Array(new Id),this.aa=0,this.l=new Hc}function Xf(){this.y=s(16),this.f=s(8),this.ea=s(8)}function _m(){this.cb=this.a=0,this.sc="",this.m=new xe,this.Od=new Dc,this.Kc=new rs,this.ed=new Sm,this.Qa=new Bc,this.Ic=this.$c=this.Aa=0,this.D=new Oa,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,xe),this.ia=0,this.pb=a(4,Am),this.Pa=new xm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Xf),this.Hd=0,this.rb=Array(new Uc),this.sb=0,this.wa=Array(new zc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Id),this.L=this.aa=0,this.gd=o([4,2],zc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fd(){var g=new _m;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Si||(Si=Zf)),g}function Jn(g,b,N){return g.a==0&&(g.a=b,g.sc=N,g.cb=0),0}function Jf(g,b,N){return 3<=N&&g[b+0]==157&&g[b+1]==1&&g[b+2]==42}function Qf(g,b){if(g==null)return 0;if(g.a=0,g.sc="OK",b==null)return Jn(g,2,"null VP8Io passed to VP8GetHeaders()");var N=b.data,I=b.w,U=b.ha;if(4>U)return Jn(g,7,"Truncated header.");var V=N[I+0]|N[I+1]<<8|N[I+2]<<16,G=g.Od;if(G.Rb=!(1&V),G.td=V>>1&7,G.yd=V>>4&1,G.ub=V>>5,3<G.td)return Jn(g,3,"Incorrect keyframe parameters.");if(!G.yd)return Jn(g,4,"Frame not displayable.");I+=3,U-=3;var Q=g.Kc;if(G.Rb){if(7>U)return Jn(g,7,"cannot parse picture header");if(!Jf(N,I,U))return Jn(g,3,"Bad code word");Q.c=16383&(N[I+4]<<8|N[I+3]),Q.Td=N[I+4]>>6,Q.i=16383&(N[I+6]<<8|N[I+5]),Q.Ud=N[I+6]>>6,I+=7,U-=7,g.za=Q.c+15>>4,g.Ub=Q.i+15>>4,b.width=Q.c,b.height=Q.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((V=g.Pa).jb,0,255,V.jb.length),e((V=g.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(G.ub>U)return Jn(g,7,"bad partition length");he(V=g.m,N,I,G.ub),I+=G.ub,U-=G.ub,G.Rb&&(Q.Ld=we(V),Q.Kd=we(V)),Q=g.Qa;var re,se=g.Pa;if(e(V!=null),e(Q!=null),Q.Cb=we(V),Q.Cb){if(Q.Bb=we(V),we(V)){for(Q.Fb=we(V),re=0;4>re;++re)Q.Zb[re]=we(V)?X(V,7):0;for(re=0;4>re;++re)Q.Lb[re]=we(V)?X(V,6):0}if(Q.Bb)for(re=0;3>re;++re)se.jb[re]=we(V)?ne(V,8):255}else Q.Bb=0;if(V.Ka)return Jn(g,3,"cannot parse segment header");if((Q=g.ed).zd=we(V),Q.Tb=ne(V,6),Q.wb=ne(V,3),Q.Pc=we(V),Q.Pc&&we(V)){for(se=0;4>se;++se)we(V)&&(Q.vd[se]=X(V,6));for(se=0;4>se;++se)we(V)&&(Q.od[se]=X(V,6))}if(g.L=Q.Tb==0?0:Q.zd?1:2,V.Ka)return Jn(g,3,"cannot parse filter header");var me=U;if(U=re=I,I=re+me,Q=me,g.Xb=(1<<ne(g.m,2))-1,me<3*(se=g.Xb))N=7;else{for(re+=3*se,Q-=3*se,me=0;me<se;++me){var _e=N[U+0]|N[U+1]<<8|N[U+2]<<16;_e>Q&&(_e=Q),he(g.Jc[+me],N,re,_e),re+=_e,Q-=_e,U+=3}he(g.Jc[+se],N,re,Q),N=re<I?0:5}if(N!=0)return Jn(g,N,"cannot parse partitions");for(N=ne(re=g.m,7),U=we(re)?X(re,4):0,I=we(re)?X(re,4):0,Q=we(re)?X(re,4):0,se=we(re)?X(re,4):0,re=we(re)?X(re,4):0,me=g.Qa,_e=0;4>_e;++_e){if(me.Cb){var ke=me.Zb[_e];me.Fb||(ke+=N)}else{if(0<_e){g.pb[_e]=g.pb[0];continue}ke=N}var be=g.pb[_e];be.Sc[0]=Vm[zi(ke+U,127)],be.Sc[1]=Gm[zi(ke+0,127)],be.Eb[0]=2*Vm[zi(ke+I,127)],be.Eb[1]=101581*Gm[zi(ke+Q,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=Vm[zi(ke+se,117)],be.Qc[1]=Gm[zi(ke+re,127)],be.lc=ke+re}if(!G.Rb)return Jn(g,4,"Not a key frame.");for(we(V),G=g.Pa,N=0;4>N;++N){for(U=0;8>U;++U)for(I=0;3>I;++I)for(Q=0;11>Q;++Q)se=Se(V,y5[N][U][I][Q])?ne(V,8):m5[N][U][I][Q],G.Wc[N][U].Yb[I][Q]=se;for(U=0;17>U;++U)G.Xc[N][U]=G.Wc[N][w5[U]]}return g.kc=we(V),g.kc&&(g.Bd=ne(V,8)),g.cb=1}function Zf(g,b,N,I,U,V,G){var Q=b[U].Yb[N];for(N=0;16>U;++U){if(!Se(g,Q[N+0]))return U;for(;!Se(g,Q[N+1]);)if(Q=b[++U].Yb[0],N=0,U==16)return 16;var re=b[U+1].Yb;if(Se(g,Q[N+2])){var se=g,me=0;if(Se(se,(ke=Q)[(_e=N)+3]))if(Se(se,ke[_e+6])){for(Q=0,_e=2*(me=Se(se,ke[_e+8]))+(ke=Se(se,ke[_e+9+me])),me=0,ke=yp[_e];ke[Q];++Q)me+=me+Se(se,ke[Q]);me+=3+(8<<_e)}else Se(se,ke[_e+7])?(me=7+2*Se(se,165),me+=Se(se,145)):me=5+Se(se,159);else me=Se(se,ke[_e+4])?3+Se(se,ke[_e+5]):2;Q=re[2]}else me=1,Q=re[1];re=G+Zn[U],0>(se=g).b&&ge(se);var _e,ke=se.b,be=(_e=se.Ca>>1)-(se.I>>ke)>>31;--se.b,se.Ca+=be,se.Ca|=1,se.I-=(_e+1&be)<<ke,V[re]=((me^be)-be)*I[(0<U)+0]}return 16}function Md(g){var b=g.rb[g.sb-1];b.la=0,b.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function hn(g,b){if(g==null)return 0;if(b==null)return Jn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Qf(g,b))return 0;if(e(g.cb),b.ac==null||b.ac(b)){b.ob&&(g.L=0);var N=Wy[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=b.v-N>>4,g.zb=b.j-N>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=b.o+15+N>>4,g.Hb=b.va+15+N>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var I=g.ed;for(N=0;4>N;++N){var U;if(g.Qa.Cb){var V=g.Qa.Lb[N];g.Qa.Fb||(V+=I.Tb)}else V=I.Tb;for(U=0;1>=U;++U){var G=g.gd[N][U],Q=V;if(I.Pc&&(Q+=I.vd[0],U&&(Q+=I.od[0])),0<(Q=0>Q?0:63<Q?63:Q)){var re=Q;0<I.wb&&(re=4<I.wb?re>>2:re>>1)>9-I.wb&&(re=9-I.wb),1>re&&(re=1),G.dd=re,G.tc=2*Q+re,G.ld=40<=Q?2:15<=Q?1:0}else G.tc=0;G.La=U}}}N=0}else Jn(g,6,"Frame setup failed"),N=g.a;if(N=N==0){if(N){g.$c=0,0<g.Aa||(g.Ic=IF);e:{N=g.Ic,I=4*(re=g.za);var se=32*re,me=re+1,_e=0<g.L?re*(0<g.Aa?2:1):0,ke=(g.Aa==2?2:1)*re;if((G=I+832+(U=3*(16*N+Wy[g.L])/2*se)+(V=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=G)N=0;else{if(G>g.Vb){if(g.Vb=0,g.Ec=s(G),g.Fc=0,g.Ec==null){N=Jn(g,1,"no memory during frame initialization.");break e}g.Vb=G}G=g.Ec,Q=g.Fc,g.Ac=G,g.Bc=Q,Q+=I,g.Gd=a(se,Xf),g.Hd=0,g.rb=a(me+1,Uc),g.sb=1,g.wa=_e?a(_e,zc):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=re),e(!0),g.oc=G,g.pc=Q,Q+=832,g.ya=a(ke,Id),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=re),g.R=16*re,g.B=8*re,re=(se=Wy[g.L])*g.R,se=se/2*g.B,g.sa=G,g.ta=Q+re,g.qa=g.sa,g.ra=g.ta+16*N*g.R+se,g.Ha=g.qa,g.Ia=g.ra+8*N*g.B+se,g.$c=0,Q+=U,g.mb=V?G:null,g.nb=V?Q:null,e(Q+V<=g.Fc+g.Vb),Md(g),i(g.Ac,g.Bc,0,I),N=1}}if(N){if(b.ka=0,b.y=g.sa,b.O=g.ta,b.f=g.qa,b.N=g.ra,b.ea=g.Ha,b.Vd=g.Ia,b.fa=g.R,b.Rc=g.B,b.F=null,b.J=0,!hp){for(N=-255;255>=N;++N)Fy[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)My[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)Oy[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)Um[255+N]=0>N?0:255<N?255:N;hp=1}os=Wc,ou=km,Mo=qc,ls=Al,Os=Dd,lu=ep,Ll=Ud,cu=_l,Tl=Om,Oo=Hd,Do=Mm,cs=Qc,Va=$d,An=Ha,_n=lp,Kn=za,pr=Bi,Ga=Fm,Ds[0]=pa,Ds[1]=Cm,Ds[2]=Pm,Ds[3]=Lm,Ds[4]=np,Ds[5]=Kc,Ds[6]=rp,Ds[7]=Yc,Ds[8]=ip,Ds[9]=Tm,zo[0]=tp,zo[1]=Nm,zo[2]=fa,zo[3]=Vc,zo[4]=Tr,zo[5]=jm,zo[6]=Bd,Ya[0]=Da,Ya[1]=Em,Ya[2]=Rm,Ya[3]=zd,Ya[4]=Ba,Ya[5]=Im,Ya[6]=Xc,N=1}else N=0}N&&(N=function(be,Fe){for(be.M=0;be.M<be.Va;++be.M){var Ne,ve=be.Jc[be.M&be.Xb],ye=be.m,Re=be;for(Ne=0;Ne<Re.za;++Ne){var Be=ye,Ie=Re,at=Ie.Ac,Qe=Ie.Bc+4*Ne,wt=Ie.zc,et=Ie.ya[Ie.aa+Ne];if(Ie.Qa.Bb?et.$b=Se(Be,Ie.Pa.jb[0])?2+Se(Be,Ie.Pa.jb[2]):Se(Be,Ie.Pa.jb[1]):et.$b=0,Ie.kc&&(et.Ad=Se(Be,Ie.Bd)),et.Za=!Se(Be,145)+0,et.Za){var un=et.Ob,gn=0;for(Ie=0;4>Ie;++Ie){var tn,Kt=wt[0+Ie];for(tn=0;4>tn;++tn){Kt=v5[at[Qe+tn]][Kt];for(var Ln=$y[Se(Be,Kt[0])];0<Ln;)Ln=$y[2*Ln+Se(Be,Kt[Ln])];Kt=-Ln,at[Qe+tn]=Kt}r(un,gn,at,Qe,4),gn+=4,wt[0+Ie]=Kt}}else Kt=Se(Be,156)?Se(Be,128)?1:3:Se(Be,163)?2:0,et.Ob[0]=Kt,i(at,Qe,Kt,4),i(wt,0,Kt,4);et.Dd=Se(Be,142)?Se(Be,114)?Se(Be,183)?1:3:2:0}if(Re.m.Ka)return Jn(be,7,"Premature end-of-partition0 encountered.");for(;be.ja<be.za;++be.ja){if(Re=ve,Be=(ye=be).rb[ye.sb-1],at=ye.rb[ye.sb+ye.ja],Ne=ye.ya[ye.aa+ye.ja],Qe=ye.kc?Ne.Ad:0)Be.la=at.la=0,Ne.Za||(Be.Na=at.Na=0),Ne.Hc=0,Ne.Gc=0,Ne.ia=0;else{var kn,It;if(Be=at,at=Re,Qe=ye.Pa.Xc,wt=ye.ya[ye.aa+ye.ja],et=ye.pb[wt.$b],Ie=wt.ad,un=0,gn=ye.rb[ye.sb-1],Kt=tn=0,i(Ie,un,0,384),wt.Za)var Cr=0,ds=Qe[3];else{Ln=s(16);var Er=Be.Na+gn.Na;if(Er=Si(at,Qe[1],Er,et.Eb,0,Ln,0),Be.Na=gn.Na=(0<Er)+0,1<Er)os(Ln,0,Ie,un);else{var hs=Ln[0]+3>>3;for(Ln=0;256>Ln;Ln+=16)Ie[un+Ln]=hs}Cr=1,ds=Qe[0]}var mn=15&Be.la,zs=15&gn.la;for(Ln=0;4>Ln;++Ln){var Us=1&zs;for(hs=It=0;4>hs;++hs)mn=mn>>1|(Us=(Er=Si(at,ds,Er=Us+(1&mn),et.Sc,Cr,Ie,un))>Cr)<<7,It=It<<2|(3<Er?3:1<Er?2:Ie[un+0]!=0),un+=16;mn>>=4,zs=zs>>1|Us<<7,tn=(tn<<8|It)>>>0}for(ds=mn,Cr=zs>>4,kn=0;4>kn;kn+=2){for(It=0,mn=Be.la>>4+kn,zs=gn.la>>4+kn,Ln=0;2>Ln;++Ln){for(Us=1&zs,hs=0;2>hs;++hs)Er=Us+(1&mn),mn=mn>>1|(Us=0<(Er=Si(at,Qe[2],Er,et.Qc,0,Ie,un)))<<3,It=It<<2|(3<Er?3:1<Er?2:Ie[un+0]!=0),un+=16;mn>>=2,zs=zs>>1|Us<<5}Kt|=It<<4*kn,ds|=mn<<4<<kn,Cr|=(240&zs)<<kn}Be.la=ds,gn.la=Cr,wt.Hc=tn,wt.Gc=Kt,wt.ia=43690&Kt?0:et.ia,Qe=!(tn|Kt)}if(0<ye.L&&(ye.wa[ye.Y+ye.ja]=ye.gd[Ne.$b][Ne.Za],ye.wa[ye.Y+ye.ja].La|=!Qe),Re.Ka)return Jn(be,7,"Premature end-of-file encountered.")}if(Md(be),ye=Fe,Re=1,Ne=(ve=be).D,Be=0<ve.L&&ve.M>=ve.zb&&ve.M<=ve.Va,ve.Aa==0)e:{if(Ne.M=ve.M,Ne.uc=Be,nu(ve,Ne),Re=1,Ne=(It=ve.D).Nb,Be=(Kt=Wy[ve.L])*ve.R,at=Kt/2*ve.B,Ln=16*Ne*ve.R,hs=8*Ne*ve.B,Qe=ve.sa,wt=ve.ta-Be+Ln,et=ve.qa,Ie=ve.ra-at+hs,un=ve.Ha,gn=ve.Ia-at+hs,zs=(mn=It.M)==0,tn=mn>=ve.Va-1,ve.Aa==2&&nu(ve,It),It.uc)for(Us=(Er=ve).D.M,e(Er.D.uc),It=Er.yb;It<Er.Hb;++It){Cr=It,ds=Us;var Wr=(si=(lr=Er).D).Nb;kn=lr.R;var si=si.wa[si.Y+Cr],$i=lr.sa,ya=lr.ta+16*Wr*kn+16*Cr,Uo=si.dd,Vr=si.tc;if(Vr!=0)if(e(3<=Vr),lr.L==1)0<Cr&&Kn($i,ya,kn,Vr+4),si.La&&Ga($i,ya,kn,Vr),0<ds&&_n($i,ya,kn,Vr+4),si.La&&pr($i,ya,kn,Vr);else{var Rl=lr.B,Xd=lr.qa,wp=lr.ra+8*Wr*Rl+8*Cr,du=lr.Ha,lr=lr.Ia+8*Wr*Rl+8*Cr;Wr=si.ld,0<Cr&&(cu($i,ya,kn,Vr+4,Uo,Wr),Oo(Xd,wp,du,lr,Rl,Vr+4,Uo,Wr)),si.La&&(cs($i,ya,kn,Vr,Uo,Wr),An(Xd,wp,du,lr,Rl,Vr,Uo,Wr)),0<ds&&(Ll($i,ya,kn,Vr+4,Uo,Wr),Tl(Xd,wp,du,lr,Rl,Vr+4,Uo,Wr)),si.La&&(Do($i,ya,kn,Vr,Uo,Wr),Va(Xd,wp,du,lr,Rl,Vr,Uo,Wr))}}if(ve.ia&&alert("todo:DitherRow"),ye.put!=null){if(It=16*mn,mn=16*(mn+1),zs?(ye.y=ve.sa,ye.O=ve.ta+Ln,ye.f=ve.qa,ye.N=ve.ra+hs,ye.ea=ve.Ha,ye.W=ve.Ia+hs):(It-=Kt,ye.y=Qe,ye.O=wt,ye.f=et,ye.N=Ie,ye.ea=un,ye.W=gn),tn||(mn-=Kt),mn>ye.o&&(mn=ye.o),ye.F=null,ye.J=null,ve.Fa!=null&&0<ve.Fa.length&&It<mn&&(ye.J=Wd(ve,ye,It,mn-It),ye.F=ve.mb,ye.F==null&&ye.F.length==0)){Re=Jn(ve,3,"Could not decode alpha data.");break e}It<ye.j&&(Kt=ye.j-It,It=ye.j,e(!(1&Kt)),ye.O+=ve.R*Kt,ye.N+=ve.B*(Kt>>1),ye.W+=ve.B*(Kt>>1),ye.F!=null&&(ye.J+=ye.width*Kt)),It<mn&&(ye.O+=ye.v,ye.N+=ye.v>>1,ye.W+=ye.v>>1,ye.F!=null&&(ye.J+=ye.v),ye.ka=It-ye.j,ye.U=ye.va-ye.v,ye.T=mn-It,Re=ye.put(ye))}Ne+1!=ve.Ic||tn||(r(ve.sa,ve.ta-Be,Qe,wt+16*ve.R,Be),r(ve.qa,ve.ra-at,et,Ie+8*ve.B,at),r(ve.Ha,ve.Ia-at,un,gn+8*ve.B,at))}if(!Re)return Jn(be,6,"Output aborted.")}return 1}(g,b)),b.bc!=null&&b.bc(b),N&=1}return N?(g.cb=0,N):0}function Fs(g,b,N,I,U){U=g[b+N+32*I]+(U>>3),g[b+N+32*I]=-256&U?0>U?0:255:U}function $c(g,b,N,I,U,V){Fs(g,b,0,N,I+U),Fs(g,b,1,N,I+V),Fs(g,b,2,N,I-V),Fs(g,b,3,N,I-U)}function xi(g){return(20091*g>>16)+g}function Od(g,b,N,I){var U,V=0,G=s(16);for(U=0;4>U;++U){var Q=g[b+0]+g[b+8],re=g[b+0]-g[b+8],se=(35468*g[b+4]>>16)-xi(g[b+12]),me=xi(g[b+4])+(35468*g[b+12]>>16);G[V+0]=Q+me,G[V+1]=re+se,G[V+2]=re-se,G[V+3]=Q-me,V+=4,b++}for(U=V=0;4>U;++U)Q=(g=G[V+0]+4)+G[V+8],re=g-G[V+8],se=(35468*G[V+4]>>16)-xi(G[V+12]),Fs(N,I,0,0,Q+(me=xi(G[V+4])+(35468*G[V+12]>>16))),Fs(N,I,1,0,re+se),Fs(N,I,2,0,re-se),Fs(N,I,3,0,Q-me),V++,I+=32}function ep(g,b,N,I){var U=g[b+0]+4,V=35468*g[b+4]>>16,G=xi(g[b+4]),Q=35468*g[b+1]>>16;$c(N,I,0,U+G,g=xi(g[b+1]),Q),$c(N,I,1,U+V,g,Q),$c(N,I,2,U-V,g,Q),$c(N,I,3,U-G,g,Q)}function km(g,b,N,I,U){Od(g,b,N,I),U&&Od(g,b+16,N,I+4)}function qc(g,b,N,I){ou(g,b+0,N,I,1),ou(g,b+32,N,I+128,1)}function Al(g,b,N,I){var U;for(g=g[b+0]+4,U=0;4>U;++U)for(b=0;4>b;++b)Fs(N,I,b,U,g)}function Dd(g,b,N,I){g[b+0]&&ls(g,b+0,N,I),g[b+16]&&ls(g,b+16,N,I+4),g[b+32]&&ls(g,b+32,N,I+128),g[b+48]&&ls(g,b+48,N,I+128+4)}function Wc(g,b,N,I){var U,V=s(16);for(U=0;4>U;++U){var G=g[b+0+U]+g[b+12+U],Q=g[b+4+U]+g[b+8+U],re=g[b+4+U]-g[b+8+U],se=g[b+0+U]-g[b+12+U];V[0+U]=G+Q,V[8+U]=G-Q,V[4+U]=se+re,V[12+U]=se-re}for(U=0;4>U;++U)G=(g=V[0+4*U]+3)+V[3+4*U],Q=V[1+4*U]+V[2+4*U],re=V[1+4*U]-V[2+4*U],se=g-V[3+4*U],N[I+0]=G+Q>>3,N[I+16]=se+re>>3,N[I+32]=G-Q>>3,N[I+48]=se-re>>3,I+=64}function jn(g,b,N){var I,U=b-32,V=Hi,G=255-g[U-1];for(I=0;I<N;++I){var Q,re=V,se=G+g[b-1];for(Q=0;Q<N;++Q)g[b+Q]=re[se+g[U+Q]];b+=32}}function Cm(g,b){jn(g,b,4)}function Em(g,b){jn(g,b,8)}function Nm(g,b){jn(g,b,16)}function fa(g,b){var N;for(N=0;16>N;++N)r(g,b+32*N,g,b-32,16)}function Vc(g,b){var N;for(N=16;0<N;--N)i(g,b,g[b-1],16),b+=32}function Gc(g,b,N){var I;for(I=0;16>I;++I)i(b,N+32*I,g,16)}function tp(g,b){var N,I=16;for(N=0;16>N;++N)I+=g[b-1+32*N]+g[b+N-32];Gc(I>>5,g,b)}function Tr(g,b){var N,I=8;for(N=0;16>N;++N)I+=g[b-1+32*N];Gc(I>>4,g,b)}function jm(g,b){var N,I=8;for(N=0;16>N;++N)I+=g[b+N-32];Gc(I>>4,g,b)}function Bd(g,b){Gc(128,g,b)}function _t(g,b,N){return g+2*b+N+2>>2}function Pm(g,b){var N,I=b-32;for(I=new Uint8Array([_t(g[I-1],g[I+0],g[I+1]),_t(g[I+0],g[I+1],g[I+2]),_t(g[I+1],g[I+2],g[I+3]),_t(g[I+2],g[I+3],g[I+4])]),N=0;4>N;++N)r(g,b+32*N,I,0,I.length)}function Lm(g,b){var N=g[b-1],I=g[b-1+32],U=g[b-1+64],V=g[b-1+96];Le(g,b+0,16843009*_t(g[b-1-32],N,I)),Le(g,b+32,16843009*_t(N,I,U)),Le(g,b+64,16843009*_t(I,U,V)),Le(g,b+96,16843009*_t(U,V,V))}function pa(g,b){var N,I=4;for(N=0;4>N;++N)I+=g[b+N-32]+g[b-1+32*N];for(I>>=3,N=0;4>N;++N)i(g,b+32*N,I,4)}function np(g,b){var N=g[b-1+0],I=g[b-1+32],U=g[b-1+64],V=g[b-1-32],G=g[b+0-32],Q=g[b+1-32],re=g[b+2-32],se=g[b+3-32];g[b+0+96]=_t(I,U,g[b-1+96]),g[b+1+96]=g[b+0+64]=_t(N,I,U),g[b+2+96]=g[b+1+64]=g[b+0+32]=_t(V,N,I),g[b+3+96]=g[b+2+64]=g[b+1+32]=g[b+0+0]=_t(G,V,N),g[b+3+64]=g[b+2+32]=g[b+1+0]=_t(Q,G,V),g[b+3+32]=g[b+2+0]=_t(re,Q,G),g[b+3+0]=_t(se,re,Q)}function rp(g,b){var N=g[b+1-32],I=g[b+2-32],U=g[b+3-32],V=g[b+4-32],G=g[b+5-32],Q=g[b+6-32],re=g[b+7-32];g[b+0+0]=_t(g[b+0-32],N,I),g[b+1+0]=g[b+0+32]=_t(N,I,U),g[b+2+0]=g[b+1+32]=g[b+0+64]=_t(I,U,V),g[b+3+0]=g[b+2+32]=g[b+1+64]=g[b+0+96]=_t(U,V,G),g[b+3+32]=g[b+2+64]=g[b+1+96]=_t(V,G,Q),g[b+3+64]=g[b+2+96]=_t(G,Q,re),g[b+3+96]=_t(Q,re,re)}function Kc(g,b){var N=g[b-1+0],I=g[b-1+32],U=g[b-1+64],V=g[b-1-32],G=g[b+0-32],Q=g[b+1-32],re=g[b+2-32],se=g[b+3-32];g[b+0+0]=g[b+1+64]=V+G+1>>1,g[b+1+0]=g[b+2+64]=G+Q+1>>1,g[b+2+0]=g[b+3+64]=Q+re+1>>1,g[b+3+0]=re+se+1>>1,g[b+0+96]=_t(U,I,N),g[b+0+64]=_t(I,N,V),g[b+0+32]=g[b+1+96]=_t(N,V,G),g[b+1+32]=g[b+2+96]=_t(V,G,Q),g[b+2+32]=g[b+3+96]=_t(G,Q,re),g[b+3+32]=_t(Q,re,se)}function Yc(g,b){var N=g[b+0-32],I=g[b+1-32],U=g[b+2-32],V=g[b+3-32],G=g[b+4-32],Q=g[b+5-32],re=g[b+6-32],se=g[b+7-32];g[b+0+0]=N+I+1>>1,g[b+1+0]=g[b+0+64]=I+U+1>>1,g[b+2+0]=g[b+1+64]=U+V+1>>1,g[b+3+0]=g[b+2+64]=V+G+1>>1,g[b+0+32]=_t(N,I,U),g[b+1+32]=g[b+0+96]=_t(I,U,V),g[b+2+32]=g[b+1+96]=_t(U,V,G),g[b+3+32]=g[b+2+96]=_t(V,G,Q),g[b+3+64]=_t(G,Q,re),g[b+3+96]=_t(Q,re,se)}function Tm(g,b){var N=g[b-1+0],I=g[b-1+32],U=g[b-1+64],V=g[b-1+96];g[b+0+0]=N+I+1>>1,g[b+2+0]=g[b+0+32]=I+U+1>>1,g[b+2+32]=g[b+0+64]=U+V+1>>1,g[b+1+0]=_t(N,I,U),g[b+3+0]=g[b+1+32]=_t(I,U,V),g[b+3+32]=g[b+1+64]=_t(U,V,V),g[b+3+64]=g[b+2+64]=g[b+0+96]=g[b+1+96]=g[b+2+96]=g[b+3+96]=V}function ip(g,b){var N=g[b-1+0],I=g[b-1+32],U=g[b-1+64],V=g[b-1+96],G=g[b-1-32],Q=g[b+0-32],re=g[b+1-32],se=g[b+2-32];g[b+0+0]=g[b+2+32]=N+G+1>>1,g[b+0+32]=g[b+2+64]=I+N+1>>1,g[b+0+64]=g[b+2+96]=U+I+1>>1,g[b+0+96]=V+U+1>>1,g[b+3+0]=_t(Q,re,se),g[b+2+0]=_t(G,Q,re),g[b+1+0]=g[b+3+32]=_t(N,G,Q),g[b+1+32]=g[b+3+64]=_t(I,N,G),g[b+1+64]=g[b+3+96]=_t(U,I,N),g[b+1+96]=_t(V,U,I)}function Rm(g,b){var N;for(N=0;8>N;++N)r(g,b+32*N,g,b-32,8)}function zd(g,b){var N;for(N=0;8>N;++N)i(g,b,g[b-1],8),b+=32}function is(g,b,N){var I;for(I=0;8>I;++I)i(b,N+32*I,g,8)}function Da(g,b){var N,I=8;for(N=0;8>N;++N)I+=g[b+N-32]+g[b-1+32*N];is(I>>4,g,b)}function Im(g,b){var N,I=4;for(N=0;8>N;++N)I+=g[b+N-32];is(I>>3,g,b)}function Ba(g,b){var N,I=4;for(N=0;8>N;++N)I+=g[b-1+32*N];is(I>>3,g,b)}function Xc(g,b){is(128,g,b)}function Jc(g,b,N){var I=g[b-N],U=g[b+0],V=3*(U-I)+Hm[1020+g[b-2*N]-g[b+N]],G=fp[112+(V+4>>3)];g[b-N]=Hi[255+I+fp[112+(V+3>>3)]],g[b+0]=Hi[255+U-G]}function sp(g,b,N,I){var U=g[b+0],V=g[b+N];return us[255+g[b-2*N]-g[b-N]]>I||us[255+V-U]>I}function ap(g,b,N,I){return 4*us[255+g[b-N]-g[b+0]]+us[255+g[b-2*N]-g[b+N]]<=I}function op(g,b,N,I,U){var V=g[b-3*N],G=g[b-2*N],Q=g[b-N],re=g[b+0],se=g[b+N],me=g[b+2*N],_e=g[b+3*N];return 4*us[255+Q-re]+us[255+G-se]>I?0:us[255+g[b-4*N]-V]<=U&&us[255+V-G]<=U&&us[255+G-Q]<=U&&us[255+_e-me]<=U&&us[255+me-se]<=U&&us[255+se-re]<=U}function lp(g,b,N,I){var U=2*I+1;for(I=0;16>I;++I)ap(g,b+I,N,U)&&Jc(g,b+I,N)}function za(g,b,N,I){var U=2*I+1;for(I=0;16>I;++I)ap(g,b+I*N,1,U)&&Jc(g,b+I*N,1)}function Bi(g,b,N,I){var U;for(U=3;0<U;--U)lp(g,b+=4*N,N,I)}function Fm(g,b,N,I){var U;for(U=3;0<U;--U)za(g,b+=4,N,I)}function Ua(g,b,N,I,U,V,G,Q){for(V=2*V+1;0<U--;){if(op(g,b,N,V,G))if(sp(g,b,N,Q))Jc(g,b,N);else{var re=g,se=b,me=N,_e=re[se-2*me],ke=re[se-me],be=re[se+0],Fe=re[se+me],Ne=re[se+2*me],ve=27*(Re=Hm[1020+3*(be-ke)+Hm[1020+_e-Fe]])+63>>7,ye=18*Re+63>>7,Re=9*Re+63>>7;re[se-3*me]=Hi[255+re[se-3*me]+Re],re[se-2*me]=Hi[255+_e+ye],re[se-me]=Hi[255+ke+ve],re[se+0]=Hi[255+be-ve],re[se+me]=Hi[255+Fe-ye],re[se+2*me]=Hi[255+Ne-Re]}b+=I}}function ss(g,b,N,I,U,V,G,Q){for(V=2*V+1;0<U--;){if(op(g,b,N,V,G))if(sp(g,b,N,Q))Jc(g,b,N);else{var re=g,se=b,me=N,_e=re[se-me],ke=re[se+0],be=re[se+me],Fe=fp[112+((Ne=3*(ke-_e))+4>>3)],Ne=fp[112+(Ne+3>>3)],ve=Fe+1>>1;re[se-2*me]=Hi[255+re[se-2*me]+ve],re[se-me]=Hi[255+_e+Ne],re[se+0]=Hi[255+ke-Fe],re[se+me]=Hi[255+be-ve]}b+=I}}function Ud(g,b,N,I,U,V){Ua(g,b,N,1,16,I,U,V)}function _l(g,b,N,I,U,V){Ua(g,b,1,N,16,I,U,V)}function Mm(g,b,N,I,U,V){var G;for(G=3;0<G;--G)ss(g,b+=4*N,N,1,16,I,U,V)}function Qc(g,b,N,I,U,V){var G;for(G=3;0<G;--G)ss(g,b+=4,1,N,16,I,U,V)}function Om(g,b,N,I,U,V,G,Q){Ua(g,b,U,1,8,V,G,Q),Ua(N,I,U,1,8,V,G,Q)}function Hd(g,b,N,I,U,V,G,Q){Ua(g,b,1,U,8,V,G,Q),Ua(N,I,1,U,8,V,G,Q)}function $d(g,b,N,I,U,V,G,Q){ss(g,b+4*U,U,1,8,V,G,Q),ss(N,I+4*U,U,1,8,V,G,Q)}function Ha(g,b,N,I,U,V,G,Q){ss(g,b+4,1,U,8,V,G,Q),ss(N,I+4,1,U,8,V,G,Q)}function Zc(){this.ba=new wi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function eu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cp(){this.ua=0,this.Wa=new ce,this.vb=new ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new F}function ga(){this.xb=this.a=0,this.l=new Hc,this.ca=new wi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cp,this.ab=0,this.gc=a(4,eu),this.Oc=0}function tu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function To(g,b,N,I,U,V,G){for(g=g==null?0:g[b+0],b=0;b<G;++b)U[V+b]=g+N[I+b]&255,g=U[V+b]}function $a(g,b,N,I,U,V,G){var Q;if(g==null)To(null,null,N,I,U,V,G);else for(Q=0;Q<G;++Q)U[V+Q]=g[b+Q]+N[I+Q]&255}function Ro(g,b,N,I,U,V,G){if(g==null)To(null,null,N,I,U,V,G);else{var Q,re=g[b+0],se=re,me=re;for(Q=0;Q<G;++Q)se=me+(re=g[b+Q])-se,me=N[I+Q]+(-256&se?0>se?0:255:se)&255,se=re,U[V+Q]=me}}function Wd(g,b,N,I){var U=b.width,V=b.o;if(e(g!=null&&b!=null),0>N||0>=I||N+I>V)return null;if(!g.Cc){if(g.ga==null){var G;if(g.ga=new tu,(G=g.ga==null)||(G=b.width*b.o,e(g.Gb.length==0),g.Gb=s(G),g.Uc=0,g.Gb==null?G=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,G=1),G=!G),!G){G=g.ga;var Q=g.Fa,re=g.P,se=g.qc,me=g.mb,_e=g.nb,ke=re+1,be=se-1,Fe=G.l;if(e(Q!=null&&me!=null&&b!=null),Bs[0]=null,Bs[1]=To,Bs[2]=$a,Bs[3]=Ro,G.ca=me,G.tb=_e,G.c=b.width,G.i=b.height,e(0<G.c&&0<G.i),1>=se)b=0;else if(G.$a=Q[re+0]>>0&3,G.Z=Q[re+0]>>2&3,G.Lc=Q[re+0]>>4&3,re=Q[re+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||re)b=0;else if(Fe.put=Ls,Fe.ac=sr,Fe.bc=Ts,Fe.ma=G,Fe.width=b.width,Fe.height=b.height,Fe.Da=b.Da,Fe.v=b.v,Fe.va=b.va,Fe.j=b.j,Fe.o=b.o,G.$a)e:{e(G.$a==1),b=bi();t:for(;;){if(b==null){b=0;break e}if(e(G!=null),G.mc=b,b.c=G.c,b.i=G.i,b.l=G.l,b.l.ma=G,b.l.width=G.c,b.l.height=G.i,b.a=0,K(b.m,Q,ke,be),!ha(G.c,G.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Di(b.s)?(G.ic=1,Q=b.c*b.i,b.Ta=null,b.Ua=0,b.V=s(Q),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(G.ic=0,b=Lo(b,G.c)),!b))break t;b=1;break e}G.mc=null,b=0}else b=be>=G.c*G.i;G=!b}if(G)return null;g.ga.Lc!=1?g.Ga=0:I=V-N}e(g.ga!=null),e(N+I<=V);e:{if(b=(Q=g.ga).c,V=Q.l.o,Q.$a==0){if(ke=g.rc,be=g.Vc,Fe=g.Fa,re=g.P+1+N*b,se=g.mb,me=g.nb+N*b,e(re<=g.P+g.qc),Q.Z!=0)for(e(Bs[Q.Z]!=null),G=0;G<I;++G)Bs[Q.Z](ke,be,Fe,re,se,me,b),ke=se,be=me,me+=b,re+=b;else for(G=0;G<I;++G)r(se,me,Fe,re,b),ke=se,be=me,me+=b,re+=b;g.rc=ke,g.Vc=be}else{if(e(Q.mc!=null),b=N+I,e((G=Q.mc)!=null),e(b<=G.i),G.C>=b)b=1;else if(Q.ic||Ae(),Q.ic){Q=G.V,ke=G.Ba,be=G.c;var Ne=G.i,ve=(Fe=1,re=G.$/be,se=G.$%be,me=G.m,_e=G.s,G.$),ye=be*Ne,Re=be*b,Be=_e.wc,Ie=ve<Re?Ht(_e,se,re):null;e(ve<=ye),e(b<=Ne),e(Di(_e));t:for(;;){for(;!me.h&&ve<Re;){if(se&Be||(Ie=Ht(_e,se,re)),e(Ie!=null),le(me),256>(Ne=or(Ie.G[0],Ie.H[0],me)))Q[ke+ve]=Ne,++ve,++se>=be&&(se=0,++re<=b&&!(re%16)&&Rs(G,re));else{if(!(280>Ne)){Fe=0;break t}Ne=ar(Ne-256,me);var at,Qe=or(Ie.G[4],Ie.H[4],me);if(le(me),!(ve>=(Qe=Lr(be,Qe=ar(Qe,me)))&&ye-ve>=Ne)){Fe=0;break t}for(at=0;at<Ne;++at)Q[ke+ve+at]=Q[ke+ve+at-Qe];for(ve+=Ne,se+=Ne;se>=be;)se-=be,++re<=b&&!(re%16)&&Rs(G,re);ve<Re&&se&Be&&(Ie=Ht(_e,se,re))}e(me.h==B(me))}Rs(G,re>b?b:re);break t}!Fe||me.h&&ve<ye?(Fe=0,G.a=me.h?5:3):G.$=ve,b=Fe}else b=ns(G,G.V,G.Ba,G.c,G.i,b,Oc);if(!b){I=0;break e}}N+I>=V&&(g.Cc=1),I=1}if(!I)return null;if(g.Cc&&((I=g.ga)!=null&&(I.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+N*U}function E(g,b,N,I,U,V){for(;0<U--;){var G,Q=g,re=b+(N?1:0),se=g,me=b+(N?0:3);for(G=0;G<I;++G){var _e=se[me+4*G];_e!=255&&(_e*=32897,Q[re+4*G+0]=Q[re+4*G+0]*_e>>23,Q[re+4*G+1]=Q[re+4*G+1]*_e>>23,Q[re+4*G+2]=Q[re+4*G+2]*_e>>23)}b+=V}}function H(g,b,N,I,U){for(;0<I--;){var V;for(V=0;V<N;++V){var G=g[b+2*V+0],Q=15&(se=g[b+2*V+1]),re=4369*Q,se=(240&se|se>>4)*re>>16;g[b+2*V+0]=(240&G|G>>4)*re>>16&240|(15&G|G<<4)*re>>16>>4&15,g[b+2*V+1]=240&se|Q}b+=U}}function oe(g,b,N,I,U,V,G,Q){var re,se,me=255;for(se=0;se<U;++se){for(re=0;re<I;++re){var _e=g[b+re];V[G+4*re]=_e,me&=_e}b+=N,G+=Q}return me!=255}function pe(g,b,N,I,U){var V;for(V=0;V<U;++V)N[I+V]=g[b+V]>>8}function Ae(){Bo=E,uu=H,Kd=oe,zm=pe}function je(g,b,N){P[g]=function(I,U,V,G,Q,re,se,me,_e,ke,be,Fe,Ne,ve,ye,Re,Be){var Ie,at=Be-1>>1,Qe=Q[re+0]|se[me+0]<<16,wt=_e[ke+0]|be[Fe+0]<<16;e(I!=null);var et=3*Qe+wt+131074>>2;for(b(I[U+0],255&et,et>>16,Ne,ve),V!=null&&(et=3*wt+Qe+131074>>2,b(V[G+0],255&et,et>>16,ye,Re)),Ie=1;Ie<=at;++Ie){var un=Q[re+Ie]|se[me+Ie]<<16,gn=_e[ke+Ie]|be[Fe+Ie]<<16,tn=Qe+un+wt+gn+524296,Kt=tn+2*(un+wt)>>3;et=Kt+Qe>>1,Qe=(tn=tn+2*(Qe+gn)>>3)+un>>1,b(I[U+2*Ie-1],255&et,et>>16,Ne,ve+(2*Ie-1)*N),b(I[U+2*Ie-0],255&Qe,Qe>>16,Ne,ve+(2*Ie-0)*N),V!=null&&(et=tn+wt>>1,Qe=Kt+gn>>1,b(V[G+2*Ie-1],255&et,et>>16,ye,Re+(2*Ie-1)*N),b(V[G+2*Ie+0],255&Qe,Qe>>16,ye,Re+(2*Ie+0)*N)),Qe=un,wt=gn}1&Be||(et=3*Qe+wt+131074>>2,b(I[U+Be-1],255&et,et>>16,Ne,ve+(Be-1)*N),V!=null&&(et=3*wt+Qe+131074>>2,b(V[G+Be-1],255&et,et>>16,ye,Re+(Be-1)*N)))}}function $e(){O[Yd]=k,O[pp]=D,O[Dy]=L,O[gp]=ue,O[mp]=Ee,O[$m]=Xe,O[By]=Lt,O[qm]=D,O[Wm]=ue,O[vp]=Ee,O[Ka]=Xe}function rt(g){return g&~CF?0>g?0:255:g>>PE}function gt(g,b){return rt((19077*g>>8)+(26149*b>>8)-14234)}function Ct(g,b,N){return rt((19077*g>>8)-(6419*b>>8)-(13320*N>>8)+8708)}function Rt(g,b){return rt((19077*g>>8)+(33050*b>>8)-17685)}function Gt(g,b,N,I,U){I[U+0]=gt(g,N),I[U+1]=Ct(g,b,N),I[U+2]=Rt(g,b)}function Hn(g,b,N,I,U){I[U+0]=Rt(g,b),I[U+1]=Ct(g,b,N),I[U+2]=gt(g,N)}function $n(g,b,N,I,U){var V=Ct(g,b,N);b=V<<3&224|Rt(g,b)>>3,I[U+0]=248&gt(g,N)|V>>5,I[U+1]=b}function Qn(g,b,N,I,U){var V=240&Rt(g,b)|15;I[U+0]=240&gt(g,N)|Ct(g,b,N)>>4,I[U+1]=V}function fr(g,b,N,I,U){I[U+0]=255,Gt(g,b,N,I,U+1)}function kr(g,b,N,I,U){Hn(g,b,N,I,U),I[U+3]=255}function Ms(g,b,N,I,U){Gt(g,b,N,I,U),I[U+3]=255}function zi(g,b){return 0>g?0:g>b?b:g}function ma(g,b,N){P[g]=function(I,U,V,G,Q,re,se,me,_e){for(var ke=me+(-2&_e)*N;me!=ke;)b(I[U+0],V[G+0],Q[re+0],se,me),b(I[U+1],V[G+0],Q[re+0],se,me+N),U+=2,++G,++re,me+=2*N;1&_e&&b(I[U+0],V[G+0],Q[re+0],se,me)}}function up(g,b,N){return N==0?g==0?b==0?6:5:b==0?4:0:N}function kl(g,b,N,I,U){switch(g>>>30){case 3:ou(b,N,I,U,0);break;case 2:lu(b,N,I,U);break;case 1:ls(b,N,I,U)}}function nu(g,b){var N,I,U=b.M,V=b.Nb,G=g.oc,Q=g.pc+40,re=g.oc,se=g.pc+584,me=g.oc,_e=g.pc+600;for(N=0;16>N;++N)G[Q+32*N-1]=129;for(N=0;8>N;++N)re[se+32*N-1]=129,me[_e+32*N-1]=129;for(0<U?G[Q-1-32]=re[se-1-32]=me[_e-1-32]=129:(i(G,Q-32-1,127,21),i(re,se-32-1,127,9),i(me,_e-32-1,127,9)),I=0;I<g.za;++I){var ke=b.ya[b.aa+I];if(0<I){for(N=-1;16>N;++N)r(G,Q+32*N-4,G,Q+32*N+12,4);for(N=-1;8>N;++N)r(re,se+32*N-4,re,se+32*N+4,4),r(me,_e+32*N-4,me,_e+32*N+4,4)}var be=g.Gd,Fe=g.Hd+I,Ne=ke.ad,ve=ke.Hc;if(0<U&&(r(G,Q-32,be[Fe].y,0,16),r(re,se-32,be[Fe].f,0,8),r(me,_e-32,be[Fe].ea,0,8)),ke.Za){var ye=G,Re=Q-32+16;for(0<U&&(I>=g.za-1?i(ye,Re,be[Fe].y[15],4):r(ye,Re,be[Fe+1].y,0,4)),N=0;4>N;N++)ye[Re+128+N]=ye[Re+256+N]=ye[Re+384+N]=ye[Re+0+N];for(N=0;16>N;++N,ve<<=2)ye=G,Re=Q+TE[N],Ds[ke.Ob[N]](ye,Re),kl(ve,Ne,16*+N,ye,Re)}else if(ye=up(I,U,ke.Ob[0]),zo[ye](G,Q),ve!=0)for(N=0;16>N;++N,ve<<=2)kl(ve,Ne,16*+N,G,Q+TE[N]);for(N=ke.Gc,ye=up(I,U,ke.Dd),Ya[ye](re,se),Ya[ye](me,_e),ve=Ne,ye=re,Re=se,255&(ke=N>>0)&&(170&ke?Mo(ve,256,ye,Re):Os(ve,256,ye,Re)),ke=me,ve=_e,255&(N>>=8)&&(170&N?Mo(Ne,320,ke,ve):Os(Ne,320,ke,ve)),U<g.Ub-1&&(r(be[Fe].y,0,G,Q+480,16),r(be[Fe].f,0,re,se+224,8),r(be[Fe].ea,0,me,_e+224,8)),N=8*V*g.B,be=g.sa,Fe=g.ta+16*I+16*V*g.R,Ne=g.qa,ke=g.ra+8*I+N,ve=g.Ha,ye=g.Ia+8*I+N,N=0;16>N;++N)r(be,Fe+N*g.R,G,Q+32*N,16);for(N=0;8>N;++N)r(Ne,ke+N*g.B,re,se+32*N,8),r(ve,ye+N*g.B,me,_e+32*N,8)}}function Cl(g,b,N,I,U,V,G,Q,re){var se=[0],me=[0],_e=0,ke=re!=null?re.kd:0,be=re??new qd;if(g==null||12>N)return 7;be.data=g,be.w=b,be.ha=N,b=[b],N=[N],be.gb=[be.gb];e:{var Fe=b,Ne=N,ve=be.gb;if(e(g!=null),e(Ne!=null),e(ve!=null),ve[0]=0,12<=Ne[0]&&!t(g,Fe[0],"RIFF")){if(t(g,Fe[0]+8,"WEBP")){ve=3;break e}var ye=Ue(g,Fe[0]+4);if(12>ye||4294967286<ye){ve=3;break e}if(ke&&ye>Ne[0]-8){ve=7;break e}ve[0]=ye,Fe[0]+=12,Ne[0]-=12}ve=0}if(ve!=0)return ve;for(ye=0<be.gb[0],N=N[0];;){e:{var Re=g;Ne=b,ve=N;var Be=se,Ie=me,at=Fe=[0];if((et=_e=[_e])[0]=0,8>ve[0])ve=7;else{if(!t(Re,Ne[0],"VP8X")){if(Ue(Re,Ne[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var Qe=Ue(Re,Ne[0]+8),wt=1+Ve(Re,Ne[0]+12);if(2147483648<=wt*(Re=1+Ve(Re,Ne[0]+15))){ve=3;break e}at!=null&&(at[0]=Qe),Be!=null&&(Be[0]=wt),Ie!=null&&(Ie[0]=Re),Ne[0]+=18,ve[0]-=18,et[0]=1}ve=0}}if(_e=_e[0],Fe=Fe[0],ve!=0)return ve;if(Ne=!!(2&Fe),!ye&&_e)return 3;if(V!=null&&(V[0]=!!(16&Fe)),G!=null&&(G[0]=Ne),Q!=null&&(Q[0]=0),G=se[0],Fe=me[0],_e&&Ne&&re==null){ve=0;break}if(4>N){ve=7;break}if(ye&&_e||!ye&&!_e&&!t(g,b[0],"ALPH")){N=[N],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{Qe=g,ve=b,ye=N;var et=be.gb;Be=be.na,Ie=be.P,at=be.Sa,wt=22,e(Qe!=null),e(ye!=null),Re=ve[0];var un=ye[0];for(e(Be!=null),e(at!=null),Be[0]=null,Ie[0]=null,at[0]=0;;){if(ve[0]=Re,ye[0]=un,8>un){ve=7;break e}var gn=Ue(Qe,Re+4);if(4294967286<gn){ve=3;break e}var tn=8+gn+1&-2;if(wt+=tn,0<et&&wt>et){ve=3;break e}if(!t(Qe,Re,"VP8 ")||!t(Qe,Re,"VP8L")){ve=0;break e}if(un[0]<tn){ve=7;break e}t(Qe,Re,"ALPH")||(Be[0]=Qe,Ie[0]=Re+8,at[0]=gn),Re+=tn,un-=tn}}if(N=N[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],ve!=0)break}N=[N],be.Ja=[be.Ja],be.xa=[be.xa];e:if(et=g,ve=b,ye=N,Be=be.gb[0],Ie=be.Ja,at=be.xa,Qe=ve[0],Re=!t(et,Qe,"VP8 "),wt=!t(et,Qe,"VP8L"),e(et!=null),e(ye!=null),e(Ie!=null),e(at!=null),8>ye[0])ve=7;else{if(Re||wt){if(et=Ue(et,Qe+4),12<=Be&&et>Be-12){ve=3;break e}if(ke&&et>ye[0]-8){ve=7;break e}Ie[0]=et,ve[0]+=8,ye[0]-=8,at[0]=wt}else at[0]=5<=ye[0]&&et[Qe+0]==47&&!(et[Qe+4]>>5),Ie[0]=ye[0];ve=0}if(N=N[0],be.Ja=be.Ja[0],be.xa=be.xa[0],b=b[0],ve!=0)break;if(4294967286<be.Ja)return 3;if(Q==null||Ne||(Q[0]=be.xa?2:1),G=[G],Fe=[Fe],be.xa){if(5>N){ve=7;break}Q=G,ke=Fe,Ne=V,g==null||5>N?g=0:5<=N&&g[b+0]==47&&!(g[b+4]>>5)?(ye=[0],et=[0],Be=[0],K(Ie=new M,g,b,N),Ke(Ie,ye,et,Be)?(Q!=null&&(Q[0]=ye[0]),ke!=null&&(ke[0]=et[0]),Ne!=null&&(Ne[0]=Be[0]),g=1):g=0):g=0}else{if(10>N){ve=7;break}Q=Fe,g==null||10>N||!Jf(g,b+3,N-3)?g=0:(ke=g[b+0]|g[b+1]<<8|g[b+2]<<16,Ne=16383&(g[b+7]<<8|g[b+6]),g=16383&(g[b+9]<<8|g[b+8]),1&ke||3<(ke>>1&7)||!(ke>>4&1)||ke>>5>=be.Ja||!Ne||!g?g=0:(G&&(G[0]=Ne),Q&&(Q[0]=g),g=1))}if(!g||(G=G[0],Fe=Fe[0],_e&&(se[0]!=G||me[0]!=Fe)))return 3;re!=null&&(re[0]=be,re.offset=b-re.w,e(4294967286>b-re.w),e(re.offset==re.ha-N));break}return ve==0||ve==7&&_e&&re==null?(V!=null&&(V[0]|=be.na!=null&&0<be.na.length),I!=null&&(I[0]=G),U!=null&&(U[0]=Fe),0):ve}function El(g,b,N){var I=b.width,U=b.height,V=0,G=0,Q=I,re=U;if(b.Da=g!=null&&0<g.Da,b.Da&&(Q=g.cd,re=g.bd,V=g.v,G=g.j,11>N||(V&=-2,G&=-2),0>V||0>G||0>=Q||0>=re||V+Q>I||G+re>U))return 0;if(b.v=V,b.j=G,b.va=V+Q,b.o=G+re,b.U=Q,b.T=re,b.da=g!=null&&0<g.da,b.da){if(!ft(Q,re,N=[g.ib],V=[g.hb]))return 0;b.ib=N[0],b.hb=V[0]}return b.ob=g!=null&&g.ob,b.Kb=g==null||!g.Sd,b.da&&(b.ob=b.ib<3*I/4&&b.hb<3*U/4,b.Kb=0),1}function Io(g){if(g==null)return 2;if(11>g.S){var b=g.f.RGBA;b.fb+=(g.height-1)*b.A,b.A=-b.A}else b=g.f.kb,g=g.height,b.O+=(g-1)*b.fa,b.fa=-b.fa,b.N+=(g-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(g-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(g-1)*b.lb,b.lb=-b.lb);return 0}function ru(g,b,N,I){if(I==null||0>=g||0>=b)return 2;if(N!=null){if(N.Da){var U=N.cd,V=N.bd,G=-2&N.v,Q=-2&N.j;if(0>G||0>Q||0>=U||0>=V||G+U>g||Q+V>b)return 2;g=U,b=V}if(N.da){if(!ft(g,b,U=[N.ib],V=[N.hb]))return 2;g=U[0],b=V[0]}}I.width=g,I.height=b;e:{var re=I.width,se=I.height;if(g=I.S,0>=re||0>=se||!(g>=Yd&&13>g))g=2;else{if(0>=I.Rd&&I.sd==null){G=V=U=b=0;var me=(Q=re*RE[g])*se;if(11>g||(V=(se+1)/2*(b=(re+1)/2),g==12&&(G=(U=re)*se)),(se=s(me+2*V+G))==null){g=1;break e}I.sd=se,11>g?((re=I.f.RGBA).eb=se,re.fb=0,re.A=Q,re.size=me):((re=I.f.kb).y=se,re.O=0,re.fa=Q,re.Fd=me,re.f=se,re.N=0+me,re.Ab=b,re.Cd=V,re.ea=se,re.W=0+me+V,re.Db=b,re.Ed=V,g==12&&(re.F=se,re.J=0+me+2*V),re.Tc=G,re.lb=U)}if(b=1,U=I.S,V=I.width,G=I.height,U>=Yd&&13>U)if(11>U)g=I.f.RGBA,b&=(Q=Math.abs(g.A))*(G-1)+V<=g.size,b&=Q>=V*RE[U],b&=g.eb!=null;else{g=I.f.kb,Q=(V+1)/2,me=(G+1)/2,re=Math.abs(g.fa),se=Math.abs(g.Ab);var _e=Math.abs(g.Db),ke=Math.abs(g.lb),be=ke*(G-1)+V;b&=re*(G-1)+V<=g.Fd,b&=se*(me-1)+Q<=g.Cd,b=(b&=_e*(me-1)+Q<=g.Ed)&re>=V&se>=Q&_e>=Q,b&=g.y!=null,b&=g.f!=null,b&=g.ea!=null,U==12&&(b&=ke>=V,b&=be<=g.Tc,b&=g.F!=null)}else b=0;g=b?0:2}}return g!=0||N!=null&&N.fd&&(g=Io(I)),g}var ri=64,Nl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],jl=24,Pl=32,iu=8,ii=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(g){return g},P.Predictor2=function(g,b,N){return b[N+0]},P.Predictor3=function(g,b,N){return b[N+1]},P.Predictor4=function(g,b,N){return b[N-1]},P.Predictor5=function(g,b,N){return fe(fe(g,b[N+1]),b[N+0])},P.Predictor6=function(g,b,N){return fe(g,b[N-1])},P.Predictor7=function(g,b,N){return fe(g,b[N+0])},P.Predictor8=function(g,b,N){return fe(b[N-1],b[N+0])},P.Predictor9=function(g,b,N){return fe(b[N+0],b[N+1])},P.Predictor10=function(g,b,N){return fe(fe(g,b[N-1]),fe(b[N+0],b[N+1]))},P.Predictor11=function(g,b,N){var I=b[N+0];return 0>=He(I>>24&255,g>>24&255,(b=b[N-1])>>24&255)+He(I>>16&255,g>>16&255,b>>16&255)+He(I>>8&255,g>>8&255,b>>8&255)+He(255&I,255&g,255&b)?I:g},P.Predictor12=function(g,b,N){var I=b[N+0];return(Te((g>>24&255)+(I>>24&255)-((b=b[N-1])>>24&255))<<24|Te((g>>16&255)+(I>>16&255)-(b>>16&255))<<16|Te((g>>8&255)+(I>>8&255)-(b>>8&255))<<8|Te((255&g)+(255&I)-(255&b)))>>>0},P.Predictor13=function(g,b,N){var I=b[N-1];return(Oe((g=fe(g,b[N+0]))>>24&255,I>>24&255)<<24|Oe(g>>16&255,I>>16&255)<<16|Oe(g>>8&255,I>>8&255)<<8|Oe(g>>0&255,I>>0&255))>>>0};var dp=P.PredictorAdd0;P.PredictorAdd1=Ye,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var su=P.PredictorAdd2;yt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Vd,qr=P.ColorIndexInverseTransform,Gd=P.MapARGB,Dm=P.VP8LColorIndexInverseTransformAlpha,Bm=P.MapAlpha,qa=P.VP8LPredictorsAdd=[];qa.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Ui,as,Fo,va,Wa,au,os,ou,lu,Mo,ls,Os,Ll,cu,Tl,Oo,Do,cs,Va,An,_n,Kn,pr,Ga,Bo,uu,Kd,zm,Fy=s(511),My=s(2041),Oy=s(225),Um=s(767),hp=0,Hm=My,fp=Oy,Hi=Um,us=Fy,Yd=0,pp=1,Dy=2,gp=3,mp=4,$m=5,By=6,qm=7,Wm=8,vp=9,Ka=10,zy=[2,3,7],d5=[3,3,11],Uy=[280,256,256,256,40],h5=[0,1,1,1,0],f5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],p5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Hy=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],g5=8,Vm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Gm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Si=null,yp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Zn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$y=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],m5=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],v5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],y5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],w5=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zo=[],Ds=[],Ya=[],qy=1,Km=2,Bs=[],O=[];je("UpsampleRgbLinePair",Gt,3),je("UpsampleBgrLinePair",Hn,3),je("UpsampleRgbaLinePair",Ms,4),je("UpsampleBgraLinePair",kr,4),je("UpsampleArgbLinePair",fr,4),je("UpsampleRgba4444LinePair",Qn,2),je("UpsampleRgb565LinePair",$n,2);var k=P.UpsampleRgbLinePair,L=P.UpsampleBgrLinePair,D=P.UpsampleRgbaLinePair,ue=P.UpsampleBgraLinePair,Ee=P.UpsampleArgbLinePair,Xe=P.UpsampleRgba4444LinePair,Lt=P.UpsampleRgb565LinePair,At=16,Pn=1<<At-1,Xa=-227,b5=482,PE=6,CF=(256<<PE)-1,LE=0,EF=s(256),NF=s(256),jF=s(256),PF=s(256),LF=s(b5-Xa),TF=s(b5-Xa);ma("YuvToRgbRow",Gt,3),ma("YuvToBgrRow",Hn,3),ma("YuvToRgbaRow",Ms,4),ma("YuvToBgraRow",kr,4),ma("YuvToArgbRow",fr,4),ma("YuvToRgba4444Row",Qn,2),ma("YuvToRgb565Row",$n,2);var TE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wy=[0,2,8],RF=[8,7,6,4,4,2,2,2,1,1,1,1],IF=1;this.WebPDecodeRGBA=function(g,b,N,I,U){var V=pp,G=new Zc,Q=new wi;G.ba=Q,Q.S=V,Q.width=[Q.width],Q.height=[Q.height];var re=Q.width,se=Q.height,me=new Ma;if(me==null||g==null)var _e=2;else e(me!=null),_e=Cl(g,b,N,me.width,me.height,me.Pd,me.Qd,me.format,null);if(_e!=0?re=0:(re!=null&&(re[0]=me.width[0]),se!=null&&(se[0]=me.height[0]),re=1),re){Q.width=Q.width[0],Q.height=Q.height[0],I!=null&&(I[0]=Q.width),U!=null&&(U[0]=Q.height);e:{if(I=new Hc,(U=new qd).data=g,U.w=b,U.ha=N,U.kd=1,b=[0],e(U!=null),((g=Cl(U.data,U.w,U.ha,null,null,null,b,null,U))==0||g==7)&&b[0]&&(g=4),(b=g)==0){if(e(G!=null),I.data=U.data,I.w=U.w+U.offset,I.ha=U.ha-U.offset,I.put=Ls,I.ac=sr,I.bc=Ts,I.ma=G,U.xa){if((g=bi())==null){G=1;break e}if(function(ke,be){var Fe=[0],Ne=[0],ve=[0];t:for(;;){if(ke==null)return 0;if(be==null)return ke.a=2,0;if(ke.l=be,ke.a=0,K(ke.m,be.data,be.w,be.ha),!Ke(ke.m,Fe,Ne,ve)){ke.a=3;break t}if(ke.xb=Km,be.width=Fe[0],be.height=Ne[0],!ha(Fe[0],Ne[0],1,ke,null))break t;return 1}return e(ke.a!=0),0}(g,I)){if(I=(b=ru(I.width,I.height,G.Oa,G.ba))==0){t:{I=g;n:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((N=I.l)!=null),e((U=N.ma)!=null),I.xb!=0){if(I.ca=U.ba,I.tb=U.tb,e(I.ca!=null),!El(U.Oa,N,gp)){I.a=2;break n}if(!Lo(I,N.width)||N.da)break n;if((N.da||on(I.ca.S))&&Ae(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Ae()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!Ze(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!ns(I,I.V,I.Ba,I.c,I.i,N.o,Sl))break n;U.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(b=g.a)}else b=g.a}else{if((g=new Fd)==null){G=1;break e}if(g.Fa=U.na,g.P=U.P,g.qc=U.Sa,Qf(g,I)){if((b=ru(I.width,I.height,G.Oa,G.ba))==0){if(g.Aa=0,N=G.Oa,e((U=g)!=null),N!=null){if(0<(re=0>(re=N.Md)?0:100<re?255:255*re/100)){for(se=me=0;4>se;++se)12>(_e=U.pb[se]).lc&&(_e.ia=re*RF[0>_e.lc?0:_e.lc]>>3),me|=_e.ia;me&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=N.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}hn(g,I)||(b=g.a)}}else b=g.a}b==0&&G.Oa!=null&&G.Oa.fd&&(b=Io(G.ba))}G=b}V=G!=0?null:11>V?Q.f.RGBA.eb:Q.f.kb.y}else V=null;return V};var RE=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,z){for(var q="",R=0;R<4;R++)q+=String.fromCharCode(P[z++]);return q}function d(P,z){return(P[z+0]<<0|P[z+1]<<8|P[z+2]<<16)>>>0}function f(P,z){return(P[z+0]<<0|P[z+1]<<8|P[z+2]<<16|P[z+3]<<24)>>>0}new l;var h=[0],p=[0],y=[],x=new l,_=n,w=function(P,z){var q={},R=0,F=!1,$=0,W=0;if(q.frames=[],!function(J,B,ae,le){for(var ge=0;ge<le;ge++)if(J[B+ge]!=ae.charCodeAt(ge))return!0;return!1}(P,z,"RIFF",4)){var he,ne;for(f(P,z+=4),z+=8;z<P.length;){var X=u(P,z),K=f(P,z+=4);z+=4;var ee=K+(1&K);switch(X){case"VP8 ":case"VP8L":q.frames[R]===void 0&&(q.frames[R]={}),(M=q.frames[R]).src_off=F?W:z-8,M.src_size=$+K+8,R++,F&&(F=!1,$=0,W=0);break;case"VP8X":(M=q.header={}).feature_flags=P[z];var de=z+4;M.canvas_width=1+d(P,de),de+=3,M.canvas_height=1+d(P,de),de+=3;break;case"ALPH":F=!0,$=ee+8,W=z-8;break;case"ANIM":(M=q.header).bgcolor=f(P,z),de=z+4,M.loop_count=(he=P)[(ne=de)+0]<<0|he[ne+1]<<8,de+=2;break;case"ANMF":var xe,M;(M=q.frames[R]={}).offset_x=2*d(P,z),z+=3,M.offset_y=2*d(P,z),z+=3,M.width=1+d(P,z),z+=3,M.height=1+d(P,z),z+=3,M.duration=d(P,z),z+=3,xe=P[z++],M.dispose=1&xe,M.blend=xe>>1&1}X!="ANMF"&&(z+=ee)}return q}}(_,0);w.response=_,w.rgbaoutput=!0,w.dataurl=!1;var A=w.header?w.header:null,S=w.frames?w.frames:null;if(A){A.loop_counter=A.loop_count,h=[A.canvas_height],p=[A.canvas_width];for(var v=0;v<S.length&&S[v].blend!=0;v++);}var C=S[0],j=x.WebPDecodeRGBA(_,C.src_off,C.src_size,p,h);C.rgba=j,C.imgwidth=p[0],C.imgheight=h[0];for(var T=0;T<p[0]*h[0]*4;T++)y[T]=j[T];return this.width=p,this.height=h,this.data=y,this}(function(n){var e=function(){return typeof jk=="function"},t=function(h,p,y,x){var _=4,w=a;switch(x){case n.image_compression.FAST:_=1,w=s;break;case n.image_compression.MEDIUM:_=6,w=o;break;case n.image_compression.SLOW:_=9,w=l}h=r(h,p,y,w);var A=jk(h,{level:_});return n.__addimage__.arrayBufferToBinaryString(A)},r=function(h,p,y,x){for(var _,w,A,S=h.length/p,v=new Uint8Array(h.length+S),C=d(),j=0;j<S;j+=1){if(A=j*p,_=h.subarray(A,A+p),x)v.set(x(_,y,w),A+j);else{for(var T,P=C.length,z=[];T<P;T+=1)z[T]=C[T](_,y,w);var q=f(z.concat());v.set(z[q],A+j)}w=_}return v},i=function(h){var p=Array.apply([],h);return p.unshift(0),p},s=function(h,p){var y,x=[],_=h.length;x[0]=1;for(var w=0;w<_;w+=1)y=h[w-p]||0,x[w+1]=h[w]-y+256&255;return x},a=function(h,p,y){var x,_=[],w=h.length;_[0]=2;for(var A=0;A<w;A+=1)x=y&&y[A]||0,_[A+1]=h[A]-x+256&255;return _},o=function(h,p,y){var x,_,w=[],A=h.length;w[0]=3;for(var S=0;S<A;S+=1)x=h[S-p]||0,_=y&&y[S]||0,w[S+1]=h[S]+256-(x+_>>>1)&255;return w},l=function(h,p,y){var x,_,w,A,S=[],v=h.length;S[0]=4;for(var C=0;C<v;C+=1)x=h[C-p]||0,_=y&&y[C]||0,w=y&&y[C-p]||0,A=u(x,_,w),S[C+1]=h[C]-A+256&255;return S},u=function(h,p,y){if(h===p&&p===y)return h;var x=Math.abs(p-y),_=Math.abs(h-y),w=Math.abs(h+p-y-y);return x<=_&&x<=w?h:_<=w?p:y},d=function(){return[i,s,a,o,l]},f=function(h){var p=h.map(function(y){return y.reduce(function(x,_){return x+Math.abs(_)},0)});return p.indexOf(Math.min.apply(null,p))};n.processPNG=function(h,p,y,x){var _,w,A,S,v,C,j,T,P,z,q,R,F,$,W,he=this.decode.FLATE_DECODE,ne="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(A=new GJ(h)).imgData,w=A.bits,_=A.colorSpace,v=A.colors,[4,6].indexOf(A.colorType)!==-1){if(A.bits===8){P=(T=A.pixelBitlength==32?new Uint32Array(A.decodePixels().buffer):A.pixelBitlength==16?new Uint16Array(A.decodePixels().buffer):new Uint8Array(A.decodePixels().buffer)).length,q=new Uint8Array(P*A.colors),z=new Uint8Array(P);var X,K=A.pixelBitlength-A.bits;for($=0,W=0;$<P;$++){for(F=T[$],X=0;X<K;)q[W++]=F>>>X&255,X+=A.bits;z[$]=F>>>X&255}}if(A.bits===16){P=(T=new Uint32Array(A.decodePixels().buffer)).length,q=new Uint8Array(P*(32/A.pixelBitlength)*A.colors),z=new Uint8Array(P*(32/A.pixelBitlength)),R=A.colors>1,$=0,W=0;for(var ee=0;$<P;)F=T[$++],q[W++]=F>>>0&255,R&&(q[W++]=F>>>16&255,F=T[$++],q[W++]=F>>>0&255),z[ee++]=F>>>16&255;w=8}x!==n.image_compression.NONE&&e()?(h=t(q,A.width*A.colors,A.colors,x),j=t(z,A.width,1,x)):(h=q,j=z,he=void 0)}if(A.colorType===3&&(_=this.color_spaces.INDEXED,C=A.palette,A.transparency.indexed)){var de=A.transparency.indexed,xe=0;for($=0,P=de.length;$<P;++$)xe+=de[$];if((xe/=255)===P-1&&de.indexOf(0)!==-1)S=[de.indexOf(0)];else if(xe!==P){for(T=A.decodePixels(),z=new Uint8Array(T.length),$=0,P=T.length;$<P;$++)z[$]=de[T[$]];j=t(z,A.width,1)}}var M=function(J){var B;switch(J){case n.image_compression.FAST:B=11;break;case n.image_compression.MEDIUM:B=13;break;case n.image_compression.SLOW:B=14;break;default:B=12}return B}(x);return he===this.decode.FLATE_DECODE&&(ne="/Predictor "+M+" "),ne+="/Colors "+v+" /BitsPerComponent "+w+" /Columns "+A.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(j&&this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),{alias:y,data:h,index:p,filter:he,decodeParameters:ne,transparency:S,palette:C,sMask:j,predictor:M,width:A.width,height:A.height,bitsPerComponent:w,colorSpace:_}}}})(bt.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new KJ(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},d=new OS(100).encode(u,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A}(bt.API),eo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},eo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Rn.log("bit decode error:"+t)}},eo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},eo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},eo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},eo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=n}},eo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,u=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=n}},eo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},eo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},eo.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new eo(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new OS(100).encode(l,100);return n.processJPEG.call(this,u,t,r,i)}}(bt.API),D4.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new D4(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new OS(100).encode(l,100);return n.processJPEG.call(this,u,t,r,i)}}(bt.API),bt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var d=r[u],f=r[u+1],h=r[u+2],p=r[u+3];s[o++]=d,s[o++]=f,s[o++]=h,a[l++]=p}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},bt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ep=bt.API,Lw=Ep.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,h=0,p=n.length,y=0,x=o[0]||l,_=[];for(t=0;t<p;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(h=f&&bn(u[r])==="object"&&!isNaN(parseInt(u[r][y],10))?u[r][y]/d:0,_.push((o[r]||x)/l+h)),y=r;return _},I4=Ep.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ep.processArabic&&(n=Ep.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Lw.apply(this,arguments).reduce(function(s,a){return s+a},0)},F4=function(n,e,t,r){for(var i=[],s=0,a=n.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(n.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(n.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},M4=function(n,e,t){t||(t={});var r,i,s,a,o,l,u,d=[],f=[d],h=t.textIndent||0,p=0,y=0,x=n.split(" "),_=Lw.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?x[0].length+2:t.lineIndent||0){var w=Array(l).join(" "),A=[];x.map(function(v){(v=v.split(/\s*\n/)).length>1?A=A.concat(v.map(function(C,j){return(j&&C.length?`
`:"")+C})):A.push(v[0])}),x=A,l=I4.apply(this,[w,t])}for(s=0,a=x.length;s<a;s++){var S=0;if(r=x[s],l&&r[0]==`
`&&(r=r.substr(1),S=1),h+p+(y=(i=Lw.apply(this,[r,t])).reduce(function(v,C){return v+C},0))>e||S){if(y>e){for(o=F4.apply(this,[r,i,e-(h+p),e]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);y=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(v,C){return v+C},0)}else d=[r];f.push(d),h=y+l,p=_}else d.push(r),h+=p+y,p=_}return u=l?function(v,C){return(C?w:"")+v.join(" ")}:function(v){return v.join(" ")},f.map(u)},Ep.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(M4.apply(this,[r[o],a,s]));return u},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},a=n.__fontmetrics__.compress=function(f){var h,p,y,x,_=["{"];for(var w in f){if(h=f[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=s(w).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof h=="number")h<0?(y=s(h).slice(3),x="-"):(y=s(h).slice(2),x=""),y=x+y.slice(0,-1)+r[y.slice(-1)];else{if(bn(h)!=="object")throw new Error("Don't know what to do with value type "+bn(h)+".");y=a(h)}_.push(p+y)}return _.push("}"),_.join("")},o=n.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,y,x,_={},w=1,A=_,S=[],v="",C="",j=f.length-1,T=1;T<j;T+=1)(x=f[T])=="'"?h?(y=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(S.push([A,y]),A={},y=void 0):x=="}"?((p=S.pop())[0][p[1]]=A,y=void 0,A=p[0]):x=="-"?w=-1:y===void 0?t.hasOwnProperty(x)?(v+=t[x],y=parseInt(v,16)*w,w=1,v=""):v+=x:t.hasOwnProperty(x)?(C+=t[x],A[y]=parseInt(C,16)*w,w=1,y=void 0,C=""):C+=x;return _},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var y=u.Unicode[h.postScriptName];y&&(h.metadata.Unicode.encoding=y,h.encoding=y.codePages[0])}])}(bt.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(t1(o)),a.metadata=n.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(bt),function(n){function e(){return(St.canvg?Promise.resolve(St.canvg):hh(()=>import("./index.es-BaSeLcPt.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}bt.API.addSvgAsImage=function(t,r,i,s,a,o,l,u){if(isNaN(r)||isNaN(i))throw Rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=a;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(y){return y.fromString(f,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),r,i,s,a,l,u)})}}(),bt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},bt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,d=0,f=0;function h(y,x){var _,w=!1;for(_=0;_<y.length;_+=1)y[_]===x&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)t[o[f]].value=t[o[f]].defaultValue,t[o[f]].explicitSet=!1}if(bn(n)==="object"){for(i in n)if(s=n[i],h(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&h(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,x=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?x.push("/"+y+" /"+t[y].value):x.push("/"+y+" "+t[y].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(bt.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=s.length;f<h;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},r=function(s){var a,o,l,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(s).sort(function(p,y){return p-y})).length;f<h;f++)a=o[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",y=0;y<h.length;y++)p+=String.fromCharCode(h[y]);var x=u();d({data:p,addLength1:!0,objectId:x}),l("endobj");var _=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Fp(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var A=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Fp(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+n.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+Fp(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+A+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var y=u();d({data:h,addLength1:!0,objectId:y}),l("endobj");var x=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var _=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Fp(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Fp(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,d=s.options||{},f=s.mutex||{},h=f.pdfEscape,p=f.activeFontKey,y=f.fonts,x=p,_="",w=0,A="",S=y[x].encoding;if(y[x].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:f};for(A=o,x=p,Array.isArray(o)&&(A=o[0]),w=0;w<A.length;w+=1)y[x].metadata.hasOwnProperty("cmap")&&(a=y[x].metadata.cmap.unicode.codeMap[A[w].charCodeAt(0)]),a||A[w].charCodeAt(0)<256&&y[x].metadata.hasOwnProperty("Unicode")?_+=A[w]:_+="";var v="";return parseInt(x.slice(1))<14||S==="WinAnsiEncoding"?v=h(_,x).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(v=t(_,y[x])),f.isHex=!0,{text:v,x:l,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(bt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(bt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,a,o,l,u,d,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,S=0;this.__bidiEngine__={};var v=function(R){var F=R.charCodeAt(),$=F>>8,W=x[$];return W!==void 0?f[256*W+(255&F)]:$===252||$===253?"AL":w.test($)?"L":$===8?"R":"N"},C=function(R){for(var F,$=0;$<R.length;$++){if((F=v(R.charAt($)))==="L")return!1;if(F==="R")return!0}return!1},j=function(R,F,$,W){var he,ne,X,K,ee=F[W];switch(ee){case"L":case"R":A=!1;break;case"N":case"AN":break;case"EN":A&&(ee="AN");break;case"AL":A=!0,ee="R";break;case"WS":ee="N";break;case"CS":W<1||W+1>=F.length||(he=$[W-1])!=="EN"&&he!=="AN"||(ne=F[W+1])!=="EN"&&ne!=="AN"?ee="N":A&&(ne="AN"),ee=ne===he?ne:"N";break;case"ES":ee=(he=W>0?$[W-1]:"B")==="EN"&&W+1<F.length&&F[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&$[W-1]==="EN"){ee="EN";break}if(A){ee="N";break}for(X=W+1,K=F.length;X<K&&F[X]==="ET";)X++;ee=X<K&&F[X]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(K=F.length,X=W+1;X<K&&F[X]==="NSM";)X++;if(X<K){var de=R[W],xe=de>=1425&&de<=2303||de===64286;if(he=F[X],xe&&(he==="R"||he==="AL")){ee="R";break}}}ee=W<1||(he=F[W-1])==="B"?"N":$[W-1];break;case"B":A=!1,i=!0,ee=S;break;case"S":s=!0,ee="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"BN":ee="N"}return ee},T=function(R,F,$){var W=R.split("");return $&&P(W,$,{hiLevel:S}),W.reverse(),F&&F.reverse(),W.join("")},P=function(R,F,$){var W,he,ne,X,K,ee=-1,de=R.length,xe=0,M=[],J=S?p:h,B=[];for(A=!1,i=!1,s=!1,he=0;he<de;he++)B[he]=v(R[he]);for(ne=0;ne<de;ne++){if(K=xe,M[ne]=j(R,B,M,ne),W=240&(xe=J[K][y[M[ne]]]),xe&=15,F[ne]=X=J[xe][5],W>0)if(W===16){for(he=ee;he<ne;he++)F[he]=1;ee=-1}else ee=-1;if(J[xe][6])ee===-1&&(ee=ne);else if(ee>-1){for(he=ee;he<ne;he++)F[he]=X;ee=-1}B[ne]==="B"&&(F[ne]=0),$.hiLevel|=X}s&&function(ae,le,ge){for(var we=0;we<ge;we++)if(ae[we]==="S"){le[we]=S;for(var Se=we-1;Se>=0&&ae[Se]==="WS";Se--)le[Se]=S}}(B,F,de)},z=function(R,F,$,W,he){if(!(he.hiLevel<R)){if(R===1&&S===1&&!i)return F.reverse(),void($&&$.reverse());for(var ne,X,K,ee,de=F.length,xe=0;xe<de;){if(W[xe]>=R){for(K=xe+1;K<de&&W[K]>=R;)K++;for(ee=xe,X=K-1;ee<X;ee++,X--)ne=F[ee],F[ee]=F[X],F[X]=ne,$&&(ne=$[ee],$[ee]=$[X],$[X]=ne);xe=K}xe++}}},q=function(R,F,$){var W=R.split(""),he={hiLevel:S};return $||($=[]),P(W,$,he),function(ne,X,K){if(K.hiLevel!==0&&d)for(var ee,de=0;de<ne.length;de++)X[de]===1&&(ee=_.indexOf(ne[de]))>=0&&(ne[de]=_[ee+1])}(W,$,he),z(2,W,F,$,he),z(1,W,F,$,he),W.join("")};return this.__bidiEngine__.doBidiReorder=function(R,F,$){if(function(he,ne){if(ne)for(var X=0;X<he.length;X++)ne[X]=X;o===void 0&&(o=C(he)),u===void 0&&(u=C(he))}(R,F),a||!l||u)if(a&&l&&o^u)S=o?1:0,R=T(R,F,$);else if(!a&&l&&u)S=o?1:0,R=q(R,F,$),R=T(R,F);else if(!a||o||l||u){if(a&&!l&&o^u)R=T(R,F),o?(S=0,R=q(R,F,$)):(S=1,R=q(R,F,$),R=T(R,F));else if(a&&o&&!l&&u)S=1,R=q(R,F,$),R=T(R,F);else if(!a&&!l&&o^u){var W=d;o?(S=1,R=q(R,F,$),S=0,d=!1,R=q(R,F,$),d=W):(S=0,R=q(R,F,$),R=T(R,F),S=1,d=!1,R=q(R,F,$),d=W,R=T(R,F))}}else S=0,R=q(R,F,$);else S=o?1:0,R=q(R,F,$);return R},this.__bidiEngine__.setOptions=function(R){R&&(a=R.isInputVisual,l=R.isOutputVisual,o=R.isInputRtl,u=R.isOutputRtl,d=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),a=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);r.text=a}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(bt),bt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Sd(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new cQ(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new YJ(this.contents),this.head=new JJ(this),this.name=new nQ(this),this.cmap=new _F(this),this.toUnicode={},this.hhea=new QJ(this),this.maxp=new rQ(this),this.hmtx=new iQ(this),this.post=new eQ(this),this.os2=new ZJ(this),this.loca=new lQ(this),this.glyf=new sQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var Po,Sd=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,a,o,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),YJ=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,a,o,l,u,d,f,h,p,y,x;for(x in p=Object.keys(t).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),a=Math.floor(f/l),d=16*p-f,(i=new Sd).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(a),i.writeShort(d),s=16*p,u=i.pos+s,o=null,y=[],t)for(h=t[x],i.writeString(x),i.writeInt(n(h)),i.writeInt(u),i.writeInt(h.length),y=y.concat(h),x==="head"&&(o=u),u+=h.length;u%4;)y.push(0),u++;return i.write(y),r=2981146554-n(i.data),i.pos=o+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,a;for(t=kF.call(t);t.length%4;)t.push(0);for(s=new Sd(t),i=0,r=0,a=t.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),XJ={}.hasOwnProperty,xl=function(n,e){for(var t in e)XJ.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Po=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var JJ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Po),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Sd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),B4=function(){function n(e,t){var r,i,s,a,o,l,u,d,f,h,p,y,x,_,w,A,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,s=function(){var v,C;for(C=[],l=v=0;0<=h?v<h:v>h;l=0<=h?++v:--v)C.push(e.readUInt16());return C}(),e.pos+=2,x=function(){var v,C;for(C=[],l=v=0;0<=h?v<h:v>h;l=0<=h?++v:--v)C.push(e.readUInt16());return C}(),u=function(){var v,C;for(C=[],l=v=0;0<=h?v<h:v>h;l=0<=h?++v:--v)C.push(e.readUInt16());return C}(),d=function(){var v,C;for(C=[],l=v=0;0<=h?v<h:v>h;l=0<=h?++v:--v)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,o=function(){var v,C;for(C=[],l=v=0;0<=i?v<i:v>i;l=0<=i?++v:--v)C.push(e.readUInt16());return C}(),l=w=0,S=s.length;w<S;l=++w)for(_=s[l],r=A=y=x[l];y<=_?A<=_:A>=_;r=y<=_?++A:--A)d[l]===0?a=r+u[l]:(a=o[d[l]/2+(r-y)-(h-l)]||0)!==0&&(a+=u[l]),this.codeMap[r]=65535&a}e.pos=f}return n.encode=function(e,t){var r,i,s,a,o,l,u,d,f,h,p,y,x,_,w,A,S,v,C,j,T,P,z,q,R,F,$,W,he,ne,X,K,ee,de,xe,M,J,B,ae,le,ge,we,Se,Le,De,Ve;switch(W=new Sd,a=Object.keys(e).sort(function(Ue,Ze){return Ue-Ze}),t){case"macroman":for(x=0,_=function(){var Ue=[];for(y=0;y<256;++y)Ue.push(0);return Ue}(),A={0:0},s={},he=0,ee=a.length;he<ee;he++)A[Se=e[i=a[he]]]==null&&(A[Se]=++x),s[i]={old:e[i],new:A[e[i]]},_[i]=A[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(_),{charMap:s,subtable:W.data,maxGlyphID:x+1};case"unicode":for(F=[],f=[],S=0,A={},r={},w=u=null,ne=0,de=a.length;ne<de;ne++)A[C=e[i=a[ne]]]==null&&(A[C]=++S),r[i]={old:C,new:A[C]},o=A[C]-i,w!=null&&o===u||(w&&f.push(w),F.push(i),u=o),w=i;for(w&&f.push(w),f.push(65535),F.push(65535),q=2*(z=F.length),P=2*Math.pow(Math.log(z)/Math.LN2,2),h=Math.log(P/2)/Math.LN2,T=2*z-P,l=[],j=[],p=[],y=X=0,xe=F.length;X<xe;y=++X){if(R=F[y],d=f[y],R===65535){l.push(0),j.push(0);break}if(R-($=r[R].new)>=32768)for(l.push(0),j.push(2*(p.length+z-y)),i=K=R;R<=d?K<=d:K>=d;i=R<=d?++K:--K)p.push(r[i].new);else l.push($-R),j.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*z+2*p.length),W.writeUInt16(0),W.writeUInt16(q),W.writeUInt16(P),W.writeUInt16(h),W.writeUInt16(T),ge=0,M=f.length;ge<M;ge++)i=f[ge],W.writeUInt16(i);for(W.writeUInt16(0),we=0,J=F.length;we<J;we++)i=F[we],W.writeUInt16(i);for(Le=0,B=l.length;Le<B;Le++)o=l[Le],W.writeUInt16(o);for(De=0,ae=j.length;De<ae;De++)v=j[De],W.writeUInt16(v);for(Ve=0,le=p.length;Ve<le;Ve++)x=p[Ve],W.writeUInt16(x);return{charMap:r,subtable:W.data,maxGlyphID:S+1}}},n}(),_F=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Po),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new B4(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=B4.encode(t,r),(s=new Sd).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),QJ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Po),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),ZJ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Po),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),eQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Po),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)u.push(t.readUInt32());return u}).call(this)}},e}(),tQ=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},nQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Po),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,a,o,l,u,d,f,h,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(u={},a=f=0,h=i.length;f<h;a=++f)s=i[a],t.pos=s.offset,d=t.readString(s.length),o=new tQ(d,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),rQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Po),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),iQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Po),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,a,o,l,u;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)f.push(t.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)a=h[d],p.push(a.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),kF=[].slice,sQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Po),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,a,o,l,u,d,f,h;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,o=(l=new Sd(r.read(s))).readShort(),d=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[t]=o===-1?new oQ(l,d,h,u,f):new aQ(l,o,d,h,u,f),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,a,o,l,u;for(o=[],a=[],l=0,u=r.length;l<u;l++)s=t[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),aQ=function(){function n(e,t,r,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),oQ=function(){function n(e,t,r,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Sd(kF.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),lQ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Po),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var d=new Array(4*i.length),f=0;f<i.length;++f)d[4*f+3]=255&i[f],d[4*f+2]=(65280&i[f])>>8,d[4*f+1]=(16711680&i[f])>>16,d[4*f]=(4278190080&i[f])>>24;return d},e}(),cQ=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,a,o,l,u,d,f,h,p,y,x,_,w;for(i in r=_F.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(y in h=r.maxGlyphID,a)y in p||(p[y]=h++);return d=function(A){var S,v;for(S in v={},A)v[A[S]]=S;return v}(p),f=Object.keys(d).sort(function(A,S){return A-S}),x=function(){var A,S,v;for(v=[],A=0,S=f.length;A<S;A++)o=f[A],v.push(d[o]);return v}(),s=this.font.glyf.encode(a,x,p),u=this.font.loca.encode(s.offsets,x),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},n}();bt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,a;if(Array.isArray(t))return"["+function(){var o,l,u;for(u=[],o=0,l=t.length;o<l;o++)r=t[o],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();const uQ=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:UJ,AcroFormAppearance:ut,AcroFormButton:zr,AcroFormCheckBox:i1,AcroFormChoiceField:mf,AcroFormComboBox:yf,AcroFormEditBox:n1,AcroFormListBox:vf,AcroFormPasswordField:s1,AcroFormPushButton:r1,AcroFormRadioButton:wf,AcroFormTextField:gd,GState:O1,ShadingPattern:Pu,TilingPattern:fh,default:bt,jsPDF:bt},Symbol.toStringTag,{value:"Module"}));var dQ={exports:{}};const hQ=YF(uQ);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.3
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(n,e){(function(r,i){n.exports=i(function(){try{return hQ}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Ri<"u"?Ri:typeof window<"u"?window:typeof self<"u"?self:Ri,function(t){return function(){var r={172:function(o,l){var u=this&&this.__extends||function(){var h=function(p,y){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,_){x.__proto__=_}||function(x,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(x[w]=_[w])},h(p,y)};return function(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");h(p,y);function x(){this.constructor=p}p.prototype=y===null?Object.create(y):(x.prototype=y.prototype,new x)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var d=function(){function h(p,y,x){this.table=y,this.pageNumber=y.pageNumber,this.pageCount=this.pageNumber,this.settings=y.settings,this.cursor=x,this.doc=p.getDocument()}return h}();l.HookData=d;var f=function(h){u(p,h);function p(y,x,_,w,A,S){var v=h.call(this,y,x,S)||this;return v.cell=_,v.row=w,v.column=A,v.section=w.section,v}return p}(d);l.CellHookData=f},340:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0});var d=u(4),f=u(136),h=u(744),p=u(776),y=u(664),x=u(972);function _(w){w.API.autoTable=function(){for(var A=[],S=0;S<arguments.length;S++)A[S]=arguments[S];var v;A.length===1?v=A[0]:(console.error("Use of deprecated autoTable initiation"),v=A[2]||{},v.columns=A[0],v.body=A[1]);var C=(0,p.parseInput)(this,v),j=(0,x.createTable)(this,C);return(0,y.drawTable)(this,j),this},w.API.lastAutoTable=!1,w.API.previousAutoTable=!1,w.API.autoTable.previous=!1,w.API.autoTableText=function(A,S,v,C){(0,f.default)(A,S,v,C,this)},w.API.autoTableSetDefaults=function(A){return h.DocHandler.setDefaults(A,this),this},w.autoTableSetDefaults=function(A,S){h.DocHandler.setDefaults(A,S)},w.API.autoTableHtmlToJson=function(A,S){var v;if(S===void 0&&(S=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var C=new h.DocHandler(this),j=(0,d.parseHtml)(C,A,window,S,!1),T=j.head,P=j.body,z=((v=T[0])===null||v===void 0?void 0:v.map(function(q){return q.content}))||[];return{columns:z,rows:P,data:P}},w.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var A=this.lastAutoTable;return A&&A.finalY?A.finalY:0},w.API.autoTableAddPageContent=function(A){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),w.API.autoTable.globalDefaults||(w.API.autoTable.globalDefaults={}),w.API.autoTable.globalDefaults.addPageContent=A,this},w.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=_},136:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(d,f,h,p,y){p=p||{};var x=1.15,_=y.internal.scaleFactor,w=y.internal.getFontSize()/_,A=y.getLineHeightFactor?y.getLineHeightFactor():x,S=w*A,v=/\r\n|\r|\n/g,C="",j=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(C=typeof d=="string"?d.split(v):d,j=C.length||1),h+=w*(2-x),p.valign==="middle"?h-=j/2*S:p.valign==="bottom"&&(h-=j*S),p.halign==="center"||p.halign==="right"){var T=w;if(p.halign==="center"&&(T*=.5),C&&j>=1){for(var P=0;P<C.length;P++)y.text(C[P],f-y.getStringUnitWidth(C[P])*T,h),h+=S;return y}f-=y.getStringUnitWidth(d)*T}return p.halign==="justify"?y.text(d,f,h,{maxWidth:p.maxWidth||100,align:"justify"}):y.text(d,f,h),y}l.default=u},420:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(y,x,_){_.applyStyles(x,!0);var w=Array.isArray(y)?y:[y],A=w.map(function(S){return _.getTextWidth(S)}).reduce(function(S,v){return Math.max(S,v)},0);return A}l.getStringWidth=u;function d(y,x,_,w){var A=x.settings.tableLineWidth,S=x.settings.tableLineColor;y.applyStyles({lineWidth:A,lineColor:S});var v=f(A,!1);v&&y.rect(_.x,_.y,x.getWidth(y.pageSize().width),w.y-_.y,v)}l.addTableBorder=d;function f(y,x){var _=y>0,w=x||x===0;return _&&w?"DF":_?"S":w?"F":null}l.getFillStyle=f;function h(y,x){var _,w,A,S;if(y=y||x,Array.isArray(y)){if(y.length>=4)return{top:y[0],right:y[1],bottom:y[2],left:y[3]};if(y.length===3)return{top:y[0],right:y[1],bottom:y[2],left:y[1]};if(y.length===2)return{top:y[0],right:y[1],bottom:y[0],left:y[1]};y.length===1?y=y[0]:y=x}return typeof y=="object"?(typeof y.vertical=="number"&&(y.top=y.vertical,y.bottom=y.vertical),typeof y.horizontal=="number"&&(y.right=y.horizontal,y.left=y.horizontal),{left:(_=y.left)!==null&&_!==void 0?_:x,top:(w=y.top)!==null&&w!==void 0?w:x,right:(A=y.right)!==null&&A!==void 0?A:x,bottom:(S=y.bottom)!==null&&S!==void 0?S:x}):(typeof y!="number"&&(y=x),{top:y,right:y,bottom:y,left:y})}l.parseSpacing=h;function p(y,x){var _=h(x.settings.margin,0);return y.pageSize().width-(_.left+_.right)}l.getPageAvailableWidth=p},796:function(o,l){var u=this&&this.__extends||function(){var p=function(y,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(_[A]=w[A])},p(y,x)};return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(y,x);function _(){this.constructor=y}y.prototype=x===null?Object.create(x):(_.prototype=x.prototype,new _)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var d=function(p){u(y,p);function y(x){var _=p.call(this)||this;return _._element=x,_}return y}(Array);l.HtmlRowInput=d;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function h(p){var y={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return y[p]}l.getTheme=h},903:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var d=u(420);function f(_,w,A,S,v){var C={},j=1.3333333333333333,T=p(w,function(ee){return v.getComputedStyle(ee).backgroundColor});T!=null&&(C.fillColor=T);var P=p(w,function(ee){return v.getComputedStyle(ee).color});P!=null&&(C.textColor=P);var z=x(S,A);z&&(C.cellPadding=z);var q="borderTopColor",R=j*A,F=S.borderTopWidth;if(S.borderBottomWidth===F&&S.borderRightWidth===F&&S.borderLeftWidth===F){var $=(parseFloat(F)||0)/R;$&&(C.lineWidth=$)}else C.lineWidth={top:(parseFloat(S.borderTopWidth)||0)/R,right:(parseFloat(S.borderRightWidth)||0)/R,bottom:(parseFloat(S.borderBottomWidth)||0)/R,left:(parseFloat(S.borderLeftWidth)||0)/R},C.lineWidth.top||(C.lineWidth.right?q="borderRightColor":C.lineWidth.bottom?q="borderBottomColor":C.lineWidth.left&&(q="borderLeftColor"));var W=p(w,function(ee){return v.getComputedStyle(ee)[q]});W!=null&&(C.lineColor=W);var he=["left","right","center","justify"];he.indexOf(S.textAlign)!==-1&&(C.halign=S.textAlign),he=["middle","bottom","top"],he.indexOf(S.verticalAlign)!==-1&&(C.valign=S.verticalAlign);var ne=parseInt(S.fontSize||"");isNaN(ne)||(C.fontSize=ne/j);var X=h(S);X&&(C.fontStyle=X);var K=(S.fontFamily||"").toLowerCase();return _.indexOf(K)!==-1&&(C.font=K),C}l.parseCss=f;function h(_){var w="";return(_.fontWeight==="bold"||_.fontWeight==="bolder"||parseInt(_.fontWeight)>=700)&&(w="bold"),(_.fontStyle==="italic"||_.fontStyle==="oblique")&&(w+="italic"),w}function p(_,w){var A=y(_,w);if(!A)return null;var S=A.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!S||!Array.isArray(S))return null;var v=[parseInt(S[1]),parseInt(S[2]),parseInt(S[3])],C=parseInt(S[4]);return C===0||isNaN(v[0])||isNaN(v[1])||isNaN(v[2])?null:v}function y(_,w){var A=w(_);return A==="rgba(0, 0, 0, 0)"||A==="transparent"||A==="initial"||A==="inherit"?_.parentElement==null?null:y(_.parentElement,w):A}function x(_,w){var A=[_.paddingTop,_.paddingRight,_.paddingBottom,_.paddingLeft],S=96/(72/w),v=(parseInt(_.lineHeight)-parseInt(_.fontSize))/w/2,C=A.map(function(T){return parseInt(T||"0")/S}),j=(0,d.parseSpacing)(C,0);return v>j.top&&(j.top=v),v>j.bottom&&(j.bottom=v),j}},744:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},d=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,p){var y,x,_;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var w=this.jsPDFDocument.internal.getFont(),A=w.fontStyle,S=w.fontName;if(h.font&&(S=h.font),h.fontStyle){A=h.fontStyle;var v=this.getFontList()[S];v&&v.indexOf(A)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(v[0]),A=v[0])}if(this.jsPDFDocument.setFont(S,A),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var C=f.unifyColor(h.fillColor);C&&(y=this.jsPDFDocument).setFillColor.apply(y,C),C=f.unifyColor(h.textColor),C&&(x=this.jsPDFDocument).setTextColor.apply(x,C),C=f.unifyColor(h.lineColor),C&&(_=this.jsPDFDocument).setDrawColor.apply(_,C),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,p,y){return this.jsPDFDocument.splitTextToSize(h,p,y)},f.prototype.rect=function(h,p,y,x,_){return this.jsPDFDocument.rect(h,p,y,x,_)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=d},4:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var d=u(903),f=u(796);function h(x,_,w,A,S){var v,C;A===void 0&&(A=!1),S===void 0&&(S=!1);var j;typeof _=="string"?j=w.document.querySelector(_):j=_;var T=Object.keys(x.getFontList()),P=x.scaleFactor(),z=[],q=[],R=[];if(!j)return console.error("Html table could not be found with input: ",_),{head:z,body:q,foot:R};for(var F=0;F<j.rows.length;F++){var $=j.rows[F],W=(C=(v=$==null?void 0:$.parentElement)===null||v===void 0?void 0:v.tagName)===null||C===void 0?void 0:C.toLowerCase(),he=p(T,P,w,$,A,S);he&&(W==="thead"?z.push(he):W==="tfoot"?R.push(he):q.push(he))}return{head:z,body:q,foot:R}}l.parseHtml=h;function p(x,_,w,A,S,v){for(var C=new f.HtmlRowInput(A),j=0;j<A.cells.length;j++){var T=A.cells[j],P=w.getComputedStyle(T);if(S||P.display!=="none"){var z=void 0;v&&(z=(0,d.parseCss)(x,T,_,P,w)),C.push({rowSpan:T.rowSpan,colSpan:T.colSpan,styles:z,_element:T,content:y(T)})}}var q=w.getComputedStyle(A);if(C.length>0&&(S||q.display!=="none"))return C}function y(x){var _=x.cloneNode(!0);return _.innerHTML=_.innerHTML.replace(/\n/g,"").replace(/ +/g," "),_.innerHTML=_.innerHTML.split(/<br.*?>/).map(function(w){return w.trim()}).join(`
`),_.innerText||_.textContent||""}},776:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var d=u(4),f=u(356),h=u(420),p=u(744),y=u(792);function x(j,T){var P=new p.DocHandler(j),z=P.getDocumentOptions(),q=P.getGlobalOptions();(0,y.default)(P,q,z,T);var R=(0,f.assign)({},q,z,T),F;typeof window<"u"&&(F=window);var $=_(q,z,T),W=w(q,z,T),he=A(P,R),ne=v(P,R,F);return{id:T.tableId,content:ne,hooks:W,styles:$,settings:he}}l.parseInput=x;function _(j,T,P){for(var z={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},q=function(W){if(W==="columnStyles"){var he=j[W],ne=T[W],X=P[W];z.columnStyles=(0,f.assign)({},he,ne,X)}else{var K=[j,T,P],ee=K.map(function(de){return de[W]||{}});z[W]=(0,f.assign)({},ee[0],ee[1],ee[2])}},R=0,F=Object.keys(z);R<F.length;R++){var $=F[R];q($)}return z}function w(j,T,P){for(var z=[j,T,P],q={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},R=0,F=z;R<F.length;R++){var $=F[R];$.didParseCell&&q.didParseCell.push($.didParseCell),$.willDrawCell&&q.willDrawCell.push($.willDrawCell),$.didDrawCell&&q.didDrawCell.push($.didDrawCell),$.willDrawPage&&q.willDrawPage.push($.willDrawPage),$.didDrawPage&&q.didDrawPage.push($.didDrawPage)}return q}function A(j,T){var P,z,q,R,F,$,W,he,ne,X,K,ee,de=(0,h.parseSpacing)(T.margin,40/j.scaleFactor()),xe=(P=S(j,T.startY))!==null&&P!==void 0?P:de.top,M;T.showFoot===!0?M="everyPage":T.showFoot===!1?M="never":M=(z=T.showFoot)!==null&&z!==void 0?z:"everyPage";var J;T.showHead===!0?J="everyPage":T.showHead===!1?J="never":J=(q=T.showHead)!==null&&q!==void 0?q:"everyPage";var B=(R=T.useCss)!==null&&R!==void 0?R:!1,ae=T.theme||(B?"plain":"striped"),le=!!T.horizontalPageBreak,ge=(F=T.horizontalPageBreakRepeat)!==null&&F!==void 0?F:null;return{includeHiddenHtml:($=T.includeHiddenHtml)!==null&&$!==void 0?$:!1,useCss:B,theme:ae,startY:xe,margin:de,pageBreak:(W=T.pageBreak)!==null&&W!==void 0?W:"auto",rowPageBreak:(he=T.rowPageBreak)!==null&&he!==void 0?he:"auto",tableWidth:(ne=T.tableWidth)!==null&&ne!==void 0?ne:"auto",showHead:J,showFoot:M,tableLineWidth:(X=T.tableLineWidth)!==null&&X!==void 0?X:0,tableLineColor:(K=T.tableLineColor)!==null&&K!==void 0?K:200,horizontalPageBreak:le,horizontalPageBreakRepeat:ge,horizontalPageBreakBehaviour:(ee=T.horizontalPageBreakBehaviour)!==null&&ee!==void 0?ee:"afterAllRows"}}function S(j,T){var P=j.getLastAutoTable(),z=j.scaleFactor(),q=j.pageNumber(),R=!1;if(P&&P.startPageNumber){var F=P.startPageNumber+P.pageNumber-1;R=F===q}return typeof T=="number"?T:(T==null||T===!1)&&R&&(P==null?void 0:P.finalY)!=null?P.finalY+20/z:null}function v(j,T,P){var z=T.head||[],q=T.body||[],R=T.foot||[];if(T.html){var F=T.includeHiddenHtml;if(P){var $=(0,d.parseHtml)(j,T.html,P,F,T.useCss)||{};z=$.head||z,q=$.body||z,R=$.foot||z}else console.error("Cannot parse html in non browser environment")}var W=T.columns||C(z,q,R);return{columns:W,head:z,body:q,foot:R}}function C(j,T,P){var z=j[0]||T[0]||P[0]||[],q=[];return Object.keys(z).filter(function(R){return R!=="_element"}).forEach(function(R){var F=1,$;Array.isArray(z)?$=z[parseInt(R)]:$=z[R],typeof $=="object"&&!Array.isArray($)&&(F=($==null?void 0:$.colSpan)||1);for(var W=0;W<F;W++){var he=void 0;Array.isArray(z)?he=q.length:he=R+(W>0?"_".concat(W):"");var ne={dataKey:he};q.push(ne)}}),q}},792:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(f,h,p,y){for(var x=function(S){S&&typeof S!="object"&&console.error("The options parameter should be of type object, is: "+typeof S),typeof S.extendWidth<"u"&&(S.tableWidth=S.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof S.margins<"u"&&(typeof S.margin>"u"&&(S.margin=S.margins),console.error("Use of deprecated option: margins, use margin instead.")),S.startY&&typeof S.startY!="number"&&(console.error("Invalid value for startY option",S.startY),delete S.startY),!S.didDrawPage&&(S.afterPageContent||S.beforePageContent||S.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),S.didDrawPage=function(R){f.applyStyles(f.userStyles),S.beforePageContent&&S.beforePageContent(R),f.applyStyles(f.userStyles),S.afterPageContent&&S.afterPageContent(R),f.applyStyles(f.userStyles),S.afterPageAdd&&R.pageNumber>1&&R.afterPageAdd(R),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(R){S[R]&&console.error('The "'.concat(R,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(R){var F=R[0],$=R[1];S[$]&&(console.error("Use of deprecated option ".concat($,". Use ").concat(F," instead")),S[F]=S[$])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(R){var F=typeof R=="string"?R:R[0],$=typeof R=="string"?R:R[1];typeof S[F]<"u"&&(typeof S.styles[$]>"u"&&(S.styles[$]=S[F]),console.error("Use of deprecated option: "+F+", use the style "+$+" instead."))});for(var v=0,C=["styles","bodyStyles","headStyles","footStyles"];v<C.length;v++){var j=C[v];d(S[j]||{})}for(var T=S.columnStyles||{},P=0,z=Object.keys(T);P<z.length;P++){var q=z[P];d(T[q]||{})}},_=0,w=[h,p,y];_<w.length;_++){var A=w[_];x(A)}}l.default=u;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var d=u(796),f=u(172),h=u(420),p=function(){function w(A,S){this.pageNumber=1,this.pageCount=1,this.id=A.id,this.settings=A.settings,this.styles=A.styles,this.hooks=A.hooks,this.columns=S.columns,this.head=S.head,this.body=S.body,this.foot=S.foot}return w.prototype.getHeadHeight=function(A){return this.head.reduce(function(S,v){return S+v.getMaxCellHeight(A)},0)},w.prototype.getFootHeight=function(A){return this.foot.reduce(function(S,v){return S+v.getMaxCellHeight(A)},0)},w.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},w.prototype.callCellHooks=function(A,S,v,C,j,T){for(var P=0,z=S;P<z.length;P++){var q=z[P],R=new f.CellHookData(A,this,v,C,j,T),F=q(R)===!1;if(v.text=Array.isArray(v.text)?v.text:[v.text],F)return!1}return!0},w.prototype.callEndPageHooks=function(A,S){A.applyStyles(A.userStyles);for(var v=0,C=this.hooks.didDrawPage;v<C.length;v++){var j=C[v];j(new f.HookData(A,this,S))}},w.prototype.callWillDrawPageHooks=function(A,S){for(var v=0,C=this.hooks.willDrawPage;v<C.length;v++){var j=C[v];j(new f.HookData(A,this,S))}},w.prototype.getWidth=function(A){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var S=this.columns.reduce(function(C,j){return C+j.wrappedWidth},0);return S}else{var v=this.settings.margin;return A-v.left-v.right}},w}();l.Table=p;var y=function(){function w(A,S,v,C,j){j===void 0&&(j=!1),this.height=0,this.raw=A,A instanceof d.HtmlRowInput&&(this.raw=A._element,this.element=A._element),this.index=S,this.section=v,this.cells=C,this.spansMultiplePages=j}return w.prototype.getMaxCellHeight=function(A){var S=this;return A.reduce(function(v,C){var j;return Math.max(v,((j=S.cells[C.index])===null||j===void 0?void 0:j.height)||0)},0)},w.prototype.hasRowSpan=function(A){var S=this;return A.filter(function(v){var C=S.cells[v.index];return C?C.rowSpan>1:!1}).length>0},w.prototype.canEntireRowFit=function(A,S){return this.getMaxCellHeight(S)<=A},w.prototype.getMinimumRowHeight=function(A,S){var v=this;return A.reduce(function(C,j){var T=v.cells[j.index];if(!T)return 0;var P=S.getLineHeight(T.styles.fontSize),z=T.padding("vertical"),q=z+P;return q>C?q:C},0)},w}();l.Row=y;var x=function(){function w(A,S,v){var C,j;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=S,this.section=v,this.raw=A;var T=A;A!=null&&typeof A=="object"&&!Array.isArray(A)?(this.rowSpan=A.rowSpan||1,this.colSpan=A.colSpan||1,T=(j=(C=A.content)!==null&&C!==void 0?C:A.title)!==null&&j!==void 0?j:A,A._element&&(this.raw=A._element)):(this.rowSpan=1,this.colSpan=1);var P=T!=null?""+T:"",z=/\r\n|\r|\n/g;this.text=P.split(z)}return w.prototype.getTextPos=function(){var A;if(this.styles.valign==="top")A=this.y+this.padding("top");else if(this.styles.valign==="bottom")A=this.y+this.height-this.padding("bottom");else{var S=this.height-this.padding("vertical");A=this.y+S/2+this.padding("top")}var v;if(this.styles.halign==="right")v=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var C=this.width-this.padding("horizontal");v=this.x+C/2+this.padding("left")}else v=this.x+this.padding("left");return{x:v,y:A}},w.prototype.getContentHeight=function(A,S){S===void 0&&(S=1.15);var v=Array.isArray(this.text)?this.text.length:1,C=this.styles.fontSize/A*S,j=v*C+this.padding("vertical");return Math.max(j,this.styles.minCellHeight)},w.prototype.padding=function(A){var S=(0,h.parseSpacing)(this.styles.cellPadding,0);return A==="vertical"?S.top+S.bottom:A==="horizontal"?S.left+S.right:S[A]},w}();l.Cell=x;var _=function(){function w(A,S,v){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=A,this.raw=S,this.index=v}return w.prototype.getMaxCustomCellWidth=function(A){for(var S=0,v=0,C=A.allRows();v<C.length;v++){var j=C[v],T=j.cells[this.index];T&&typeof T.styles.cellWidth=="number"&&(S=Math.max(S,T.styles.cellWidth))}return S},w}();l.Column=_},356:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(d,f,h,p,y){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(d),_=1;_<arguments.length;_++){var w=arguments[_];if(w!=null)for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(x[A]=w[A])}return x}l.assign=u},972:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var d=u(744),f=u(260),h=u(324),p=u(796),y=u(356);function x(j,T){var P=new d.DocHandler(j),z=_(T,P.scaleFactor()),q=new f.Table(T,z);return(0,h.calculateWidths)(P,q),P.applyStyles(P.userStyles),q}l.createTable=x;function _(j,T){var P=j.content,z=v(P.columns);if(P.head.length===0){var q=A(z,"head");q&&P.head.push(q)}if(P.foot.length===0){var q=A(z,"foot");q&&P.foot.push(q)}var R=j.settings.theme,F=j.styles;return{columns:z,head:w("head",P.head,z,F,R,T),body:w("body",P.body,z,F,R,T),foot:w("foot",P.foot,z,F,R,T)}}function w(j,T,P,z,q,R){var F={},$=T.map(function(W,he){for(var ne=0,X={},K=0,ee=0,de=0,xe=P;de<xe.length;de++){var M=xe[de];if(F[M.index]==null||F[M.index].left===0)if(ee===0){var J=void 0;Array.isArray(W)?J=W[M.index-K-ne]:J=W[M.dataKey];var B={};typeof J=="object"&&!Array.isArray(J)&&(B=(J==null?void 0:J.styles)||{});var ae=C(j,M,he,q,z,R,B),le=new f.Cell(J,ae,j);X[M.dataKey]=le,X[M.index]=le,ee=le.colSpan-1,F[M.index]={left:le.rowSpan-1,times:ee}}else ee--,K++;else F[M.index].left--,ee=F[M.index].times,ne++}return new f.Row(W,he,j,X)});return $}function A(j,T){var P={};return j.forEach(function(z){if(z.raw!=null){var q=S(T,z.raw);q!=null&&(P[z.dataKey]=q)}}),Object.keys(P).length>0?P:null}function S(j,T){if(j==="head"){if(typeof T=="object")return T.header||T.title||null;if(typeof T=="string"||typeof T=="number")return T}else if(j==="foot"&&typeof T=="object")return T.footer;return null}function v(j){return j.map(function(T,P){var z,q,R;return typeof T=="object"?R=(q=(z=T.dataKey)!==null&&z!==void 0?z:T.key)!==null&&q!==void 0?q:P:R=P,new f.Column(R,T,P)})}function C(j,T,P,z,q,R,F){var $=(0,p.getTheme)(z),W;j==="head"?W=q.headStyles:j==="body"?W=q.bodyStyles:j==="foot"&&(W=q.footStyles);var he=(0,y.assign)({},$.table,$[j],q.styles,W),ne=q.columnStyles[T.dataKey]||q.columnStyles[T.index]||{},X=j==="body"?ne:{},K=j==="body"&&P%2===0?(0,y.assign)({},$.alternateRow,q.alternateRowStyles):{},ee=(0,p.defaultStyles)(R),de=(0,y.assign)({},ee,he,K,X);return(0,y.assign)(de,F)}},664:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var d=u(420),f=u(260),h=u(744),p=u(356),y=u(136),x=u(224);function _(ne,X){var K=X.settings,ee=K.startY,de=K.margin,xe={x:de.left,y:ee},M=X.getHeadHeight(X.columns)+X.getFootHeight(X.columns),J=ee+de.bottom+M;if(K.pageBreak==="avoid"){var B=X.body,ae=B.reduce(function(we,Se){return we+Se.height},0);J+=ae}var le=new h.DocHandler(ne);(K.pageBreak==="always"||K.startY!=null&&J>le.pageSize().height)&&(he(le),xe.y=de.top),X.callWillDrawPageHooks(le,xe);var ge=(0,p.assign)({},xe);X.startPageNumber=le.pageNumber(),K.horizontalPageBreak?w(le,X,ge,xe):(le.applyStyles(le.userStyles),(K.showHead==="firstPage"||K.showHead==="everyPage")&&X.head.forEach(function(we){return q(le,X,we,xe,X.columns)}),le.applyStyles(le.userStyles),X.body.forEach(function(we,Se){var Le=Se===X.body.length-1;z(le,X,we,Le,ge,xe,X.columns)}),le.applyStyles(le.userStyles),(K.showFoot==="lastPage"||K.showFoot==="everyPage")&&X.foot.forEach(function(we){return q(le,X,we,xe,X.columns)})),(0,d.addTableBorder)(le,X,ge,xe),X.callEndPageHooks(le,xe),X.finalY=xe.y,ne.lastAutoTable=X,ne.previousAutoTable=X,ne.autoTable&&(ne.autoTable.previous=X),le.applyStyles(le.userStyles)}l.drawTable=_;function w(ne,X,K,ee){var de=(0,x.calculateAllColumnsCanFitInPage)(ne,X),xe=X.settings;if(xe.horizontalPageBreakBehaviour==="afterAllRows")de.forEach(function(ae,le){ne.applyStyles(ne.userStyles),le>0?W(ne,X,K,ee,ae.columns,!0):A(ne,X,ee,ae.columns),S(ne,X,K,ee,ae.columns),C(ne,X,ee,ae.columns)});else for(var M=-1,J=de[0],B=function(){var ae=M;if(J){ne.applyStyles(ne.userStyles);var le=J.columns;M>=0?W(ne,X,K,ee,le,!0):A(ne,X,ee,le),ae=v(ne,X,M+1,ee,le),C(ne,X,ee,le)}var ge=ae-M;de.slice(1).forEach(function(we){ne.applyStyles(ne.userStyles),W(ne,X,K,ee,we.columns,!0),v(ne,X,M+1,ee,we.columns,ge),C(ne,X,ee,we.columns)}),M=ae};M<X.body.length-1;)B()}function A(ne,X,K,ee){var de=X.settings;ne.applyStyles(ne.userStyles),(de.showHead==="firstPage"||de.showHead==="everyPage")&&X.head.forEach(function(xe){return q(ne,X,xe,K,ee)})}function S(ne,X,K,ee,de){ne.applyStyles(ne.userStyles),X.body.forEach(function(xe,M){var J=M===X.body.length-1;z(ne,X,xe,J,K,ee,de)})}function v(ne,X,K,ee,de,xe){ne.applyStyles(ne.userStyles),xe=xe??X.body.length;var M=Math.min(K+xe,X.body.length),J=-1;return X.body.slice(K,M).forEach(function(B,ae){var le=K+ae===X.body.length-1,ge=$(ne,X,le,ee);B.canEntireRowFit(ge,de)&&(q(ne,X,B,ee,de),J=K+ae)}),J}function C(ne,X,K,ee){var de=X.settings;ne.applyStyles(ne.userStyles),(de.showFoot==="lastPage"||de.showFoot==="everyPage")&&X.foot.forEach(function(xe){return q(ne,X,xe,K,ee)})}function j(ne,X,K){var ee=K.getLineHeight(ne.styles.fontSize),de=ne.padding("vertical"),xe=Math.floor((X-de)/ee);return Math.max(0,xe)}function T(ne,X,K,ee){var de={};ne.spansMultiplePages=!0,ne.height=0;for(var xe=0,M=0,J=K.columns;M<J.length;M++){var B=J[M],ae=ne.cells[B.index];if(ae){Array.isArray(ae.text)||(ae.text=[ae.text]);var le=new f.Cell(ae.raw,ae.styles,ae.section);le=(0,p.assign)(le,ae),le.text=[];var ge=j(ae,X,ee);ae.text.length>ge&&(le.text=ae.text.splice(ge,ae.text.length));var we=ee.scaleFactor(),Se=ee.getLineHeightFactor();ae.contentHeight=ae.getContentHeight(we,Se),ae.contentHeight>=X&&(ae.contentHeight=X,le.styles.minCellHeight-=X),ae.contentHeight>ne.height&&(ne.height=ae.contentHeight),le.contentHeight=le.getContentHeight(we,Se),le.contentHeight>xe&&(xe=le.contentHeight),de[B.index]=le}}var Le=new f.Row(ne.raw,-1,ne.section,de,!0);Le.height=xe;for(var De=0,Ve=K.columns;De<Ve.length;De++){var B=Ve[De],le=Le.cells[B.index];le&&(le.height=Le.height);var ae=ne.cells[B.index];ae&&(ae.height=ne.height)}return Le}function P(ne,X,K,ee){var de=ne.pageSize().height,xe=ee.settings.margin,M=xe.top+xe.bottom,J=de-M;X.section==="body"&&(J-=ee.getHeadHeight(ee.columns)+ee.getFootHeight(ee.columns));var B=X.getMinimumRowHeight(ee.columns,ne),ae=B<K;if(B>J)return console.error("Will not be able to print row ".concat(X.index," correctly since it's minimum height is larger than page height")),!0;if(!ae)return!1;var le=X.hasRowSpan(ee.columns),ge=X.getMaxCellHeight(ee.columns)>J;return ge?(le&&console.error("The content of row ".concat(X.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(le||ee.settings.rowPageBreak==="avoid")}function z(ne,X,K,ee,de,xe,M){var J=$(ne,X,ee,xe);if(K.canEntireRowFit(J,M))q(ne,X,K,xe,M);else if(P(ne,K,J,X)){var B=T(K,J,X,ne);q(ne,X,K,xe,M),W(ne,X,de,xe,M),z(ne,X,B,ee,de,xe,M)}else W(ne,X,de,xe,M),z(ne,X,K,ee,de,xe,M)}function q(ne,X,K,ee,de){ee.x=X.settings.margin.left;for(var xe=0,M=de;xe<M.length;xe++){var J=M[xe],B=K.cells[J.index];if(!B){ee.x+=J.width;continue}ne.applyStyles(B.styles),B.x=ee.x,B.y=ee.y;var ae=X.callCellHooks(ne,X.hooks.willDrawCell,B,K,J,ee);if(ae===!1){ee.x+=J.width;continue}R(ne,B,ee);var le=B.getTextPos();(0,y.default)(B.text,le.x,le.y,{halign:B.styles.halign,valign:B.styles.valign,maxWidth:Math.ceil(B.width-B.padding("left")-B.padding("right"))},ne.getDocument()),X.callCellHooks(ne,X.hooks.didDrawCell,B,K,J,ee),ee.x+=J.width}ee.y+=K.height}function R(ne,X,K){var ee=X.styles;if(ne.getDocument().setFillColor(ne.getDocument().getFillColor()),typeof ee.lineWidth=="number"){var de=(0,d.getFillStyle)(ee.lineWidth,ee.fillColor);de&&ne.rect(X.x,K.y,X.width,X.height,de)}else typeof ee.lineWidth=="object"&&(ee.fillColor&&ne.rect(X.x,K.y,X.width,X.height,"F"),F(ne,X,K,ee.lineWidth))}function F(ne,X,K,ee){var de,xe,M,J;ee.top&&(de=K.x,xe=K.y,M=K.x+X.width,J=K.y,ee.right&&(M+=.5*ee.right),ee.left&&(de-=.5*ee.left),B(ee.top,de,xe,M,J)),ee.bottom&&(de=K.x,xe=K.y+X.height,M=K.x+X.width,J=K.y+X.height,ee.right&&(M+=.5*ee.right),ee.left&&(de-=.5*ee.left),B(ee.bottom,de,xe,M,J)),ee.left&&(de=K.x,xe=K.y,M=K.x,J=K.y+X.height,ee.top&&(xe-=.5*ee.top),ee.bottom&&(J+=.5*ee.bottom),B(ee.left,de,xe,M,J)),ee.right&&(de=K.x+X.width,xe=K.y,M=K.x+X.width,J=K.y+X.height,ee.top&&(xe-=.5*ee.top),ee.bottom&&(J+=.5*ee.bottom),B(ee.right,de,xe,M,J));function B(ae,le,ge,we,Se){ne.getDocument().setLineWidth(ae),ne.getDocument().line(le,ge,we,Se,"S")}}function $(ne,X,K,ee){var de=X.settings.margin.bottom,xe=X.settings.showFoot;return(xe==="everyPage"||xe==="lastPage"&&K)&&(de+=X.getFootHeight(X.columns)),ne.pageSize().height-ee.y-de}function W(ne,X,K,ee,de,xe){de===void 0&&(de=[]),xe===void 0&&(xe=!1),ne.applyStyles(ne.userStyles),X.settings.showFoot==="everyPage"&&!xe&&X.foot.forEach(function(J){return q(ne,X,J,ee,de)}),X.callEndPageHooks(ne,ee);var M=X.settings.margin;(0,d.addTableBorder)(ne,X,K,ee),he(ne),X.pageNumber++,X.pageCount++,ee.x=M.left,ee.y=M.top,K.y=M.top,X.callWillDrawPageHooks(ne,ee),X.settings.showHead==="everyPage"&&(X.head.forEach(function(J){return q(ne,X,J,ee,de)}),ne.applyStyles(ne.userStyles))}l.addPage=W;function he(ne){var X=ne.pageNumber();ne.setPage(X+1);var K=ne.pageNumber();return K===X?(ne.addPage(),!0):!1}},224:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function f(p,y,x){var _;x===void 0&&(x={});var w=(0,d.getPageAvailableWidth)(p,y),A=new Map,S=[],v=[],C=[];y.settings.horizontalPageBreakRepeat,Array.isArray(y.settings.horizontalPageBreakRepeat)?C=y.settings.horizontalPageBreakRepeat:(typeof y.settings.horizontalPageBreakRepeat=="string"||typeof y.settings.horizontalPageBreakRepeat=="number")&&(C=[y.settings.horizontalPageBreakRepeat]),C.forEach(function(z){var q=y.columns.find(function(R){return R.dataKey===z||R.index===z});q&&!A.has(q.index)&&(A.set(q.index,!0),S.push(q.index),v.push(y.columns[q.index]),w-=q.wrappedWidth)});for(var j=!0,T=(_=x==null?void 0:x.start)!==null&&_!==void 0?_:0;T<y.columns.length;){if(A.has(T)){T++;continue}var P=y.columns[T].wrappedWidth;if(j||w>=P)j=!1,S.push(T),v.push(y.columns[T]),w-=P;else break;T++}return{colIndexes:S,columns:v,lastIndex:T-1}}function h(p,y){for(var x=[],_=0;_<y.columns.length;_++){var w=f(p,y,{start:_});w.columns.length&&(x.push(w),_=w.lastIndex)}return x}l.calculateAllColumnsCanFitInPage=h},324:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var d=u(420);function f(S,v){h(S,v);var C=[],j=0;v.columns.forEach(function(P){var z=P.getMaxCustomCellWidth(v);z?P.width=z:(P.width=P.wrappedWidth,C.push(P)),j+=P.width});var T=v.getWidth(S.pageSize().width)-j;T&&(T=p(C,T,function(P){return Math.max(P.minReadableWidth,P.minWidth)})),T&&(T=p(C,T,function(P){return P.minWidth})),T=Math.abs(T),!v.settings.horizontalPageBreak&&T>.1/S.scaleFactor()&&(T=T<1?T:Math.round(T),console.warn("Of the table content, ".concat(T," units width could not fit page"))),x(v),_(v,S),y(v)}l.calculateWidths=f;function h(S,v){var C=S.scaleFactor(),j=v.settings.horizontalPageBreak,T=(0,d.getPageAvailableWidth)(S,v);v.allRows().forEach(function(P){for(var z=0,q=v.columns;z<q.length;z++){var R=q[z],F=P.cells[R.index];if(F){var $=v.hooks.didParseCell;v.callCellHooks(S,$,F,P,R,null);var W=F.padding("horizontal");F.contentWidth=(0,d.getStringWidth)(F.text,F.styles,S)+W;var he=(0,d.getStringWidth)(F.text.join(" ").split(/\s+/),F.styles,S);if(F.minReadableWidth=he+F.padding("horizontal"),typeof F.styles.cellWidth=="number")F.minWidth=F.styles.cellWidth,F.wrappedWidth=F.styles.cellWidth;else if(F.styles.cellWidth==="wrap"||j===!0)F.contentWidth>T?(F.minWidth=T,F.wrappedWidth=T):(F.minWidth=F.contentWidth,F.wrappedWidth=F.contentWidth);else{var ne=10/C;F.minWidth=F.styles.minCellWidth||ne,F.wrappedWidth=F.contentWidth,F.minWidth>F.wrappedWidth&&(F.wrappedWidth=F.minWidth)}}}}),v.allRows().forEach(function(P){for(var z=0,q=v.columns;z<q.length;z++){var R=q[z],F=P.cells[R.index];if(F&&F.colSpan===1)R.wrappedWidth=Math.max(R.wrappedWidth,F.wrappedWidth),R.minWidth=Math.max(R.minWidth,F.minWidth),R.minReadableWidth=Math.max(R.minReadableWidth,F.minReadableWidth);else{var $=v.styles.columnStyles[R.dataKey]||v.styles.columnStyles[R.index]||{},W=$.cellWidth||$.minCellWidth;W&&typeof W=="number"&&(R.minWidth=W,R.wrappedWidth=W)}F&&(F.colSpan>1&&!R.minWidth&&(R.minWidth=F.minWidth),F.colSpan>1&&!R.wrappedWidth&&(R.wrappedWidth=F.minWidth))}})}function p(S,v,C){for(var j=v,T=S.reduce(function(ne,X){return ne+X.wrappedWidth},0),P=0;P<S.length;P++){var z=S[P],q=z.wrappedWidth/T,R=j*q,F=z.width+R,$=C(z),W=F<$?$:F;v-=W-z.width,z.width=W}if(v=Math.round(v*1e10)/1e10,v){var he=S.filter(function(ne){return v<0?ne.width>C(ne):!0});he.length&&(v=p(he,v,C))}return v}l.resizeColumns=p;function y(S){for(var v={},C=1,j=S.allRows(),T=0;T<j.length;T++)for(var P=j[T],z=0,q=S.columns;z<q.length;z++){var R=q[z],F=v[R.index];if(C>1)C--,delete P.cells[R.index];else if(F)F.cell.height+=P.height,C=F.cell.colSpan,delete P.cells[R.index],F.left--,F.left<=1&&delete v[R.index];else{var $=P.cells[R.index];if(!$)continue;if($.height=P.height,$.rowSpan>1){var W=j.length-T,he=$.rowSpan>W?W:$.rowSpan;v[R.index]={cell:$,left:he,row:P}}}}}function x(S){for(var v=S.allRows(),C=0;C<v.length;C++)for(var j=v[C],T=null,P=0,z=0,q=0;q<S.columns.length;q++){var R=S.columns[q];if(z-=1,z>1&&S.columns[q+1])P+=R.width,delete j.cells[R.index];else if(T){var F=T;delete j.cells[R.index],T=null,F.width=R.width+P}else{var F=j.cells[R.index];if(!F)continue;if(z=F.colSpan,P=0,F.colSpan>1){T=F,P+=R.width;continue}F.width=R.width+P}}}function _(S,v){for(var C={count:0,height:0},j=0,T=S.allRows();j<T.length;j++){for(var P=T[j],z=0,q=S.columns;z<q.length;z++){var R=q[z],F=P.cells[R.index];if(F){v.applyStyles(F.styles,!0);var $=F.width-F.padding("horizontal");if(F.styles.overflow==="linebreak")F.text=v.splitTextToSize(F.text,$+1/v.scaleFactor(),{fontSize:F.styles.fontSize});else if(F.styles.overflow==="ellipsize")F.text=w(F.text,$,F.styles,v,"...");else if(F.styles.overflow==="hidden")F.text=w(F.text,$,F.styles,v,"");else if(typeof F.styles.overflow=="function"){var W=F.styles.overflow(F.text,$);typeof W=="string"?F.text=[W]:F.text=W}F.contentHeight=F.getContentHeight(v.scaleFactor(),v.getLineHeightFactor());var he=F.contentHeight/F.rowSpan;F.rowSpan>1&&C.count*C.height<he*F.rowSpan?C={height:he,count:F.rowSpan}:C&&C.count>0&&C.height>he&&(he=C.height),he>P.height&&(P.height=he)}}C.count--}}function w(S,v,C,j,T){return S.map(function(P){return A(P,v,C,j,T)})}l.ellipsize=w;function A(S,v,C,j,T){var P=1e4*j.scaleFactor();if(v=Math.ceil(v*P)/P,v>=(0,d.getStringWidth)(S,C,j))return S;for(;v<(0,d.getStringWidth)(S+T,C,j)&&!(S.length<=1);)S=S.substring(0,S.length-1);return S.trim()+T}},964:function(o){if(typeof t>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}o.exports=t}},i={};function s(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return r[o].call(u.exports,u,u.exports,s),u.exports}var a={};return function(){var o=a;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var l=s(340),u=s(776),d=s(664),f=s(972),h=s(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return h.Table}});var p=s(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var y=s(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return y.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return y.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return y.Row}});function x(v){(0,l.default)(v)}o.applyPlugin=x;function _(v,C){var j=(0,u.parseInput)(v,C),T=(0,f.createTable)(v,j);(0,d.drawTable)(v,T)}function w(v,C){var j=(0,u.parseInput)(v,C);return(0,f.createTable)(v,j)}o.__createTable=w;function A(v,C){(0,d.drawTable)(v,C)}o.__drawTable=A;try{var S=s(964);S.jsPDF&&(S=S.jsPDF),x(S)}catch{}o.default=_}(),a}()})})(dQ);const fQ=()=>{var a;const{id:n}=Rc(),e=sn(),{rekapNilai:t}=Yt(o=>o.rekapNilai);var r=(a=t[0])==null?void 0:a.forumQuiz.sekolah;const i=["No","Nama","Asal Sekolah","Nilai"];ie.useEffect(()=>{async function o(){var l=e(Y0(n));if(l.error&&l.error.message==="401")return console.log("getting new access token"),await e(Tt()),o()}o()},[n]);function s(){const o=new bt,l=t.map((d,f)=>{var h,p;return[f+1,((h=d==null?void 0:d.user)==null?void 0:h.nama)||"undefined",((p=d==null?void 0:d.user)==null?void 0:p.sekolah)||"undefined",d.nilai]}),u=i.map(d=>d);o.text("Rekap Nilai Forum Quiz",15,15),o.text(`Sekolah : ${r}`,15,25),o.autoTable({startY:30,head:[u],body:l}),o.save("array_data.pdf")}return c.jsx(ua,{children:c.jsxs("div",{className:"",children:[c.jsx("div",{className:"d-flex justify-content-between align-items-center p-0",children:c.jsxs(ct,{to:`../${n}`,className:"d-flex align-items-center  gap-2 text-decoration-none fs-5 text-black ",children:[c.jsx(Td,{size:24})," Forum Quiz"]})}),c.jsx("hr",{className:"my-3"}),c.jsxs("div",{className:"row mb-3",children:[c.jsxs("div",{className:"input-group col",children:[c.jsx("input",{type:"text",className:"form-control",placeholder:"Search....","aria-label":"Search","aria-describedby":"button-addon2",onChange:o=>setSearch(o.target.value)}),c.jsx("button",{className:"btn btn-outline-secondary",type:"button",id:"Search",children:"Search"})]}),c.jsx("div",{className:"col d-flex justify-content-end",children:c.jsxs("button",{type:"button",className:"btn btn-secondary d-flex align-items-center gap-1 lh-sm bg-white text-black fs-5",onClick:s,children:[c.jsx(Ld,{size:24}),"Export"]})})]}),c.jsx("section",{className:"card-body p-0",children:c.jsx("section",{className:"table-responsive",children:c.jsxs("table",{className:"table table-striped m-0 ",children:[c.jsx("thead",{children:c.jsx("tr",{children:i.map((o,l)=>c.jsx("th",{children:o},l))})}),c.jsx("tbody",{children:t==null?void 0:t.map((o,l)=>{var u,d;return c.jsxs("tr",{style:{cursor:"pointer"},children:[c.jsx("td",{children:l+1}),c.jsx("td",{children:((u=o==null?void 0:o.user)==null?void 0:u.nama)||"undefined"}),c.jsx("td",{children:((d=o==null?void 0:o.user)==null?void 0:d.sekolah)||"undefined"}),c.jsx("td",{children:(o==null?void 0:o.nilai)||0})]},l)})})]})})})]})})},pQ=()=>{const{id:n}=Rc(),e=["No","Soal","jenis","Topik","Jawaban"],{forumQuiz:t}=Yt(s=>s.forumQuiz),[r,i]=ie.useState([]);return ie.useEffect(()=>{var s,a,o;i([]),(s=t[0])==null||s.dongeng.soalPilgans.map(l=>{i(u=>{var d;return[...u,{...l,type:"Pilihan Ganda",topik:(d=t[0])==null?void 0:d.dongeng.title}]})}),(a=t[0])==null||a.dongeng.soalUraianSingkats.map(l=>{i(u=>{var d;return[...u,{...l,type:"Uraian Singkat",topik:(d=t[0])==null?void 0:d.dongeng.title}]})}),(o=t[0])==null||o.dongeng.soalUraianPanjangs.map(l=>{i(u=>{var d;return[...u,{...l,type:"Uraian Panjang",topik:(d=t[0])==null?void 0:d.dongeng.title}]})})},[]),c.jsx(ua,{children:c.jsxs("div",{className:"",children:[c.jsx("div",{className:"d-flex justify-content-between align-items-center p-0",children:c.jsxs(ct,{to:`../${n}`,className:"d-flex align-items-center  gap-2 text-decoration-none fs-5 text-black ",children:[c.jsx(Td,{size:24})," Forum Quiz"]})}),c.jsx("hr",{className:"my-3"}),c.jsxs("div",{className:"row mb-3",children:[c.jsxs("div",{className:"input-group col",children:[c.jsx("input",{type:"text",className:"form-control",placeholder:"Search....","aria-label":"Search","aria-describedby":"button-addon2",onChange:s=>setSearch(s.target.value)}),c.jsx("button",{className:"btn btn-outline-secondary",type:"button",id:"Search",children:"Search"})]}),c.jsx("div",{className:"col d-flex justify-content-end",children:c.jsxs("button",{type:"button",className:"btn btn-secondary d-flex align-items-center gap-1 lh-sm bg-white text-black fs-5",children:[c.jsx(Ld,{size:24}),"Export"]})})]}),c.jsx("section",{className:"card-body p-0",children:c.jsx("section",{className:"table-responsive",children:c.jsxs("table",{className:"table table-striped m-0 ",children:[c.jsx("thead",{children:c.jsx("tr",{children:e.map((s,a)=>c.jsx("th",{children:s},a))})}),c.jsx("tbody",{children:r==null?void 0:r.map((s,a)=>c.jsxs("tr",{children:[c.jsx("td",{children:a+1}),c.jsx("td",{children:s.soal}),c.jsx("td",{children:s.type}),c.jsx("td",{children:s.topik}),c.jsx("td",{children:s.jawaban})]},a))})]})})})]})})},gQ=()=>{const n=sn(),e=zn.getCookie("userID"),[t,r]=ie.useState();async function i(){const a=await n(i2({id_user:e,token:t}));if(a.error){if(a.error.message==="unauthorized")return console.log("getting new access token"),await n(Tt()),i();fn.fire({icon:"error",title:"Oops...",text:a.error.message})}else fn.fire({icon:"success",title:"Success",text:"Success Join Forum"});document.getElementById("showModalJoinQuiz").click(),await n(X0(e))}return c.jsxs("section",{children:[c.jsx("button",{type:"button",className:"btn btn-primary d-none","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",id:"showModalJoinQuiz",children:"Launch static backdrop modal"}),c.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:c.jsx("div",{className:"modal-dialog modal-dialog-centered",children:c.jsxs("div",{className:"modal-content ",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Join Quiz"}),c.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),c.jsx("div",{className:"modal-body",children:c.jsx("input",{type:"text",className:"form-control",placeholder:"Input Your Token",onChange:s=>r(s.target.value)})}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),c.jsx("button",{type:"button",className:"btn btn-primary",onClick:i,disabled:!t,children:"Join Quiz"})]})]})})})]})},mQ=()=>{const n=sn();var e=new Date;const t=zn.getCookie("userID"),{rekapNilai:r,isLoading:i}=Yt(a=>a.rekapNilai);async function s(){const a=await n(X0(t));if(a.error&&a.error.message==="401")return console.log("getting new access token"),await n(Tt()),s()}return ie.useEffect(()=>{t&&s()},[]),c.jsxs(o5,{children:[c.jsx("div",{style:{minHeight:"calc(100vh - 76px)"},className:"bg-secondary-light d-flex",children:c.jsxs("section",{className:"container h-100 bg-white rounded-2 mt-5 p-4 shadow  mx-1 mx-sm-auto",children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[c.jsx("div",{children:c.jsxs(ct,{className:"d-flex align-items-center gap-3 text-decoration-none text-dark fs-5",to:"/",children:[c.jsx(Td,{size:24}),"Beranda"]})}),c.jsx("div",{children:c.jsxs("button",{className:"d-flex align-items-center gap-2 btn btn-outline-dark",onClick:()=>document.getElementById("showModalJoinQuiz").click(),children:[c.jsx(Ld,{size:24}),"Join Quiz"]})})]}),c.jsx("hr",{})]}),i?c.jsx("section",{className:"text-center d-flex justify-content-center align-items-center",style:{height:"300px"},children:c.jsx(Fc,{})}):c.jsxs(c.Fragment,{children:[c.jsxs("table",{className:"table table-striped",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{scope:"col",children:"No"}),c.jsx("th",{scope:"col",children:"Judul"}),c.jsx("th",{scope:"col",children:"Topik"}),c.jsx("th",{scope:"col",children:"Status"})]})}),c.jsx("tbody",{children:r==null?void 0:r.map((a,o)=>{var u,d,f,h,p;var l=a.nilai?"Selesai":new Date((u=a==null?void 0:a.forumQuiz)==null?void 0:u.access_date)>e?"Belum Dibuka":new Date((d=a==null?void 0:a.forumQuiz)==null?void 0:d.expired_date)<e?"Telah Expired":"Belum Selesai";return c.jsxs("tr",{className:"align-middle",children:[c.jsx("th",{scope:"row",children:o+1}),c.jsx("td",{children:((f=a==null?void 0:a.forumQuiz)==null?void 0:f.judul)||"undefined"}),c.jsx("td",{children:((p=(h=a==null?void 0:a.forumQuiz)==null?void 0:h.dongeng)==null?void 0:p.title)||"undefined"}),c.jsx("td",{children:l}),c.jsx("td",{children:l==="Selesai"?c.jsx(ct,{to:`/quiz/${a==null?void 0:a.id}`,className:"btn btn-success w-100",children:"Hasil"}):c.jsx(ct,{to:`/quiz/${a==null?void 0:a.id}`,className:`btn btn-primary bg-secondary w-100 ${l==="Belum Selesai"?"":"disabled"}`,children:"Kerjakan"})})]},a.id)})})]}),(r==null?void 0:r.length)===0&&c.jsx("div",{className:"d-flex align-items-center justify-content-center text-center fs-3",style:{height:"300px"},children:"Belum Bergabung Dalam Quiz"})]})]})}),c.jsx(gQ,{})]})},vQ=({soal:n,setIndexSoalDisplayed:e,displayedSoal:t,setSoal:r,handleSubmitQuiz:i,timer:s})=>{var l,u,d,f,h,p,y,x,_,w,A;function a(S){r(v=>v.map(C=>{var j;return C.index===((j=t[0])==null?void 0:j.index)?{...C,jawaban_user:S.target.value}:C}))}const o=S=>{const v=Math.floor(S/3600),C=Math.floor(S%3600/60),j=S%60;return`${v<0?0:String(v).padStart(2,"0")}:${C<0?0:String(C).padStart(2,"0")}:${j<0?0:String(j).padStart(2,"0")}`};return c.jsx("section",{className:"container mt-5 mb-5",children:c.jsxs("section",{className:"row",children:[c.jsx("section",{className:"col-xl-9",children:c.jsx("section",{className:"card p-4",style:{minHeight:"70vh"},children:c.jsxs("section",{className:"card-body p-0 position-relative",children:[c.jsxs("div",{className:"",children:[c.jsxs("div",{className:"d-flex justify-content-between align-items-center py-2",children:[c.jsxs("p",{className:"m-0",children:[(l=t[0])==null?void 0:l.index,"/",n.length]}),c.jsx("p",{className:"m-0",children:o(s)})]}),c.jsx("hr",{className:"m-0"})]}),((u=t[0])==null?void 0:u.jenis)==="pilgan"&&c.jsx(xQ,{displayedSoal:t,soal:n,setSoal:r}),((d=t[0])==null?void 0:d.jenis)==="uraianSingkat"&&c.jsxs("div",{className:"my-3",children:[c.jsx("p",{className:"fs-4",children:(f=t[0])==null?void 0:f.soal}),c.jsx("input",{type:"text",className:"form-control",placeholder:"Masukkan Jawaban Anda",onChange:a,value:(h=t[0])==null?void 0:h.jawaban_user})]}),((p=t[0])==null?void 0:p.jenis)==="uraianPanjang"&&c.jsxs("div",{className:"my-3",children:[c.jsx("p",{className:"fs-4",children:(y=t[0])==null?void 0:y.soal}),c.jsx("textarea",{type:"text",className:"form-control",placeholder:"Masukkan Jawaban Anda",rows:18,onChange:a,value:(x=t[0])==null?void 0:x.jawaban_user})]}),c.jsxs("div",{className:"w-100 d-flex justify-content-between mt-4 position-absolute bottom-0",children:[c.jsx("button",{className:`btn bg-secondary-light text-white ${((_=t[0])==null?void 0:_.index)===1?"disabled":""}`,onClick:()=>e(S=>S-1),children:"Kembali"}),c.jsx("button",{className:`btn bg-primary text-white ${((w=t[0])==null?void 0:w.index)===n.length?"disabled d-none":""}`,onClick:()=>e(S=>S+1),children:"Lanjut"}),((A=t[0])==null?void 0:A.index)===n.length?c.jsx("button",{className:"btn btn-success bg-night text-white",onClick:i,children:"Submit"}):""]})]})})}),c.jsx("section",{className:"col-xl-3",children:c.jsxs("section",{className:"card p-4 mt-3 mt-xl-0",children:[c.jsx("section",{className:"card-header fw-medium bg-secondary-light text-white",children:"Navigasi Soal"}),c.jsxs("section",{className:"card-body pt-2 pb-0 border position-relative mt-4",children:[c.jsx("p",{className:"mb-0 position-absolute",style:{top:"-13px"},children:"Soal Pilihan Ganda"}),c.jsx("section",{className:"card-body row-soal px-0",children:n.filter(S=>S.jenis==="pilgan").map((S,v)=>{var C;return c.jsx("section",{className:`card d-flex align-items-center justify-content-center border-2 ${S.index===((C=t[0])==null?void 0:C.index)?"bg-primary text-white":S.jawaban_user?"bg-secondary text-white":""}`,style:{cursor:"pointer"},onClick:()=>e(S.index),children:c.jsx("p",{className:"my-auto p-2 fw-semibold",children:S.index})},v)})})]}),c.jsxs("section",{className:"card-body pt-2 pb-0 border position-relative mt-4",children:[c.jsx("p",{className:"mb-0 position-absolute",style:{top:"-13px"},children:"Soal Uraian Singkat"}),c.jsx("section",{className:"card-body row-soal px-0",children:n.filter(S=>S.jenis==="uraianSingkat").map((S,v)=>{var C;return c.jsx("section",{className:`card d-flex align-items-center justify-content-center border-2 ${S.index===((C=t[0])==null?void 0:C.index)?"bg-primary text-white":S.jawaban_user?"bg-secondary text-white":""}`,style:{cursor:"pointer"},onClick:()=>e(S.index),children:c.jsx("p",{className:"my-auto p-2 fw-semibold",children:S.index})},v)})})]}),c.jsxs("section",{className:"card-body pt-2 pb-0 border position-relative mt-4",children:[c.jsx("p",{className:"mb-0 position-absolute",style:{top:"-13px"},children:"Soal Pilihan Ganda"}),c.jsx("section",{className:"card-body row-soal px-0",children:n.filter(S=>S.jenis==="uraianPanjang").map((S,v)=>{var C;return c.jsx("section",{className:`card d-flex align-items-center justify-content-center border-2 ${S.index===((C=t[0])==null?void 0:C.index)?"bg-primary text-white":S.jawaban_user?"bg-secondary text-white":""}`,style:{cursor:"pointer"},onClick:()=>e(S.index),children:c.jsx("p",{className:"my-auto p-2 fw-semibold",children:S.index})},v)})})]})]})})]})})},yQ=({soal:n,setIndexSoalDisplayed:e,setTimer:t})=>c.jsx("main",{className:"container my-lg-5 my-2 bg-white rounded-0 rounded-md-2 shadow mx-1 mx-md-auto",children:c.jsxs("section",{className:"p-4",children:[c.jsx("h1",{className:"text-dark",children:"Aturan"}),c.jsx("p",{className:"text-dark mt-4 mb-4",children:"Kuis Sub-modul Pengenalan Dongeng berfungsi untuk menguji pengetahuan Anda tentang materi yang telah dipelajari di sub-modul ini."}),c.jsxs("p",{className:"text-dark",children:["Terdapat ",n.length," pertanyaan yang harus dikerjakan dalam ujian ini. Beberapa ketentuan dari ujian ini adalah:"]}),c.jsxs("ul",{className:"mt-4 mb-4",children:[c.jsx("li",{className:"",children:c.jsx("p",{className:"text-dark",children:"- Syarat nilai kelulusan 80"})}),c.jsx("li",{className:"",children:c.jsx("p",{className:"text-dark",children:"- Durasi quiz: 60 menit"})})]}),c.jsx("p",{className:"text-dark",children:"Apabila tidak memenuhi syarat kelulusan, Manfaatkan waktu tunggu tersebut untuk mempelajari kembali materi sebelumnya, ya."}),c.jsx("p",{className:"text-dark",children:"Selamat Mengerjakan!"}),c.jsx("section",{className:"d-flex justify-content-start ",children:c.jsx("button",{className:"btn btn-lg btn-primary mt-4",onClick:()=>{t(60*60),e(1)},children:"Mulai Quiz"})})]})}),wQ=({nilai:n})=>c.jsx("main",{className:"container my-lg-5 my-2 bg-white rounded-0 rounded-md-2 shadow mx-1 mx-lg-0",children:c.jsxs("section",{className:"p-4 d-flex flex-column align-items-center justify-content-center gap-4",children:[c.jsx("h1",{className:"text-dark",children:"Hasil Quiz"}),c.jsx("div",{className:`rounded-circle d-flex align-items-center justify-content-center ${n>=80?"bg-success text-white":"bg-danger text-white"}`,style:{height:"100px",width:"100px"},children:n}),c.jsx(ct,{to:"/quiz",className:"btn btn-primary",children:"Kembali ke Quiz"})]})}),bQ=()=>{var T,P,z,q,R,F;const{id:n}=Rc(),e=sn(),{forumQuiz:t,isLoading:r}=Yt($=>$.forumQuiz),i=Yt($=>$.rekapNilai.rekapNilai[0]),s=(P=(T=t[0])==null?void 0:T.dongeng)==null?void 0:P.soalPilgans,a=(q=(z=t[0])==null?void 0:z.dongeng)==null?void 0:q.soalUraianSingkats,o=(F=(R=t[0])==null?void 0:R.dongeng)==null?void 0:F.soalUraianPanjangs,[l,u]=ie.useState([]),[d,f]=ie.useState(0);ie.useEffect(()=>{f((i==null?void 0:i.nilai)||0)},[i]),ie.useEffect(()=>{u([...(s||[]).map(($,W)=>({...$,index:W+1,jenis:"pilgan",jawaban_user:""})),...(a||[]).map(($,W)=>({...$,index:s.length+W+1,jenis:"uraianSingkat",jawaban_user:""})),...(o||[]).map(($,W)=>({...$,index:s.length+a.length+W+1,jenis:"uraianPanjang",jawaban_user:""}))])},[s,a,o]);async function h($){const W=await e(V0($));if(W.error&&W.error.message==="401")return console.log("getting new access token"),await e(Tt()),h()}ie.useEffect(()=>{i!=null&&i.id_Forum&&h(i.id_Forum)},[i]);async function p(){const $=await e(a2(n));if($.error&&$.error.message==="401")return console.log("getting new access token"),await e(Tt()),p()}ie.useEffect(()=>{p()},[]);const[y,x]=ie.useState(0),_=l.filter($=>$.index===y);function w($){let W=0;return $.map(he=>{he.jawaban_user===he.jawaban&&(W=W+1)}),W/$.length*100}function A($){let W=0;return $.map(he=>{he.jawaban_user.toLowerCase()===he.jawaban.toLowerCase()&&(W=W+1)}),W/$.length*100}async function S(){let $=w(l.filter(X=>X.jenis==="pilgan")),W=A(l.filter(X=>X.jenis==="uraianSingkat"));var he=($+W)/2;const ne=await e(s2({id:n,nilai:he}));if(ne.error&&ne.error.message==="401")return console.log("getting new access token"),await e(Tt()),S();f(he),fn.fire({title:"Submitted!",text:"Your quiz has been submitted.",icon:"success"})}function v(){fn.fire({title:"Are you sure?",text:"Pastikan semua soal terisi!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Submit it!"}).then($=>{$.isConfirmed&&S()})}const[C,j]=ie.useState();return ie.useEffect(()=>{const $=setInterval(()=>{j(C-1)},1e3);return C===0&&fn.fire({title:"Times Out?",icon:"warning",showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"Oke"}).then(W=>{W.isConfirmed&&S()}),()=>clearInterval($)},[C]),c.jsx(o5,{children:c.jsx("div",{style:{minHeight:"calc(100vh - 76px)"},className:"d-flex align-items-center justify-content-center bg-secondary-light",children:r?c.jsx(Fc,{}):d>0?c.jsx(wQ,{nilai:d}):y===0?c.jsx(yQ,{soal:l,setIndexSoalDisplayed:x,setTimer:j}):c.jsx(vQ,{soal:l,setSoal:u,setIndexSoalDisplayed:x,displayedSoal:_,handleSubmitQuiz:v,timer:C})})})},xQ=({displayedSoal:n,soal:e,setSoal:t})=>{var i,s,a,o,l,u,d,f,h,p,y,x,_,w,A,S,v,C,j,T,P;function r(z){t(q=>q.map(R=>{var F;return R.index===((F=n[0])==null?void 0:F.index)?{...R,jawaban_user:z.target.value}:R}))}return c.jsxs("div",{className:"my-4",children:[c.jsx("p",{className:"fs-4",children:(i=n[0])==null?void 0:i.soal}),c.jsxs("div",{className:"mt-3 fs-5 d-flex flex-column gap-2",children:[c.jsxs("label",{className:"form-check",children:[c.jsx("input",{type:"radio",className:"form-check-input",name:"jawaban_user",value:(s=n[0])==null?void 0:s.opsi_1,onChange:r,checked:((o=e[((a=n[0])==null?void 0:a.index)-1])==null?void 0:o.jawaban_user)===((l=n[0])==null?void 0:l.opsi_1)}),c.jsx("span",{className:"form-check-label",children:(u=n[0])==null?void 0:u.opsi_1})]}),c.jsxs("label",{className:"form-check",children:[c.jsx("input",{type:"radio",className:"form-check-input",name:"jawaban_user",value:(d=n[0])==null?void 0:d.opsi_2,onChange:r,checked:((h=e[((f=n[0])==null?void 0:f.index)-1])==null?void 0:h.jawaban_user)===((p=n[0])==null?void 0:p.opsi_2)}),c.jsx("span",{className:"form-check-label",children:(y=n[0])==null?void 0:y.opsi_2})]}),c.jsxs("label",{className:"form-check",children:[c.jsx("input",{type:"radio",className:"form-check-input",name:"jawaban_user",value:(x=n[0])==null?void 0:x.opsi_3,onChange:r,checked:((w=e[((_=n[0])==null?void 0:_.index)-1])==null?void 0:w.jawaban_user)===((A=n[0])==null?void 0:A.opsi_3)}),c.jsx("span",{className:"form-check-label",children:(S=n[0])==null?void 0:S.opsi_3})]}),c.jsxs("label",{className:"form-check",children:[c.jsx("input",{type:"radio",className:"form-check-input",name:"jawaban_user",value:(v=n[0])==null?void 0:v.opsi_4,onChange:r,checked:((j=e[((C=n[0])==null?void 0:C.index)-1])==null?void 0:j.jawaban_user)===((T=n[0])==null?void 0:T.opsi_4)}),c.jsx("span",{className:"form-check-label",children:(P=n[0])==null?void 0:P.opsi_4})]})]})]})},SQ=()=>c.jsxs(c.Fragment,{children:[c.jsx(vl,{}),c.jsx("main",{children:c.jsx("section",{className:"container mt-5 mb-5",children:c.jsxs("section",{className:"card",children:[c.jsxs("section",{className:"card-header",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-circle-fill text-danger",viewBox:"0 0 16 16",children:c.jsx("circle",{cx:"8",cy:"8",r:"8"})}),"",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-circle-fill text-warning",viewBox:"0 0 16 16",children:c.jsx("circle",{cx:"8",cy:"8",r:"8"})}),"",c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-circle-fill text-success",viewBox:"0 0 16 16",children:c.jsx("circle",{cx:"8",cy:"8",r:"8"})})]}),c.jsx("section",{className:"card-body",children:c.jsx("form",{children:c.jsx("textarea",{required:!0,cols:"",rows:"15",className:"form-control p-2",placeholder:"Tulis ceritanya disini."})})}),c.jsx("section",{className:"card-footer",children:c.jsx("button",{className:"btn btn-orange float-right text-white",children:"Submit"})})]})})}),c.jsx(yl,{})]});function AQ(){return c.jsx(c.Fragment,{children:c.jsx(mD,{children:c.jsxs(cD,{children:[c.jsx(Mt,{path:"/",element:c.jsx(gr.home,{})}),c.jsx(Mt,{path:"/profile",element:c.jsx(gr.profile,{})}),c.jsx(Mt,{path:"/profile/update",element:c.jsx(gr.updateProfile,{})}),c.jsx(Mt,{path:"/katalog",element:c.jsx(gr.katalog,{})}),c.jsx(Mt,{path:"/Petunjuk",element:c.jsx(gr.petunjuk,{})}),c.jsx(Mt,{path:"/Petunjuk/siswa",element:c.jsx(gr.petunjukSiswa,{})}),c.jsx(Mt,{path:"/Petunjuk/guru",element:c.jsx(gr.petunjukUmum,{})}),c.jsx(Mt,{path:"/Petunjuk/umum",element:c.jsx(gr.petunjukGuru,{})}),c.jsx(Mt,{path:"/dongeng/detail/:id",element:c.jsx(gr.detail,{})}),c.jsx(Mt,{path:"/dongeng/read/:id",element:c.jsx(gr.dongengView,{})}),c.jsx(Mt,{path:"/dongeng/write",element:c.jsx(SQ,{})}),c.jsx(Mt,{path:"/login",element:c.jsx(gr.login,{})}),c.jsx(Mt,{path:"/register",element:c.jsx(gr.register,{})}),c.jsx(Mt,{path:"/logout",element:c.jsx(gr.logout,{})}),c.jsx(Mt,{path:"/forgot-password",element:c.jsx(gr.forgotPassword,{})}),c.jsx(Mt,{path:"/verify",element:c.jsx(gr.verify,{})}),c.jsxs(Mt,{path:"/quiz",children:[c.jsx(Mt,{index:!0,element:c.jsx(mQ,{})}),c.jsx(Mt,{path:":id",element:c.jsx(bQ,{})})]}),c.jsx(Mt,{path:"/test",element:c.jsx(GX,{})}),c.jsxs(Mt,{path:"/admin",children:[c.jsx(Mt,{index:!0,element:c.jsx(XX,{})}),c.jsxs(Mt,{path:"bank-soal",children:[c.jsx(Mt,{index:!0,element:c.jsx(KX,{})}),c.jsx(Mt,{path:"pilihan-ganda",element:c.jsx(NW,{})}),c.jsx(Mt,{path:"uraian-singkat",element:c.jsx(iJ,{})}),c.jsx(Mt,{path:"uraian-panjang",element:c.jsx(hJ,{})})]}),c.jsxs(Mt,{path:"dongeng",children:[c.jsx(Mt,{index:!0,element:c.jsx(gr.dongeng,{})}),c.jsx(Mt,{path:"update/:id",element:c.jsx(gr.updateDongeng,{})})]}),c.jsxs(Mt,{path:"users",children:[c.jsx(Mt,{index:!0,element:c.jsx(gr.user,{})}),c.jsx(Mt,{path:"add",element:c.jsx(gr.addUser,{})}),c.jsx(Mt,{path:"update/:id",element:c.jsx(gr.updateUser,{})})]}),c.jsxs(Mt,{path:"forum-quiz",children:[c.jsx(Mt,{index:!0,element:c.jsx(hW,{})}),c.jsx(Mt,{path:":id",element:c.jsx(_W,{})}),c.jsx(Mt,{path:":id/rekap",element:c.jsx(fQ,{})}),c.jsx(Mt,{path:":id/soal",element:c.jsx(pQ,{})})]})]}),c.jsx(Mt,{path:"*",element:c.jsx(gr.err404,{})})]})})})}const _Q=_7({reducer:{auth:b9,soalPilihanGanda:pW,soalUraianSingkat:QX,soalUraianPanjang:aJ,forumQuiz:T9,dongeng:P9,rekapNilai:bW,user:y9,usersAdmin:BW}});BS.createRoot(document.getElementById("root")).render(c.jsx(Qu.StrictMode,{children:c.jsx(YD,{store:_Q,children:c.jsx(AQ,{})})}));export{bn as _,Ri as c,fm as g};
